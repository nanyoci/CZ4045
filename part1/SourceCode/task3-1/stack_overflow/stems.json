["i", "am", "tri", "to", "learn", "hook", "and", "the", "usest", "method", "ha", "made", "me", "confus", ".", "i", "am", "assign", "an", "initi", "valu", "to", "a", "state", "in", "the", "form", "of", "an", "array", ".", "the", "set", "method", "in", "usest", "is", "not", "work", "for", "me", "even", "with", "spread", "(", "...", ")", "or", "without", "spread", "oper", ".", "i", "have", "made", "an", "api", "on", "anoth", "pc", "that", "i", "am", "call", "and", "fetch", "the", "data", "which", "i", "want", "to", "set", "into", "the", "state", ".", "here", "is", "my", "code", ":", "import", "react", ",", "{", "usest", ",", "useeffect", "}", "from", "``", "react", "''", ";", "import", "reactdom", "from", "``", "react-dom", "''", ";", "const", "stateselector", "=", "(", ")", "=", ">", "{", "const", "initialvalu", "=", "[", "{", "categori", ":", "``", "''", ",", "photo", ":", "``", "''", ",", "descript", ":", "``", "''", ",", "id", ":", "0", ",", "name", ":", "``", "''", ",", "rate", ":", "0", "}", "]", ";", "const", "[", "movi", ",", "setmovi", "]", "=", "usest", "(", "initialvalu", ")", ";", "useeffect", "(", "(", ")", "=", ">", "{", "(", "async", "function", "(", ")", "{", "tri", "{", "//const", "respons", "=", "await", "fetch", "(", "//", "`", "http", ":", "//192.168.1.164:5000/movies/display", "`", "//", ")", ";", "//const", "json", "=", "await", "response.json", "(", ")", ";", "//const", "result", "=", "json.data.result", ";", "const", "result", "=", "[", "{", "categori", ":", "``", "cat1", "''", ",", "descript", ":", "``", "desc1", "''", ",", "id", ":", "``", "1546514491119", "''", ",", "name", ":", "``", "randomname2", "''", ",", "photo", ":", "null", ",", "rate", ":", "``", "3", "''", "}", ",", "{", "categori", ":", "``", "cat2", "''", ",", "descript", ":", "``", "desc1", "''", ",", "id", ":", "``", "1546837819818", "''", ",", "name", ":", "``", "randomname1", "''", ",", "rate", ":", "``", "5", "''", "}", "]", ";", "console.log", "(", "result", ")", ";", "setmovi", "(", "result", ")", ";", "console.log", "(", "movi", ")", ";", "}", "catch", "(", "e", ")", "{", "console.error", "(", "e", ")", ";", "}", "}", ")", "(", ")", ";", "}", ",", "[", "]", ")", ";", "return", "<", "p", ">", "hello", "<", "/p", ">", ";", "}", ";", "const", "rootel", "=", "document.getelementbyid", "(", "``", "root", "''", ")", ";", "reactdom.rend", "(", "<", "stateselector", "/", ">", ",", "rootel", ")", ";", "the", "setmovi", "(", "result", ")", "as", "well", "as", "setmovi", "(", "...", "result", ")", "is", "not", "work", ".", "could", "use", "some", "help", "here", ".", "i", "expect", "the", "result", "variabl", "to", "be", "push", "into", "the", "movi", "array", ".", "much", "like", "setstat", "in", "class", "compon", "creat", "by", "extend", "react.compon", "or", "react.purecompon", ",", "the", "state", "updat", "use", "the", "updat", "provid", "by", "usest", "hook", "is", "also", "asynchron", ",", "and", "will", "not", "be", "reflect", "immedi", ".", "also", ",", "the", "main", "issu", "here", "is", "not", "just", "the", "asynchron", "natur", "but", "the", "fact", "that", "state", "valu", "are", "use", "by", "function", "base", "on", "their", "current", "closur", ",", "and", "state", "updat", "will", "reflect", "in", "the", "next", "re-rend", "by", "which", "the", "exist", "closur", "are", "not", "affect", ",", "but", "new", "one", "are", "creat", ".", "now", "in", "the", "current", "state", ",", "the", "valu", "within", "hook", "are", "obtain", "by", "exist", "closur", ",", "and", "when", "a", "re-rend", "happen", ",", "the", "closur", "are", "updat", "base", "on", "whether", "the", "function", "is", "recreat", "again", "or", "not", ".", "even", "if", "you", "add", "a", "settimeout", "the", "function", ",", "though", "the", "timeout", "will", "run", "after", "some", "time", "by", "which", "the", "re-rend", "would", "have", "happen", ",", "the", "settimeout", "will", "still", "use", "the", "valu", "from", "it", "previou", "closur", "and", "not", "the", "updat", "one", ".", "setmovi", "(", "result", ")", ";", "console.log", "(", "movi", ")", "//", "movi", "here", "will", "not", "be", "updat", "if", "you", "want", "to", "perform", "an", "action", "on", "state", "updat", ",", "you", "need", "to", "use", "the", "useeffect", "hook", ",", "much", "like", "use", "componentdidupd", "in", "class", "compon", "sinc", "the", "setter", "return", "by", "usest", "doe", "n't", "have", "a", "callback", "pattern", "useeffect", "(", "(", ")", "=", ">", "{", "//", "action", "on", "updat", "of", "movi", "}", ",", "[", "movi", "]", ")", ";", "as", "far", "as", "the", "syntax", "to", "updat", "state", "is", "concern", ",", "setmovi", "(", "result", ")", "will", "replac", "the", "previou", "movi", "valu", "in", "the", "state", "with", "those", "avail", "from", "the", "async", "request", ".", "howev", ",", "if", "you", "want", "to", "merg", "the", "respons", "with", "the", "previous", "exist", "valu", ",", "you", "must", "use", "the", "callback", "syntax", "of", "state", "updat", "along", "with", "the", "correct", "use", "of", "spread", "syntax", "like", "setmovi", "(", "prevmovi", "=", ">", "(", "[", "...", "prevmovi", ",", "...", "result", "]", ")", ")", ";", "addion", "detail", "to", "the", "previou", "answer", ":", "while", "react", "'s", "setstat", "is", "asynchron", "(", "both", "class", "and", "hook", ")", ",", "and", "it", "'s", "tempt", "to", "use", "that", "fact", "to", "explain", "the", "observ", "behaviour", ",", "it", "is", "not", "the", "reason", "whi", "it", "happen", ".", "tldr", ":", "the", "reason", "is", "a", "closur", "scope", "around", "an", "immut", "const", "valu", ".", "solut", ":", "read", "the", "valu", "in", "render", "function", "(", "not", "insid", "nest", "function", ")", ":", "useeffect", "(", "(", ")", "=", ">", "{", "setmovi", "(", "result", ")", "}", ",", "[", "]", ")", "console.log", "(", "movi", ")", "add", "the", "variabl", "into", "depend", "(", "and", "use", "the", "react-hooks/exhaustive-dep", "eslint", "rule", ")", ":", "useeffect", "(", "(", ")", "=", ">", "{", "setmovi", "(", "result", ")", "}", ",", "[", "]", ")", "useeffect", "(", "(", ")", "=", ">", "{", "console.log", "(", "movi", ")", "}", ",", "[", "movi", "]", ")", "use", "a", "mutabl", "refer", "(", "when", "the", "abov", "is", "not", "possibl", ")", ":", "const", "moviesref", "=", "useref", "(", "initialvalu", ")", "useeffect", "(", "(", ")", "=", ">", "{", "moviesref.curr", "=", "result", "console.log", "(", "moviesref.curr", ")", "}", ",", "[", "]", ")", "explan", "whi", "it", "happen", ":", "if", "async", "wa", "the", "onli", "reason", ",", "it", "would", "be", "possibl", "to", "await", "setstat", "(", ")", ".", "howerv", ",", "both", "prop", "and", "state", "are", "assum", "to", "be", "unchang", "dure", "1", "render", ".", "treat", "this.stat", "as", "if", "it", "were", "immut", ".", "with", "hook", ",", "thi", "assumpt", "is", "enhanc", "by", "use", "constant", "valu", "with", "the", "const", "keyword", ":", "const", "[", "state", ",", "setstat", "]", "=", "usest", "(", "'initi", "'", ")", "the", "valu", "might", "be", "differ", "between", "2", "render", ",", "but", "remain", "a", "constant", "insid", "the", "render", "itself", "and", "insid", "ani", "closur", "(", "function", "that", "live", "longer", "even", "after", "render", "is", "finish", ",", "e.g", ".", "useeffect", ",", "event", "handler", ",", "insid", "ani", "promis", "or", "settimeout", ")", ".", "consid", "follow", "fake", ",", "but", "synchron", ",", "react-lik", "implement", ":", "//", "sync", "implement", ":", "let", "internalst", "let", "renderagain", "const", "setstat", "=", "(", "updatefn", ")", "=", ">", "{", "internalst", "=", "updatefn", "(", "internalst", ")", "renderagain", "(", ")", "}", "const", "usest", "=", "(", "defaultst", ")", "=", ">", "{", "if", "(", "!", "internalst", ")", "{", "internalst", "=", "defaultst", "}", "return", "[", "internalst", ",", "setstat", "]", "}", "const", "render", "=", "(", "compon", ",", "node", ")", "=", ">", "{", "const", "{", "html", ",", "handleclick", "}", "=", "compon", "(", ")", "node.innerhtml", "=", "html", "renderagain", "=", "(", ")", "=", ">", "render", "(", "compon", ",", "node", ")", "return", "handleclick", "}", "//", "test", ":", "const", "mycompon", "=", "(", ")", "=", ">", "{", "const", "[", "x", ",", "setx", "]", "=", "usest", "(", "1", ")", "console.log", "(", "'in", "render", ":", "'", ",", "x", ")", "//", "\u2705", "const", "handleclick", "=", "(", ")", "=", ">", "{", "setx", "(", "current", "=", ">", "current", "+", "1", ")", "console.log", "(", "'in", "handler/effect/promise/settimeout", ":", "'", ",", "x", ")", "//", "\u274c", "not", "updat", "}", "return", "{", "html", ":", "`", "<", "button", ">", "$", "{", "x", "}", "<", "/button", ">", "`", ",", "handleclick", "}", "}", "const", "triggerclick", "=", "render", "(", "mycompon", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", "triggerclick", "(", ")", "triggerclick", "(", ")", "triggerclick", "(", ")", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "i", "just", "finish", "a", "rewrit", "with", "usereduc", ",", "follow", "@", "kentcdob", "articl", "(", "ref", "below", ")", "which", "realli", "gave", "me", "a", "solid", "result", "that", "suffer", "not", "one", "bit", "from", "these", "closur", "problem", ".", "see", ":", "http", ":", "//kentcdodds.com/blog/how-to-use-react-context-effect", "i", "condens", "hi", "readabl", "boilerpl", "to", "my", "prefer", "level", "of", "dryness", "--", "read", "hi", "sandbox", "implement", "will", "show", "you", "how", "it", "actual", "work", ".", "enjoy", ",", "i", "know", "i", "am", "!", "!", "import", "react", "from", "'react", "'", "//", "ref", ":", "http", ":", "//kentcdodds.com/blog/how-to-use-react-context-effect", "const", "applicationdispatch", "=", "react.createcontext", "(", ")", "const", "applicationcontext", "=", "react.createcontext", "(", ")", "function", "statereduc", "(", "state", ",", "action", ")", "{", "if", "(", "state.hasownproperti", "(", "action.typ", ")", ")", "{", "return", "{", "...", "state", ",", "[", "action.typ", "]", ":", "state", "[", "action.typ", "]", "=", "action.newvalu", "}", ";", "}", "throw", "new", "error", "(", "`", "unhandl", "action", "type", ":", "$", "{", "action.typ", "}", "`", ")", ";", "}", "const", "initialst", "=", "{", "keycod", ":", "``", ",", "testcod", ":", "``", ",", "testmod", ":", "fals", ",", "phonenumb", ":", "``", ",", "resultcod", ":", "null", ",", "mobileinfo", ":", "``", ",", "confignam", ":", "``", ",", "appconfig", ":", "{", "}", ",", "}", ";", "function", "dispatchprovid", "(", "{", "children", "}", ")", "{", "const", "[", "state", ",", "dispatch", "]", "=", "react.usereduc", "(", "statereduc", ",", "initialst", ")", ";", "return", "(", "<", "applicationdispatch.provid", "value=", "{", "dispatch", "}", ">", "<", "applicationcontext.provid", "value=", "{", "state", "}", ">", "{", "children", "}", "<", "/applicationcontext.provid", ">", "<", "/applicationdispatch.provid", ">", ")", "}", "function", "usedispatch", "(", "statenam", ")", "{", "const", "context", "=", "react.usecontext", "(", "applicationcontext", ")", ";", "const", "dispatch", "=", "react.usecontext", "(", "applicationdispatch", ")", ";", "return", "[", "context", "[", "statenam", "]", ",", "newvalu", "=", ">", "dispatch", "(", "{", "type", ":", "statenam", ",", "newvalu", "}", ")", "]", ";", "}", "function", "usekeycod", "(", ")", "{", "return", "usedispatch", "(", "'keycod", "'", ")", ";", "}", "function", "usetestcod", "(", ")", "{", "return", "usedispatch", "(", "'testcod", "'", ")", ";", "}", "function", "usetestmod", "(", ")", "{", "return", "usedispatch", "(", "'testmod", "'", ")", ";", "}", "function", "usephonenumb", "(", ")", "{", "return", "usedispatch", "(", "'phonenumb", "'", ")", ";", "}", "function", "useresultcod", "(", ")", "{", "return", "usedispatch", "(", "'resultcod", "'", ")", ";", "}", "function", "usemobileinfo", "(", ")", "{", "return", "usedispatch", "(", "'mobileinfo", "'", ")", ";", "}", "function", "useconfignam", "(", ")", "{", "return", "usedispatch", "(", "'confignam", "'", ")", ";", "}", "function", "useappconfig", "(", ")", "{", "return", "usedispatch", "(", "'appconfig", "'", ")", ";", "}", "export", "{", "dispatchprovid", ",", "usekeycod", ",", "usetestcod", ",", "usetestmod", ",", "usephonenumb", ",", "useresultcod", ",", "usemobileinfo", ",", "useconfignam", ",", "useappconfig", ",", "}", "with", "a", "usag", "similar", "to", "thi", ":", "import", "{", "usehistori", "}", "from", "``", "react-router-dom", "''", ";", "//", "http", ":", "//react-bootstrap.github.io/components/alert", "import", "{", "contain", ",", "row", "}", "from", "'react-bootstrap", "'", ";", "import", "{", "useappconfig", ",", "usekeycod", ",", "usephonenumb", "}", "from", "'", "..", "/", "..", "/applicationdispatchprovid", "'", ";", "import", "{", "controlset", "}", "from", "'", "..", "/", "..", "/components/control-set", "'", ";", "import", "{", "keypadclass", "}", "from", "'", "..", "/", "..", "/utils/style-util", "'", ";", "import", "{", "maskedentri", "}", "from", "'", "..", "/", "..", "/components/masked-entri", "'", ";", "import", "{", "messag", "}", "from", "'", "..", "/", "..", "/components/messag", "'", ";", "import", "{", "simplekeypad", ",", "handlekeypress", ",", "alt_id", "}", "from", "'", "..", "/", "..", "/components/simple-keypad", "'", ";", "export", "const", "altidpag", "=", "(", ")", "=", ">", "{", "const", "histori", "=", "usehistori", "(", ")", ";", "const", "[", "keycod", ",", "setkeycod", "]", "=", "usekeycod", "(", ")", ";", "const", "[", "phonenumb", ",", "setphonenumb", "]", "=", "usephonenumb", "(", ")", ";", "const", "[", "appconfig", ",", "setappconfig", "]", "=", "useappconfig", "(", ")", ";", "const", "keypress", "=", "btn", "=", ">", "{", "const", "maxlen", "=", "appconfig.phonenumberentry.entrylen", ";", "const", "newvalu", "=", "handlekeypress", "(", "btn", ",", "phonenumb", ")", ".slice", "(", "0", ",", "maxlen", ")", ";", "setphonenumb", "(", "newvalu", ")", ";", "}", "const", "dosubmit", "=", "(", ")", "=", ">", "{", "history.push", "(", "'s", "'", ")", ";", "}", "const", "disablebtn", "=", "phonenumber.length", "<", "appconfig.phonenumberentry.entrylen", ";", "return", "(", "<", "contain", "fluid", "classname=", "''", "text-cent", "''", ">", "<", "row", ">", "<", "messag", "{", "...", "{", "msgcolor", ":", "appconfig.pagecolor", ",", "msgline", ":", "appconfig.entrymsgs.altidmsg", "}", "}", "/", ">", "<", "/row", ">", "<", "row", ">", "<", "maskedentri", "{", "...", "{", "...", "appconfig.phonenumberentri", ",", "entrycolor", ":", "appconfig.pagecolor", ",", "entrylin", ":", "phonenumb", "}", "}", "/", ">", "<", "/row", ">", "<", "row", ">", "<", "simplekeypad", "{", "...", "{", "keyboardnam", ":", "alt_id", ",", "themenam", ":", "appconfig.keythem", ",", "keypress", ",", "styleclass", ":", "keypadclass", "}", "}", "/", ">", "<", "/row", ">", "<", "row", ">", "<", "controlset", "{", "...", "{", "btncolor", ":", "appconfig.buttoncolor", ",", "disabl", ":", "disablebtn", ",", "btn", ":", "[", "{", "text", ":", "'submit", "'", ",", "click", ":", "dosubmit", "}", "]", "}", "}", "/", ">", "<", "/row", ">", "<", "/contain", ">", ")", ";", "}", ";", "altidpage.proptyp", "=", "{", "}", ";", "now", "everyth", "persist", "smoothli", "everywher", "across", "all", "my", "page", "nice", "!", "thank", "kent", "!", "useeffect", "ha", "it", "own", "state/lifecycl", ",", "it", "will", "not", "updat", "until", "you", "pass", "a", "function", "in", "paramet", "or", "effect", "destroy", ".", "object", "and", "array", "spread", "or", "rest", "will", "not", "work", "insid", "useeffect", ".", "react.useeffect", "(", "(", ")", "=", ">", "{", "console.log", "(", "``", "effect", "''", ")", ";", "(", "async", "(", ")", "=", ">", "{", "tri", "{", "let", "result", "=", "await", "fetch", "(", "``", "/query/countri", "''", ")", ";", "const", "re", "=", "await", "result.json", "(", ")", ";", "let", "result1", "=", "await", "fetch", "(", "``", "/query/project", "''", ")", ";", "const", "res1", "=", "await", "result1.json", "(", ")", ";", "let", "result11", "=", "await", "fetch", "(", "``", "/query/region", "''", ")", ";", "const", "res11", "=", "await", "result11.json", "(", ")", ";", "setdata", "(", "{", "countri", ":", "re", ",", "project", ":", "res1", ",", "region", ":", "res11", "}", ")", ";", "}", "catch", "{", "}", "}", ")", "(", "data", ")", "}", ",", "[", "setdata", "]", ")", "#", "or", "use", "thi", "useeffect", "(", "(", ")", "=", ">", "{", "(", "async", "(", ")", "=", ">", "{", "tri", "{", "await", "promise.al", "(", "[", "fetch", "(", "``", "/query/countri", "''", ")", ".then", "(", "(", "respons", ")", "=", ">", "response.json", "(", ")", ")", ",", "fetch", "(", "``", "/query/project", "''", ")", ".then", "(", "(", "respons", ")", "=", ">", "response.json", "(", ")", ")", ",", "fetch", "(", "``", "/query/region", "''", ")", ".then", "(", "(", "respons", ")", "=", ">", "response.json", "(", ")", ")", "]", ")", ".then", "(", "(", "[", "countri", ",", "project", ",", "region", "]", ")", "=", ">", "{", "//", "console.log", "(", "countri", ",", "project", ",", "region", ")", ";", "setdata", "(", "{", "countri", ":", "countri", ",", "project", ":", "project", ",", "region", ":", "region", "}", ")", ";", "}", ")", "}", "catch", "{", "console.log", "(", "``", "data", "fetch", "error", "''", ")", "}", "}", ")", "(", ")", "}", ",", "[", "setdata", "]", ")", ";", "//", "replac", "return", "<", "p", ">", "hello", "<", "/p", ">", ";", "//", "with", "return", "<", "p", ">", "{", "json.stringifi", "(", "movi", ")", "}", "<", "/p", ">", ";", "now", "you", "should", "see", ",", "that", "your", "code", "actual", "doe", "work", ".", "what", "doe", "not", "work", "is", "the", "console.log", "(", "movi", ")", ".", "thi", "is", "becaus", "movi", "point", "to", "the", "old", "state", ".", "if", "you", "move", "your", "console.log", "(", "movi", ")", "outsid", "of", "useeffect", ",", "right", "abov", "the", "return", ",", "you", "will", "see", "the", "updat", "movi", "object", ".", "i", "'m", "read", "form", "section", "of", "reactj", "document", "and", "just", "tri", "thi", "code", "to", "demonstr", "onchang", "usag", "(", "jsbin", ")", ".", "var", "react=", "requir", "(", "'react", "'", ")", ";", "var", "controlledform=", "react.createclass", "(", "{", "getinitialst", ":", "function", "(", ")", "{", "return", "{", "valu", ":", "``", "initi", "valu", "''", "}", ";", "}", ",", "handlechang", ":", "function", "(", "event", ")", "{", "console.log", "(", "this.state.valu", ")", ";", "this.setst", "(", "{", "valu", ":", "event.target.valu", "}", ")", ";", "console.log", "(", "this.state.valu", ")", ";", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "input", "type=", "''", "text", "''", "value=", "{", "this.state.valu", "}", "onchange=", "{", "this.handlechang", "}", "/", ">", ")", ";", "}", "}", ")", ";", "react.rend", "(", "<", "controlledform/", ">", ",", "document.getelementbyid", "(", "'mount", "'", ")", ")", ";", "when", "i", "updat", "the", "<", "input/", ">", "valu", "in", "the", "browser", ",", "the", "second", "console.log", "insid", "the", "handlechang", "callback", "print", "the", "same", "valu", "as", "the", "first", "console.log", ",", "whi", "i", "ca", "n't", "see", "the", "result", "of", "this.setst", "(", "{", "valu", ":", "event.target.valu", "}", ")", "in", "the", "scope", "of", "handlechang", "callback", "?", "from", "react", "'s", "document", ":", "setstat", "(", ")", "doe", "not", "immedi", "mutat", "this.stat", "but", "creat", "a", "pend", "state", "transit", ".", "access", "this.stat", "after", "call", "thi", "method", "can", "potenti", "return", "the", "exist", "valu", ".", "there", "is", "no", "guarante", "of", "synchron", "oper", "of", "call", "to", "setstat", "and", "call", "may", "be", "batch", "for", "perform", "gain", ".", "if", "you", "want", "a", "function", "to", "be", "execut", "after", "the", "state", "chang", "occur", ",", "pass", "it", "in", "as", "a", "callback", ".", "this.setst", "(", "{", "valu", ":", "event.target.valu", "}", ",", "function", "(", ")", "{", "console.log", "(", "this.state.valu", ")", ";", "}", ")", ";", "as", "mention", "in", "the", "react", "document", ",", "there", "is", "no", "guarante", "of", "setstat", "be", "fire", "synchron", ",", "so", "your", "console.log", "may", "return", "the", "state", "prior", "to", "it", "updat", ".", "michael", "parker", "mention", "pass", "a", "callback", "within", "the", "setstat", ".", "anoth", "way", "to", "handl", "the", "logic", "after", "state", "chang", "is", "via", "the", "componentdidupd", "lifecycl", "method", ",", "which", "is", "the", "method", "recommend", "in", "react", "doc", ".", "gener", "we", "recommend", "use", "componentdidupd", "(", ")", "for", "such", "logic", "instead", ".", "thi", "is", "particularli", "use", "when", "there", "may", "be", "success", "setstat", "fire", ",", "and", "you", "would", "like", "to", "fire", "the", "same", "function", "after", "everi", "state", "chang", ".", "rather", "than", "ad", "a", "callback", "to", "each", "setstat", ",", "you", "could", "place", "the", "function", "insid", "of", "the", "componentdidupd", ",", "with", "specif", "logic", "insid", "if", "necessari", ".", "//", "exampl", "componentdidupd", "(", "prevprop", ",", "prevstat", ")", "{", "if", "(", "this.state.valu", ">", "prevstate.valu", ")", "{", "this.foo", "(", ")", ";", "}", "}", "you", "could", "tri", "use", "es7", "async/await", ".", "for", "instanc", "use", "your", "exampl", ":", "handlechang", ":", "async", "function", "(", "event", ")", "{", "console.log", "(", "this.state.valu", ")", ";", "await", "this.setst", "(", "{", "valu", ":", "event.target.valu", "}", ")", ";", "console.log", "(", "this.state.valu", ")", ";", "}", "watch", "out", "the", "react", "lifecycl", "methods\uff01", "http", ":", "//projects.wojtekmaj.pl/react-lifecycle-methods-diagram/", "http", ":", "//reactjs.org/docs/react-component.html", "i", "work", "for", "sever", "hour", "to", "find", "out", "that", "getderivedstatefromprop", "will", "be", "call", "after", "everi", "setstat", "(", ")", ".", "\ud83d\ude02", "async-await", "syntax", "work", "perfectli", "for", "someth", "like", "the", "follow", "...", "changestatefunct", "=", "(", ")", "=", ">", "{", "//", "some", "worker", "..", "this.setst", "(", "(", "prevstat", ")", "=", ">", "(", "{", "year", ":", "funchandleyear", "(", ")", ",", "month", ":", "funchandlemonth", "(", ")", "}", ")", ")", ";", "gonextmonth", "=", "async", "(", ")", "=", ">", "{", "await", "this.changestatefunct", "(", ")", ";", "const", "histori", "=", "createbrowserhistori", "(", ")", ";", "history.push", "(", "`", "/calendar", "?", "year=", "$", "{", "this.state.year", "}", "&", "month=", "$", "{", "this.state.month", "}", "`", ")", ";", "}", "goprevmonth", "=", "async", "(", ")", "=", ">", "{", "await", "this.changestatefunct", "(", ")", ";", "const", "histori", "=", "createbrowserhistori", "(", ")", ";", "history.push", "(", "`", "/calendar", "?", "year=", "$", "{", "this.state.year", "}", "&", "month=", "$", "{", "this.state.month", "}", "`", ")", ";", "}", "simpli", "put", "-", "this.setst", "(", "{", "data", ":", "valu", "}", ")", "is", "asynchron", "in", "natur", "that", "mean", "it", "move", "out", "of", "the", "call", "stack", "and", "onli", "come", "back", "to", "the", "call", "stack", "unless", "it", "is", "resolv", ".", "pleas", "read", "about", "event", "loop", "to", "have", "a", "clear", "pictur", "about", "asynchron", "natur", "in", "js", "and", "whi", "it", "take", "time", "to", "updat", "-", "http", ":", "//medium.com/front-end-weekly/javascript-event-loop-explained-4cd26af121d4", "henc", "-", "this.setst", "(", "{", "data", ":", "valu", "}", ")", ";", "console.log", "(", "this.state.data", ")", ";", "//", "will", "give", "undefin", "or", "unupd", "valu", "as", "it", "take", "time", "to", "updat", ".", "to", "achiev", "the", "abov", "process", "-", "this.setst", "(", "{", "data", ":", "valu", "}", ",", "function", "(", ")", "{", "console.log", "(", "this.state.data", ")", ";", "}", ")", ";", "with", "react-rout", "i", "can", "use", "the", "link", "element", "to", "creat", "link", "which", "are", "nativ", "handl", "by", "react", "router", ".", "i", "see", "intern", "it", "call", "this.context.transitionto", "(", "...", ")", ".", "i", "want", "to", "do", "a", "navig", ".", "not", "from", "a", "link", ",", "but", "from", "a", "dropdown", "select", "(", "as", "an", "exampl", ")", ".", "how", "can", "i", "do", "thi", "in", "code", "?", "what", "is", "this.context", "?", "i", "saw", "the", "navig", "mixin", ",", "but", "can", "i", "do", "thi", "without", "mixin", "?", "react", "router", "v5.1.0", "with", "hook", "there", "is", "a", "new", "usehistori", "hook", "in", "react", "router", ">", "5.1.0", "if", "you", "are", "use", "react", ">", "16.8.0", "and", "function", "compon", ".", "import", "{", "usehistori", "}", "from", "``", "react-router-dom", "''", ";", "function", "homebutton", "(", ")", "{", "const", "histori", "=", "usehistori", "(", ")", ";", "function", "handleclick", "(", ")", "{", "history.push", "(", "``", "/home", "''", ")", ";", "}", "return", "(", "<", "button", "type=", "''", "button", "''", "onclick=", "{", "handleclick", "}", ">", "go", "home", "<", "/button", ">", ")", ";", "}", "react", "router", "v4", "with", "v4", "of", "react", "router", ",", "there", "are", "three", "approach", "that", "you", "can", "take", "to", "programmat", "rout", "within", "compon", ".", "use", "the", "withrout", "higher-ord", "compon", ".", "use", "composit", "and", "render", "a", "<", "rout", ">", "use", "the", "context", ".", "react", "router", "is", "mostli", "a", "wrapper", "around", "the", "histori", "librari", ".", "histori", "handl", "interact", "with", "the", "browser", "'s", "window.histori", "for", "you", "with", "it", "browser", "and", "hash", "histori", ".", "it", "also", "provid", "a", "memori", "histori", "which", "is", "use", "for", "environ", "that", "do", "n't", "have", "a", "global", "histori", ".", "thi", "is", "particularli", "use", "in", "mobil", "app", "develop", "(", "react-n", ")", "and", "unit", "test", "with", "node", ".", "a", "histori", "instanc", "ha", "two", "method", "for", "navig", ":", "push", "and", "replac", ".", "if", "you", "think", "of", "the", "histori", "as", "an", "array", "of", "visit", "locat", ",", "push", "will", "add", "a", "new", "locat", "to", "the", "array", "and", "replac", "will", "replac", "the", "current", "locat", "in", "the", "array", "with", "the", "new", "one", ".", "typic", "you", "will", "want", "to", "use", "the", "push", "method", "when", "you", "are", "navig", ".", "in", "earlier", "version", "of", "react", "router", ",", "you", "had", "to", "creat", "your", "own", "histori", "instanc", ",", "but", "in", "v4", "the", "<", "browserrout", ">", ",", "<", "hashrout", ">", ",", "and", "<", "memoryrout", ">", "compon", "will", "creat", "a", "browser", ",", "hash", ",", "and", "memori", "instanc", "for", "you", ".", "react", "router", "make", "the", "properti", "and", "method", "of", "the", "histori", "instanc", "associ", "with", "your", "router", "avail", "through", "the", "context", ",", "under", "the", "router", "object", ".", "1.", "use", "the", "withrout", "higher-ord", "compon", "the", "withrout", "higher-ord", "compon", "will", "inject", "the", "histori", "object", "as", "a", "prop", "of", "the", "compon", ".", "thi", "allow", "you", "to", "access", "the", "push", "and", "replac", "method", "without", "have", "to", "deal", "with", "the", "context", ".", "import", "{", "withrout", "}", "from", "'react-router-dom", "'", "//", "thi", "also", "work", "with", "react-router-n", "const", "button", "=", "withrout", "(", "(", "{", "histori", "}", ")", "=", ">", "(", "<", "button", "type='button", "'", "onclick=", "{", "(", ")", "=", ">", "{", "history.push", "(", "'/new-loc", "'", ")", "}", "}", ">", "click", "me", "!", "<", "/button", ">", ")", ")", "2.", "use", "composit", "and", "render", "a", "<", "rout", ">", "the", "<", "rout", ">", "compon", "is", "n't", "just", "for", "match", "locat", ".", "you", "can", "render", "a", "pathless", "rout", "and", "it", "will", "alway", "match", "the", "current", "locat", ".", "the", "<", "rout", ">", "compon", "pass", "the", "same", "prop", "as", "withrout", ",", "so", "you", "will", "be", "abl", "to", "access", "the", "histori", "method", "through", "the", "histori", "prop", ".", "import", "{", "rout", "}", "from", "'react-router-dom", "'", "const", "button", "=", "(", ")", "=", ">", "(", "<", "rout", "render=", "{", "(", "{", "histori", "}", ")", "=", ">", "(", "<", "button", "type='button", "'", "onclick=", "{", "(", ")", "=", ">", "{", "history.push", "(", "'/new-loc", "'", ")", "}", "}", ">", "click", "me", "!", "<", "/button", ">", ")", "}", "/", ">", ")", "3.", "use", "the", "context", "*", "but", "you", "probabl", "should", "not", "the", "last", "option", "is", "one", "that", "you", "should", "onli", "use", "if", "you", "feel", "comfort", "work", "with", "react", "'s", "context", "model", "(", "react", "'s", "context", "api", "is", "stabl", "as", "of", "v16", ")", ".", "const", "button", "=", "(", "prop", ",", "context", ")", "=", ">", "(", "<", "button", "type='button", "'", "onclick=", "{", "(", ")", "=", ">", "{", "//", "context.history.push", "===", "history.push", "context.history.push", "(", "'/new-loc", "'", ")", "}", "}", ">", "click", "me", "!", "<", "/button", ">", ")", "//", "you", "need", "to", "specifi", "the", "context", "type", "so", "that", "it", "//", "is", "avail", "within", "the", "compon", "button.contexttyp", "=", "{", "histori", ":", "react.proptypes.shap", "(", "{", "push", ":", "react.proptypes.func.isrequir", "}", ")", "}", "1", "and", "2", "are", "the", "simplest", "choic", "to", "implement", ",", "so", "for", "most", "use", "case", ",", "they", "are", "your", "best", "bet", ".", "react-rout", "5.1.0+", "answer", "(", "use", "hook", "and", "react", ">", "16.8", ")", "you", "can", "use", "the", "new", "usehistori", "hook", "on", "function", "compon", "and", "programmat", "navig", ":", "import", "{", "usehistori", "}", "from", "``", "react-router-dom", "''", ";", "function", "homebutton", "(", ")", "{", "let", "histori", "=", "usehistori", "(", ")", ";", "//", "use", "history.push", "(", "'/some/path", "'", ")", "here", "}", ";", "react-rout", "4.0.0+", "answer", "in", "4.0", "and", "abov", ",", "use", "the", "histori", "as", "a", "prop", "of", "your", "compon", ".", "class", "exampl", "extend", "react.compon", "{", "//", "use", "`", "this.props.history.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "note", ":", "this.props.histori", "doe", "not", "exist", "in", "the", "case", "your", "compon", "wa", "not", "render", "by", "<", "rout", ">", ".", "you", "should", "use", "<", "rout", "path=", "''", "...", "''", "component=", "{", "yourcompon", "}", "/", ">", "to", "have", "this.props.histori", "in", "yourcompon", "react-rout", "3.0.0+", "answer", "in", "3.0", "and", "abov", ",", "use", "the", "router", "as", "a", "prop", "of", "your", "compon", ".", "class", "exampl", "extend", "react.compon", "{", "//", "use", "`", "this.props.router.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "react-rout", "2.4.0+", "answer", "in", "2.4", "and", "abov", ",", "use", "a", "higher", "order", "compon", "to", "get", "the", "router", "as", "a", "prop", "of", "your", "compon", ".", "import", "{", "withrout", "}", "from", "'react-rout", "'", ";", "class", "exampl", "extend", "react.compon", "{", "//", "use", "`", "this.props.router.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "//", "export", "the", "decor", "class", "var", "decoratedexampl", "=", "withrout", "(", "exampl", ")", ";", "//", "proptyp", "example.proptyp", "=", "{", "router", ":", "react.proptypes.shap", "(", "{", "push", ":", "react.proptypes.func.isrequir", "}", ")", ".isrequir", "}", ";", "react-rout", "2.0.0+", "answer", "thi", "version", "is", "backward", "compat", "with", "1.x", "so", "there", "'s", "no", "need", "to", "an", "upgrad", "guid", ".", "just", "go", "through", "the", "exampl", "should", "be", "good", "enough", ".", "that", "said", ",", "if", "you", "wish", "to", "switch", "to", "the", "new", "pattern", ",", "there", "'s", "a", "browserhistori", "modul", "insid", "the", "router", "that", "you", "can", "access", "with", "import", "{", "browserhistori", "}", "from", "'react-rout", "'", "now", "you", "have", "access", "to", "your", "browser", "histori", ",", "so", "you", "can", "do", "thing", "like", "push", ",", "replac", ",", "etc", "...", "like", ":", "browserhistory.push", "(", "'/some/path", "'", ")", "further", "read", ":", "histori", "and", "navig", "react-rout", "1.x.x", "answer", "i", "will", "not", "go", "into", "upgrad", "detail", ".", "you", "can", "read", "about", "that", "in", "the", "upgrad", "guid", "the", "main", "chang", "about", "the", "question", "here", "is", "the", "chang", "from", "navig", "mixin", "to", "histori", ".", "now", "it", "'s", "use", "the", "browser", "historyapi", "to", "chang", "rout", "so", "we", "will", "use", "pushstat", "(", ")", "from", "now", "on", ".", "here", "'s", "an", "exempl", "use", "mixin", ":", "var", "exampl", "=", "react.createclass", "(", "{", "mixin", ":", "[", "histori", "]", ",", "navigatetohelppag", "(", ")", "{", "this.history.pushst", "(", "null", ",", "`", "/help", "`", ")", ";", "}", "}", ")", "note", "that", "thi", "histori", "come", "from", "rackt/histori", "project", ".", "not", "from", "react-rout", "itself", ".", "if", "you", "do", "n't", "want", "to", "use", "mixin", "for", "some", "reason", "(", "mayb", "becaus", "of", "es6", "class", ")", ",", "then", "you", "can", "access", "the", "histori", "that", "you", "get", "from", "the", "router", "from", "this.props.histori", ".", "it", "will", "be", "onli", "access", "for", "the", "compon", "render", "by", "your", "router", ".", "so", ",", "if", "you", "want", "to", "use", "it", "in", "ani", "child", "compon", "it", "need", "to", "be", "pass", "down", "as", "an", "attribut", "via", "prop", ".", "you", "can", "read", "more", "about", "the", "new", "releas", "at", "their", "1.0.x", "document", "here", "is", "a", "help", "page", "specif", "about", "navig", "outsid", "your", "compon", "it", "recommend", "grab", "a", "refer", "histori", "=", "createhistori", "(", ")", "and", "call", "replacest", "on", "that", ".", "react-rout", "0.13.x", "answer", "i", "got", "into", "the", "same", "problem", "and", "could", "onli", "find", "the", "solut", "with", "the", "navig", "mixin", "that", "come", "with", "react-rout", ".", "here", "'s", "how", "i", "did", "it", "import", "react", "from", "'react", "'", ";", "import", "{", "navig", "}", "from", "'react-rout", "'", ";", "let", "authent", "=", "react.createclass", "(", "{", "mixin", ":", "[", "navig", "]", ",", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.transitionto", "(", "'/", "'", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.handleclick", "}", ">", "click", "me", "!", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "i", "wa", "abl", "to", "call", "transitionto", "(", ")", "without", "the", "need", "to", "access", ".context", "or", "you", "could", "tri", "the", "fanci", "es6", "class", "import", "react", "from", "'react", "'", ";", "export", "default", "class", "authent", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.handleclick", "=", "this.handleclick.bind", "(", "thi", ")", ";", "}", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.context.router.transitionto", "(", "'/", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.handleclick", "}", ">", "click", "me", "!", "<", "/div", ">", ")", ";", "}", "}", "authentication.contexttyp", "=", "{", "router", ":", "react.proptypes.func.isrequir", "}", ";", "react-router-redux", "note", ":", "if", "you", "'re", "use", "redux", ",", "there", "is", "anoth", "project", "call", "react-router-redux", "that", "give", "you", "redux", "bind", "for", "reactrout", ",", "use", "somewhat", "the", "same", "approach", "that", "react-redux", "doe", "react-router-redux", "ha", "a", "few", "method", "avail", "that", "allow", "for", "simpl", "navig", "from", "insid", "action", "creator", ".", "these", "can", "be", "particularli", "use", "for", "peopl", "that", "have", "exist", "architectur", "in", "react", "nativ", ",", "and", "they", "wish", "to", "util", "the", "same", "pattern", "in", "react", "web", "with", "minim", "boilerpl", "overhead", ".", "explor", "the", "follow", "method", ":", "push", "(", "locat", ")", "replac", "(", "locat", ")", "go", "(", "number", ")", "goback", "(", ")", "goforward", "(", ")", "here", "is", "an", "exampl", "usag", ",", "with", "redux-thunk", ":", "./actioncreators.j", "import", "{", "goback", "}", "from", "'react-router-redux", "'", "export", "const", "onbackpress", "=", "(", ")", "=", ">", "(", "dispatch", ")", "=", ">", "dispatch", "(", "goback", "(", ")", ")", "./viewcomponent.j", "<", "button", "disabled=", "{", "submit", "}", "classname=", "''", "cancel_button", "''", "onclick=", "{", "(", "e", ")", "=", ">", "{", "e.preventdefault", "(", ")", "this.props.onbackpress", "(", ")", "}", "}", ">", "cancel", "<", "/button", ">", "react-rout", "v2", "for", "the", "most", "recent", "releas", "(", "v2.0.0-rc5", ")", ",", "the", "recommend", "navig", "method", "is", "by", "directli", "push", "onto", "the", "histori", "singleton", ".", "you", "can", "see", "that", "in", "action", "in", "the", "navig", "outsid", "of", "compon", "doc", ".", "relev", "excerpt", ":", "import", "{", "browserhistori", "}", "from", "'react-rout", "'", ";", "browserhistory.push", "(", "'/some/path", "'", ")", ";", "if", "use", "the", "newer", "react-rout", "api", ",", "you", "need", "to", "make", "use", "of", "the", "histori", "from", "this.prop", "when", "insid", "of", "compon", "so", ":", "this.props.history.push", "(", "'/some/path", "'", ")", ";", "it", "also", "offer", "pushstat", "but", "that", "is", "deprec", "per", "log", "warn", ".", "if", "use", "react-router-redux", ",", "it", "offer", "a", "push", "function", "you", "can", "dispatch", "like", "so", ":", "import", "{", "push", "}", "from", "'react-router-redux", "'", ";", "this.props.dispatch", "(", "push", "(", "'/some/path", "'", ")", ")", ";", "howev", "thi", "may", "be", "onli", "use", "to", "chang", "the", "url", ",", "not", "to", "actual", "navig", "to", "the", "page", ".", "here", "'s", "how", "you", "do", "thi", "with", "react-rout", "v2.0.0", "with", "es6", ".", "react-rout", "ha", "move", "away", "from", "mixin", ".", "import", "react", "from", "'react", "'", ";", "export", "default", "class", "mycompon", "extend", "react.compon", "{", "navigatetopag", "=", "(", ")", "=", ">", "{", "this.context.router.push", "(", "'/my-rout", "'", ")", "}", ";", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.navigatetopag", "}", ">", "go", "!", "<", "/button", ">", ")", ";", "}", "}", "mycomponent.contexttyp", "=", "{", "router", ":", "react.proptypes.object.isrequir", "}", "react-rout", "4.x", "answer", ":", "on", "my", "end", ",", "i", "like", "to", "have", "a", "singl", "histori", "object", "that", "i", "can", "carri", "even", "outsid", "compon", ".", "what", "i", "like", "to", "do", "is", "to", "have", "a", "singl", "history.j", "file", "that", "i", "import", "on", "demand", ",", "and", "just", "manipul", "it", ".", "you", "just", "have", "to", "chang", "browserrout", "to", "router", ",", "and", "specifi", "the", "histori", "prop", ".", "thi", "doe", "n't", "chang", "anyth", "for", "you", "except", "that", "you", "have", "your", "own", "histori", "object", "that", "you", "can", "manipul", "as", "you", "want", ".", "you", "need", "to", "instal", "histori", ",", "the", "librari", "use", "by", "react-rout", ".", "exampl", "usag", ",", "es6", "notat", ":", "history.j", "import", "createbrowserhistori", "from", "'history/createbrowserhistori", "'", "export", "default", "createbrowserhistori", "(", ")", "basiccomponent.j", "import", "react", ",", "{", "compon", "}", "from", "'react", "'", ";", "import", "histori", "from", "'./histori", "'", ";", "class", "basiccompon", "extend", "compon", "{", "gotoindex", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "history.push", "(", "'/", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "a", "href=", "''", "#", "''", "onclick=", "{", "this.gotoindex", "}", ">", "previou", "<", "/a", ">", ";", "}", "}", "edit", "april", "16th", ",", "2018", ":", "if", "you", "have", "to", "navig", "from", "a", "compon", "that", "is", "actual", "render", "from", "a", "rout", "compon", ",", "you", "can", "also", "access", "histori", "from", "prop", ",", "like", "that", ":", "basiccomponent.j", "import", "react", ",", "{", "compon", "}", "from", "'react", "'", ";", "class", "basiccompon", "extend", "compon", "{", "navig", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.props.history.push", "(", "'/url", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "a", "href=", "''", "#", "''", "onclick=", "{", "this.navig", "}", ">", "previou", "<", "/a", ">", ";", "}", "}", "for", "thi", "one", ",", "who", "doe", "not", "control", "the", "server", "side", "and", "becaus", "of", "thi", "is", "use", "hash", "router", "v2", ":", "place", "your", "histori", "into", "separ", "file", "(", "e.g", ".", "app_history.j", "es6", ")", ":", "import", "{", "userouterhistori", "}", "from", "'react-rout", "'", "import", "{", "createhashhistori", "}", "from", "'histori", "'", "const", "apphistori", "=", "userouterhistori", "(", "createhashhistori", ")", "(", "{", "querykey", ":", "fals", "}", ")", ";", "export", "default", "apphistori", ";", "and", "use", "it", "everywher", "!", "your", "entri", "point", "for", "react-rout", "(", "app.j", "es6", ")", ":", "import", "react", "from", "'react", "'", "import", "{", "render", "}", "from", "'react-dom", "'", "import", "{", "router", ",", "rout", ",", "redirect", "}", "from", "'react-rout", "'", "import", "apphistori", "from", "'./app_histori", "'", "...", "const", "render", "(", "(", "<", "router", "history=", "{", "apphistori", "}", ">", "...", "<", "/router", ">", ")", ",", "document.queryselector", "(", "'", "[", "data-role=", "''", "app", "''", "]", "'", ")", ")", ";", "your", "navig", "insid", "ani", "compon", "(", "es6", ")", ":", "import", "apphistori", "from", "'", "..", "/app_histori", "'", "...", "ajaxlogin", "(", "'/login", "'", ",", "(", "err", ",", "data", ")", "=", ">", "{", "if", "(", "err", ")", "{", "console.error", "(", "err", ")", ";", "//", "login", "fail", "}", "els", "{", "//", "log", "in", "apphistory.replac", "(", "'/dashboard", "'", ")", ";", "//", "or", ".push", "(", ")", "if", "you", "do", "n't", "need", ".replac", "(", ")", "}", "}", ")", "edit", ":", "react", "router", "v6", "i", "have", "n't", "touch", "react", "in", "a", "while", ",", "but", "want", "to", "thank", "and", "highlight", "the", "comment", "below", "by", "@", "shimrit", "snapir", "on", "react-rout", "6.0", "<", "redirect", "/", ">", "chang", "to", "<", "navig", "/", ">", "react", "router", "v4", "tl", ":", "dr", ";", "if", "(", "navig", ")", "{", "return", "<", "redirect", "to=", "''", "/", "''", "push=", "{", "true", "}", "/", ">", "}", "the", "simpl", "and", "declar", "answer", "is", "that", "you", "need", "to", "use", "<", "redirect", "to=", "{", "url", "}", "push=", "{", "boolean", "}", "/", ">", "in", "combin", "with", "setstat", "(", ")", "push", ":", "boolean", "-", "when", "true", ",", "redirect", "will", "push", "a", "new", "entri", "onto", "the", "histori", "instead", "of", "replac", "the", "current", "one", ".", "import", "{", "redirect", "}", "from", "'react-rout", "'", "class", "foobar", "extend", "react.compon", "{", "state", "=", "{", "navig", ":", "fals", "}", "render", "(", ")", "{", "const", "{", "navig", "}", "=", "this.stat", "//", "here", "is", "the", "import", "part", "if", "(", "navig", ")", "{", "return", "<", "redirect", "to=", "''", "/", "''", "push=", "{", "true", "}", "/", ">", "}", "//", "^^^^^^^^^^^^^^^^^^^^^^^", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.setst", "(", "{", "navig", ":", "true", "}", ")", "}", ">", "home", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "full", "exampl", "here", ".", "read", "more", "here", ".", "ps", ".", "the", "exampl", "use", "es7+", "properti", "initi", "to", "initialis", "state", ".", "look", "here", "as", "well", ",", "if", "you", "'re", "interest", ".", "warn", ":", "thi", "answer", "cover", "onli", "reactrout", "version", "befor", "1.0", "i", "will", "updat", "thi", "answer", "with", "1.0.0-rc1", "use", "case", "after", "!", "you", "can", "do", "thi", "without", "mixin", "too", ".", "let", "authent", "=", "react.createclass", "(", "{", "contexttyp", ":", "{", "router", ":", "react.proptypes.func", "}", ",", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.context.router.transitionto", "(", "'/", "'", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.handleclick", "}", ">", "click", "me", "!", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "the", "gotcha", "with", "context", "is", "that", "it", "is", "not", "access", "unless", "you", "defin", "the", "contexttyp", "on", "the", "class", ".", "as", "for", "what", "is", "context", ",", "it", "is", "an", "object", ",", "like", "prop", ",", "that", "are", "pass", "down", "from", "parent", "to", "child", ",", "but", "it", "is", "pass", "down", "implicitli", ",", "without", "have", "to", "redeclar", "prop", "each", "time", ".", "see", "http", ":", "//www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html", "i", "tri", "at", "least", "10", "way", "of", "do", "thi", "befor", "someth", "work", "right", "!", "@", "felip", "skinner", "'s", "withrout", "answer", "wa", "a", "bit", "overwhelm", "to", "me", ",", "and", "i", "wa", "n't", "sure", "i", "want", "to", "make", "new", "``", "exportedwithrout", "''", "class", "name", ".", "here", "'s", "the", "simplest", "and", "cleanest", "way", "to", "do", "it", ",", "circa", "current", "react-rout", "3.0.0", "and", "es6", ":", "react-rout", "3.x.x", "with", "es6", ":", "import", "{", "withrout", "}", "from", "'react-rout", "'", ";", "class", "exampl", "extend", "react.compon", "{", "//", "use", "`", "this.props.router.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "//", "export", "the", "decor", "class", "export", "default", "withrout", "(", "exampl", ")", ";", "or", ",", "if", "it", "'s", "not", "your", "default", "class", ",", "export", "like", ":", "withrout", "(", "exampl", ")", ";", "export", "{", "exampl", "}", ";", "note", "that", "in", "3.x.x", ",", "the", "<", "link", ">", "compon", "itself", "is", "use", "router.push", ",", "so", "you", "can", "pass", "it", "anyth", "you", "would", "pass", "the", "<", "link", "to=", "tag", ",", "like", ":", "this.props.router.push", "(", "{", "pathnam", ":", "'/some/path", "'", ",", "queri", ":", "{", "key1", ":", "'val1", "'", ",", "key2", ":", "'val2", "'", "}", ")", "'", "to", "do", "the", "navig", "programmat", ",", "you", "need", "to", "push", "a", "new", "histori", "to", "the", "props.histori", "in", "your", "compon", ",", "so", "someth", "like", "thi", "can", "do", "the", "work", "for", "you", ":", "//use", "es6", "import", "react", "from", "'react", "'", ";", "class", "app", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.handleclick", "=", "this.handleclick.bind", "(", "thi", ")", "}", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", "/", "*", "look", "at", "here", ",", "you", "can", "add", "it", "here", "*", "/", "this.props.history.push", "(", "'/redirect", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "redirect", "!", "!", "!", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "app", ";", "may", "not", "be", "the", "best", "approach", "but", "...", "use", "react-rout", "v4", ",", "the", "follow", "typescript", "could", "give", "an", "idea", "for", "some", ".", "in", "the", "render", "compon", "below", ",", "e.g", ".", "loginpag", ",", "router", "object", "is", "access", "and", "just", "call", "router.transitionto", "(", "'/homepag", "'", ")", "to", "navig", ".", "navig", "code", "wa", "taken", "from", ".", "``", "react-rout", "''", ":", "``", "^4.0.0-2", "''", ",", "``", "react", "''", ":", "``", "^15.3.1", "''", ",", "import", "router", "from", "'react-router/browserrout", "'", ";", "import", "{", "histori", "}", "from", "'react-history/browserhistori", "'", ";", "import", "createhistori", "from", "'history/createbrowserhistori", "'", ";", "const", "histori", "=", "createhistori", "(", ")", ";", "interfac", "matchwithpropsinterfac", "{", "compon", ":", "typeof", "react.compon", ",", "router", ":", "router", ",", "histori", ":", "histori", ",", "exactli", "?", ":", "ani", ",", "pattern", ":", "string", "}", "class", "matchwithprop", "extend", "react.compon", "<", "matchwithpropsinterfac", ",", "ani", ">", "{", "render", "(", ")", "{", "return", "(", "<", "match", "{", "...", "this.prop", "}", "render=", "{", "(", "matchprop", ")", "=", ">", "(", "react.createel", "(", "this.props.compon", ",", "this.prop", ")", ")", "}", "/", ">", ")", "}", "}", "reactdom.rend", "(", "<", "router", ">", "{", "(", "{", "router", "}", ")", "=", ">", "(", "<", "div", ">", "<", "matchwithprop", "exactli", "pattern=", "''", "/", "''", "component=", "{", "loginpag", "}", "router=", "{", "router", "}", "history=", "{", "histori", "}", "/", ">", "<", "matchwithprop", "pattern=", "''", "/login", "''", "component=", "{", "loginpag", "}", "router=", "{", "router", "}", "history=", "{", "histori", "}", "/", ">", "<", "matchwithprop", "pattern=", "''", "/homepag", "''", "component=", "{", "homepag", "}", "router=", "{", "router", "}", "history=", "{", "histori", "}", "/", ">", "<", "miss", "component=", "{", "notfoundview", "}", "/", ">", "<", "/div", ">", ")", "}", "<", "/router", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "for", "es6", "+", "react", "compon", ",", "the", "follow", "solut", "work", "for", "me", ".", "i", "follow", "felipp", "skinner", ",", "but", "ad", "an", "end", "to", "end", "solut", "to", "help", "beginn", "like", "me", ".", "below", "are", "the", "version", "i", "use", ":", "``", "react-rout", "''", ":", "``", "^2.7.0", "''", "``", "react", "''", ":", "``", "^15.3.1", "''", "below", "is", "my", "react", "compon", "where", "i", "use", "programmat", "navig", "use", "react-rout", ":", "import", "react", "from", "'react", "'", ";", "class", "logincomp", "extend", "react.compon", "{", "constructor", "(", "context", ")", "{", "super", "(", "context", ")", ";", "this.stat", "=", "{", "unam", ":", "``", ",", "pwd", ":", "``", "}", ";", "}", "redirecttomainpag", "(", ")", "{", "this.context.router.replac", "(", "'/home", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "div", ">", "//", "skip", "html", "code", "<", "button", "onclick=", "{", "this.redirecttomainpage.bind", "(", "thi", ")", "}", ">", "redirect", "<", "/button", ">", "<", "/div", ">", ";", "}", "}", ";", "logincomp.contexttyp", "=", "{", "router", ":", "react.proptypes.object.isrequir", "}", "module.export", "=", "logincomp", ";", "below", "is", "the", "configur", "for", "my", "router", ":", "import", "{", "router", ",", "rout", ",", "indexredirect", ",", "browserhistori", "}", "from", "'react-rout", "'", "render", "(", "<", "router", "history=", "{", "browserhistori", "}", ">", "<", "rout", "path='/", "'", "component=", "{", "parentcomp", "}", ">", "<", "indexredirect", "to", "=", "``", "/login", "''", "/", ">", "<", "rout", "path='/login", "'", "component=", "{", "logincomp", "}", "/", ">", "<", "rout", "path='/hom", "'", "component=", "{", "homecomp", "}", "/", ">", "<", "rout", "path='/repair", "'", "component=", "{", "repairjobcomp", "}", "/", ">", "<", "rout", "path='/servic", "'", "component=", "{", "servicejobcomp", "}", "/", ">", "<", "/rout", ">", "<", "/router", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "in", "react-rout", "v4", "and", "es6", "you", "can", "use", "withrout", "and", "this.props.history.push", ".", "import", "{", "withrout", "}", "from", "'react-router-dom", "'", ";", "class", "home", "extend", "compon", "{", "componentdidmount", "(", ")", "{", "this.props.history.push", "(", "'/redirect-to", "'", ")", ";", "}", "}", "export", "default", "withrout", "(", "home", ")", ";", "to", "use", "withrout", "with", "a", "class-bas", "compon", ",", "tri", "someth", "like", "thi", "below", ".", "do", "n't", "forget", "to", "chang", "the", "export", "statement", "to", "use", "withrout", ":", "import", "{", "withrout", "}", "from", "'react-router-dom", "'", "class", "yourclass", "extend", "react.compon", "{", "yourfunct", "=", "(", ")", "=", ">", "{", "dosomeasyncact", "(", "(", ")", "=", ">", "this.props.history.push", "(", "'/other_loc", "'", ")", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "form", "onsubmit=", "{", "this.yourfunct", "}", "/", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "withrout", "(", "yourclass", ")", ";", "with", "react-rout", "v4", "on", "the", "horizon", ",", "there", "is", "now", "a", "new", "way", "of", "do", "thi", ".", "import", "{", "memoryrout", ",", "browserrout", "}", "from", "'react-rout", "'", ";", "const", "navig", "=", "global", "&", "&", "global.navig", "&", "&", "global.navigator.userag", ";", "const", "haswindow", "=", "typeof", "window", "!", "==", "'undefin", "'", ";", "const", "isbrows", "=", "typeof", "navig", "!", "==", "'undefin", "'", "&", "&", "navigator.indexof", "(", "'node.j", "'", ")", "===", "-1", ";", "const", "router", "=", "isbrows", "?", "browserrout", ":", "memoryrout", ";", "<", "router", "location=", "''", "/page-to-go-to", "''", "/", ">", "react-lego", "is", "an", "exampl", "app", "that", "show", "how", "to", "use/upd", "react-rout", "and", "it", "includ", "exampl", "function", "test", "which", "navig", "the", "app", ".", "base", "on", "the", "previou", "answer", "from", "jos\u00e3\u00a9", "antonio", "postigo", "and", "ben", "wheeler", "the", "novelti", "?", "is", "to", "be", "written", "in", "typescript", "and", "the", "use", "of", "decor", "or", "static", "property/field", "import", "*", "as", "react", "from", "``", "react", "''", ";", "import", "compon", "=", "react.compon", ";", "import", "{", "withrout", "}", "from", "``", "react-rout", "''", ";", "export", "interfac", "inavigatorprop", "{", "router", "?", ":", "reactrouter.history.histori", ";", "}", "/", "*", "*", "*", "note", ":", "goe", "great", "with", "mobx", "*", "@", "inject", "(", "``", "someth", "''", ")", "@", "withrout", "@", "observ", "*", "/", "@", "withrout", "export", "class", "navig", "extend", "compon", "<", "inavigatorprop", ",", "{", "}", ">", "{", "navig", ":", "(", "to", ":", "string", ")", "=", ">", "void", ";", "constructor", "(", "prop", ":", "inavigatorprop", ")", "{", "super", "(", "prop", ")", ";", "let", "self", "=", "thi", ";", "this.navig", "=", "(", "to", ")", "=", ">", "self.props.router.push", "(", "to", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "ul", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navig", "(", "``", "/home", "''", ")", "}", ">", "home", "<", "/li", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navig", "(", "``", "/about", "''", ")", "}", ">", "about", "<", "/li", ">", "<", "/ul", ">", ")", "}", "}", "/", "*", "*", "*", "non", "decor", "*", "/", "export", "class", "navigator2", "extend", "compon", "<", "inavigatorprop", ",", "{", "}", ">", "{", "static", "contexttyp", "=", "{", "router", ":", "react.proptypes.object.isrequir", ",", "}", ";", "navig", ":", "(", "to", ":", "string", ")", "=", ">", "void", ";", "constructor", "(", "prop", ":", "inavigatorprop", ",", "context", ":", "ani", ")", "{", "super", "(", "prop", ",", "context", ")", ";", "let", "s", "=", "thi", ";", "this.navig", "=", "(", "to", ")", "=", ">", "s.context.router.push", "(", "to", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "ul", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navig", "(", "``", "/home", "''", ")", "}", ">", "home", "<", "/li", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navig", "(", "``", "/about", "''", ")", "}", ">", "about", "<", "/li", ">", "<", "/ul", ">", ")", "}", "}", "with", "whatev", "npm", "instal", "today", ".", "``", "react-rout", "''", ":", "``", "^3.0.0", "''", "and", "``", "@", "types/react-rout", "''", ":", "``", "^2.0.41", "''", "in", "react", "router", "v4", ".", "i", "follow", "thi", "two", "way", "to", "rout", "programmat", ".", "1.", "this.props.history.push", "(", "``", "/something/someth", "''", ")", "2.", "this.props.history.replac", "(", "``", "/something/someth", "''", ")", "number", "two", "replac", "the", "current", "entri", "on", "the", "histori", "stack", "to", "get", "histori", "in", "prop", "you", "may", "have", "to", "wrap", "your", "compon", "with", "withrout", "if", "you", "are", "use", "hash", "or", "browser", "histori", "then", "you", "can", "do", "hashhistory.push", "(", "'/login", "'", ")", ";", "browserhistory.push", "(", "'/login", "'", ")", ";", "with", "the", "current", "react", "version", "(", "15.3", ")", ",", "this.props.history.push", "(", "'/locat", "'", ")", ";", "work", "for", "me", ",", "but", "it", "show", "the", "follow", "warn", ":", "browser.js:49", "warn", ":", "[", "react-rout", "]", "props.histori", "and", "context.histori", "are", "deprec", ".", "pleas", "use", "context.rout", ".", "and", "i", "solv", "it", "use", "context.rout", "like", "thi", ":", "import", "react", "from", "'react", "'", ";", "class", "mycompon", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.backpress", "=", "this.backpressed.bind", "(", "thi", ")", ";", "}", "backpress", "(", ")", "{", "this.context.router.push", "(", "'/back-loc", "'", ")", ";", "}", "...", "}", "mycomponent.contexttyp", "=", "{", "router", ":", "react.proptypes.object.isrequir", "}", ";", "export", "default", "mycompon", ";", "react-rout", "v4", "if", "you", "'re", "use", "version", "4", "then", "you", "can", "use", "my", "librari", "(", "shameless", "plug", ")", "where", "you", "simpli", "dispatch", "an", "action", "and", "everyth", "just", "work", "!", "dispatch", "(", "navigateto", "(", "``", "/aboutu", "''", ")", ")", ";", "trippler", "those", "who", "are", "face", "issu", "in", "implement", "thi", "on", "react-rout", "v4", ".", "here", "is", "a", "work", "solut", "for", "navig", "through", "the", "react", "app", "from", "redux", "action", ".", "history.j", "import", "createhistori", "from", "'history/createbrowserhistori", "'", "export", "default", "createhistori", "(", ")", "app.js/route.jsx", "import", "{", "router", ",", "rout", "}", "from", "'react-router-dom", "'", "import", "histori", "from", "'./histori", "'", "...", "<", "router", "history=", "{", "histori", "}", ">", "<", "rout", "path=", "''", "/test", "''", "component=", "{", "test", "}", "/", ">", "<", "/router", ">", "another_file.j", "or", "redux", "file", "import", "histori", "from", "'./histori", "'", "history.push", "(", "'/test", "'", ")", "//", "thi", "should", "chang", "the", "url", "and", "re-rend", "test", "compon", "all", "thank", "to", "thi", "comment", ":", "reacttrain", "issu", "comment", "you", "can", "also", "use", "the", "usehistori", "hook", "in", "a", "stateless", "compon", ".", "exampl", "from", "the", "doc", ".", "import", "{", "usehistori", "}", "from", "``", "react-rout", "''", "function", "homebutton", "(", ")", "{", "const", "histori", "=", "usehistori", "(", ")", "return", "(", "<", "button", "type=", "''", "button", "''", "onclick=", "{", "(", ")", "=", ">", "history.push", "(", "``", "/home", "''", ")", "}", ">", "go", "home", "<", "/button", ">", ")", "}", "note", ":", "hook", "were", "ad", "in", "react-rout", "@", "5.1.0", "and", "requir", "react", "@", ">", "=16.8", "the", "right", "answer", "wa", "for", "me", "at", "the", "time", "of", "write", "this.context.router.history.push", "(", "'/", "'", ")", ";", "but", "you", "need", "to", "add", "proptyp", "to", "your", "compon", "header.contexttyp", "=", "{", "router", ":", "proptypes.object.isrequir", "}", "export", "default", "header", ";", "do", "n't", "forget", "to", "import", "proptyp", "import", "proptyp", "from", "'prop-typ", "'", ";", "mayb", "not", "the", "best", "solut", "but", "it", "get", "the", "job", "done", ":", "import", "{", "link", "}", "from", "'react-router-dom", "'", ";", "//", "creat", "function", "compon", "post", "export", "default", "post", "=", "(", ")", "=", ">", "(", "<", "div", "classname=", "''", "compon", "post", "''", ">", "<", "button", "classname=", "''", "button", "delete-post", "''", "onclick=", "{", "(", ")", "=", ">", "{", "//", "...", "delet", "post", "//", "then", "redirect", ",", "without", "page", "reload", ",", "by", "trigger", "a", "hidden", "link", "document.queryselector", "(", "'.trigger.go-hom", "'", ")", ".click", "(", ")", ";", "}", "}", ">", "delet", "post", "<", "/button", ">", "<", "link", "to=", "''", "/", "''", "classname=", "''", "trigger", "go-hom", "hidden", "''", ">", "<", "/link", ">", "<", "/div", ">", ")", ";", "basic", ",", "a", "logic", "tie", "to", "one", "action", "(", "in", "thi", "case", "a", "post", "delet", ")", "will", "end", "up", "call", "a", "trigger", "for", "redirect", ".", "thi", "is", "not", "ideal", "becaus", "you", "will", "add", "a", "dom", "node", "'trigger", "'", "to", "your", "markup", "just", "so", "you", "can", "conveni", "call", "it", "when", "need", ".", "also", ",", "you", "will", "directli", "interact", "with", "the", "dom", ",", "which", "in", "a", "react", "compon", "may", "not", "be", "desir", ".", "still", ",", "thi", "type", "of", "redirect", "is", "not", "requir", "that", "often", ".", "so", "one", "or", "two", "extra", ",", "hidden", "link", "in", "your", "compon", "markup", "would", "not", "hurt", "that", "much", ",", "especi", "if", "you", "give", "them", "meaning", "name", ".", "if", "happen", "to", "pair", "rr4", "w/", "redux", "through", "react-router-redux", ",", "use", "the", "rout", "action", "creator", "from", "react-router-redux", "is", "a", "option", "as", "well", ".", "import", "{", "push", ",", "replac", ",", "...", "}", "from", "'react-router-redux", "'", "class", "wrappedcompon", "extend", "react.compon", "{", "handleredirect", "(", "url", ",", "replacest", "=", "true", ")", "{", "replacest", "?", "this.props.dispatch", "(", "replac", "(", "url", ")", ")", ":", "this.props.dispatch", "(", "push", "(", "url", ")", ")", "}", "render", "(", ")", "{", "...", "}", "}", "export", "default", "connect", "(", "null", ")", "(", "wrappedcompon", ")", "if", "use", "redux", "thunk/saga", "to", "manag", "async", "flow", ",", "import", "the", "abov", "action", "creator", "in", "redux", "action", "and", "hook", "to", "react", "compon", "use", "mapdispatchtoprop", "might", "be", "better", ".", "updat", ":", "react", "router", "v6", "with", "hook", "import", "{", "usenavig", "}", "from", "'react-router-dom", "'", ";", "let", "navig", "=", "usenavig", "(", ")", ";", "navig", "(", "'home", "'", ")", ";", "and", "to", "move", "across", "the", "browser", "histori", ",", "navig", "(", "-1", ")", ";", "--", "-", ">", "go", "back", "navig", "(", "1", ")", ";", "--", "-", ">", "go", "forward", "navig", "(", "-2", ")", ";", "--", "-", ">", "move", "two", "step", "backward", ".", "thi", "work", "for", "me", ",", "no", "special", "import", "need", ":", "<", "input", "type=", "''", "button", "''", "name=", "''", "back", "''", "id=", "''", "back", "''", "class=", "''", "btn", "btn-primari", "''", "value=", "''", "back", "''", "onclick=", "{", "(", ")", "=", ">", "{", "this.props.history.goback", "(", ")", "}", "}", "/", ">", "tri", "hookrout", "instead", ",", "``", "the", "modern", "altern", "to", "react-rout", "''", "http", ":", "//www.npmjs.com/package/hookrout", "import", "{", "userout", ",", "usepath", ",", "a", "}", "from", "``", "hookrout", "''", ";", "to", "answer", "op", "question", "about", "link", "through", "select", "box", "you", "can", "do", "it", ":", "navig", "(", "'/about", "'", ")", ";", "*", "*", "*", "updat", "answer", "*", "*", "*", "i", "think", "hook-rout", "wa", "a", "good", "starter", "kit", "and", "help", "me", "learn", "about", "rout", "but", "have", "sinc", "updat", "to", "react-rout", "for", "it", "'s", "histori", "and", "queri", "paramet", "handl", ".", "import", "{", "useloc", ",", "usehistori", "}", "from", "'react-router-dom", "'", ";", "const", "compon", "=", "(", "prop", ")", "=", ">", "{", "const", "histori", "=", "usehistori", "(", ")", ";", "//", "programmat", "navig", "history.push", "(", "newurlstr", ")", ";", "}", "you", "push", "where", "you", "want", "to", "navig", "into", "the", "location.histori", ".", "for", "react", "router", "v4+", "assum", "that", "you", "wo", "n't", "be", "need", "to", "navig", "dure", "the", "initi", "render", "itself", "(", "for", "which", "you", "can", "use", "<", "redirect", ">", "compon", ")", ",", "thi", "is", "what", "we", "are", "do", "in", "our", "app", ".", "defin", "an", "empti", "rout", "which", "return", "null", ",", "thi", "will", "allow", "you", "to", "get", "the", "access", "to", "the", "histori", "object", ".", "you", "need", "to", "do", "thi", "at", "the", "top", "level", "where", "your", "router", "is", "defin", ".", "now", "you", "can", "do", "all", "the", "thing", "that", "can", "be", "done", "on", "histori", "like", "history.push", "(", ")", ",", "history.replac", "(", ")", ",", "history.go", "(", "-1", ")", "etc", "!", "import", "react", "from", "'react", "'", ";", "import", "{", "hashrout", ",", "rout", "}", "from", "'react-router-dom", "'", ";", "let", "routehistori", "=", "null", ";", "export", "function", "navigateto", "(", "path", ")", "{", "if", "(", "routehistori", "!", "==", "null", ")", "{", "routehistory.push", "(", "path", ")", ";", "}", "}", "export", "default", "function", "app", "(", "prop", ")", "{", "return", "(", "<", "hashrout", "hashtype=", "''", "noslash", "''", ">", "<", "rout", "render=", "{", "(", "{", "histori", "}", ")", "=", ">", "{", "routehistori", "=", "histori", ";", "return", "null", ";", "}", "}", "/", ">", "{", "/", "*", "rest", "of", "the", "app", "*", "/", "}", "<", "/hashrout", ">", ")", ";", "}", "react-router-dom", ":", "5.1.2", "thi", "site", "ha", "3", "page", ",", "all", "of", "which", "are", "render", "dynam", "in", "the", "browser", ".", "although", "the", "page", "doe", "not", "ever", "refresh", ",", "notic", "how", "react", "router", "keep", "the", "url", "up", "to", "date", "as", "you", "navig", "through", "the", "site", ".", "thi", "preserv", "the", "browser", "histori", ",", "make", "sure", "thing", "like", "the", "back", "button", "and", "bookmark", "work", "properli", "a", "switch", "look", "through", "all", "it", "children", "element", "and", "render", "the", "first", "one", "whose", "path", "match", "the", "current", "url", ".", "use", "a", "ani", "time", "you", "have", "multipl", "rout", ",", "but", "you", "want", "onli", "one", "of", "them", "to", "render", "at", "a", "time", "import", "react", "from", "``", "react", "''", ";", "import", "{", "browserrout", "as", "router", ",", "switch", ",", "rout", ",", "link", "}", "from", "``", "react-router-dom", "''", ";", "export", "default", "function", "basicexampl", "(", ")", "{", "return", "(", "<", "router", ">", "<", "div", ">", "<", "ul", ">", "<", "li", ">", "<", "link", "to=", "''", "/", "''", ">", "home", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/about", "''", ">", "about", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/dashboard", "''", ">", "dashboard", "<", "/link", ">", "<", "/li", ">", "<", "/ul", ">", "<", "hr", "/", ">", "<", "switch", ">", "<", "rout", "exact", "path=", "''", "/", "''", ">", "<", "home", "/", ">", "<", "/rout", ">", "<", "rout", "path=", "''", "/about", "''", ">", "<", "about", "/", ">", "<", "/rout", ">", "<", "rout", "path=", "''", "/dashboard", "''", ">", "<", "dashboard", "/", ">", "<", "/rout", ">", "<", "/switch", ">", "<", "/div", ">", "<", "/router", ">", ")", ";", "}", "//", "you", "can", "think", "of", "these", "compon", "as", "``", "page", "''", "//", "in", "your", "app", ".", "function", "home", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h2", ">", "home", "<", "/h2", ">", "<", "/div", ">", ")", ";", "}", "function", "about", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h2", ">", "about", "<", "/h2", ">", "<", "/div", ">", ")", ";", "}", "function", "dashboard", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h2", ">", "dashboard", "<", "/h2", ">", "<", "/div", ">", ")", ";", "}", "``", "`", "i", "'m", "use", "react-rout", "and", "it", "work", "fine", "while", "i", "'m", "click", "on", "link", "button", ",", "but", "when", "i", "refresh", "my", "webpag", "it", "doe", "not", "load", "what", "i", "want", ".", "for", "instanc", ",", "i", "am", "in", "localhost/joblist", "and", "everyth", "is", "fine", "becaus", "i", "arriv", "here", "press", "a", "link", ".", "but", "if", "i", "refresh", "the", "webpag", "i", "get", ":", "can", "not", "get", "/joblist", "by", "default", ",", "it", "did", "n't", "work", "like", "thi", ".", "initi", "i", "had", "my", "url", "as", "localhost/", "#", "/", "and", "localhost/", "#", "/joblist", "and", "they", "work", "perfectli", "fine", ".", "but", "i", "do", "n't", "like", "thi", "kind", "of", "url", ",", "so", "tri", "to", "eras", "that", "#", ",", "i", "wrote", ":", "router.run", "(", "rout", ",", "router.historyloc", ",", "function", "(", "handler", ")", "{", "react.rend", "(", "<", "handler/", ">", ",", "document.bodi", ")", ";", "}", ")", ";", "thi", "problem", "doe", "not", "happen", "with", "localhost/", ",", "thi", "one", "alway", "return", "what", "i", "want", ".", "edit", ":", "thi", "app", "is", "single-pag", ",", "so", "/joblist", "doe", "n't", "need", "to", "ask", "anyth", "to", "ani", "server", ".", "edit2", ":", "my", "entir", "router", ".", "var", "rout", "=", "(", "<", "rout", "name=", "''", "app", "''", "path=", "''", "/", "''", "handler=", "{", "app", "}", ">", "<", "rout", "name=", "''", "joblist", "''", "path=", "''", "/joblist", "''", "handler=", "{", "joblist", "}", "/", ">", "<", "defaultrout", "handler=", "{", "dashboard", "}", "/", ">", "<", "notfoundrout", "handler=", "{", "notfound", "}", "/", ">", "<", "/rout", ">", ")", ";", "router.run", "(", "rout", ",", "router.historyloc", ",", "function", "(", "handler", ")", "{", "react.rend", "(", "<", "handler/", ">", ",", "document.bodi", ")", ";", "}", ")", ";", "look", "at", "the", "comment", "on", "the", "accept", "answer", "and", "the", "gener", "natur", "of", "thi", "question", "(", "'do", "n't", "work", "'", ")", ",", "i", "thought", "thi", "might", "be", "a", "good", "place", "for", "some", "gener", "explan", "about", "the", "issu", "involv", "here", ".", "so", "thi", "answer", "is", "intend", "as", "background", "info", "/", "elabor", "on", "the", "specif", "use", "case", "of", "the", "op", ".", "pleas", "bear", "with", "me", ".", "server-sid", "vs", "client-sid", "the", "first", "big", "thing", "to", "understand", "about", "thi", "is", "that", "there", "are", "now", "2", "place", "where", "the", "url", "is", "interpret", ",", "wherea", "there", "use", "to", "be", "onli", "1", "in", "'the", "old", "day", "'", ".", "in", "the", "past", ",", "when", "life", "wa", "simpl", ",", "some", "user", "sent", "a", "request", "for", "http", ":", "//example.com/about", "to", "the", "server", ",", "which", "inspect", "the", "path", "part", "of", "the", "url", ",", "determin", "the", "user", "wa", "request", "the", "about", "page", "and", "then", "sent", "back", "that", "page", ".", "with", "client-sid", "rout", ",", "which", "is", "what", "react-rout", "provid", ",", "thing", "are", "less", "simpl", ".", "at", "first", ",", "the", "client", "doe", "not", "have", "ani", "js", "code", "load", "yet", ".", "so", "the", "veri", "first", "request", "will", "alway", "be", "to", "the", "server", ".", "that", "will", "then", "return", "a", "page", "that", "contain", "the", "need", "script", "tag", "to", "load", "react", "and", "react", "router", "etc", ".", "onli", "when", "those", "script", "have", "load", "doe", "phase", "2", "start", ".", "in", "phase", "2", ",", "when", "the", "user", "click", "on", "the", "'about", "us", "'", "navig", "link", "for", "exampl", ",", "the", "url", "is", "chang", "local", "onli", "to", "http", ":", "//example.com/about", "(", "made", "possibl", "by", "the", "histori", "api", ")", ",", "but", "no", "request", "to", "the", "server", "is", "made", ".", "instead", ",", "react", "router", "doe", "it", "thing", "on", "the", "client", "side", ",", "determin", "which", "react", "view", "to", "render", "and", "render", "it", ".", "assum", "your", "about", "page", "doe", "not", "need", "to", "make", "ani", "rest", "call", ",", "it", "'s", "done", "alreadi", ".", "you", "have", "transit", "from", "home", "to", "about", "us", "without", "ani", "server", "request", "have", "fire", ".", "so", "basic", "when", "you", "click", "a", "link", ",", "some", "javascript", "run", "that", "manipul", "the", "url", "in", "the", "address", "bar", ",", "without", "caus", "a", "page", "refresh", ",", "which", "in", "turn", "caus", "react", "router", "to", "perform", "a", "page", "transit", "on", "the", "client", "side", ".", "but", "now", "consid", "what", "happen", "if", "you", "copy-past", "the", "url", "in", "the", "address", "bar", "and", "e-mail", "it", "to", "a", "friend", ".", "your", "friend", "ha", "not", "load", "your", "websit", "yet", ".", "in", "other", "word", ",", "she", "is", "still", "in", "phase", "1.", "no", "react", "router", "is", "run", "on", "her", "machin", "yet", ".", "so", "her", "browser", "will", "make", "a", "server", "request", "to", "http", ":", "//example.com/about", ".", "and", "thi", "is", "where", "your", "troubl", "start", ".", "until", "now", ",", "you", "could", "get", "away", "with", "just", "place", "a", "static", "html", "at", "the", "webroot", "of", "your", "server", ".", "but", "that", "would", "give", "404", "error", "for", "all", "other", "url", "when", "request", "from", "the", "server", ".", "those", "same", "url", "work", "fine", "on", "the", "client", "side", ",", "becaus", "there", "react", "router", "is", "do", "the", "rout", "for", "you", ",", "but", "they", "fail", "on", "the", "server", "side", "unless", "you", "make", "your", "server", "understand", "them", ".", "combin", "server-", "and", "client-sid", "rout", "if", "you", "want", "the", "http", ":", "//example.com/about", "url", "to", "work", "on", "both", "the", "server-", "and", "the", "client-sid", ",", "you", "need", "to", "set", "up", "rout", "for", "it", "on", "both", "the", "server-", "and", "the", "client", "side", ".", "make", "sens", "right", "?", "and", "thi", "is", "where", "your", "choic", "begin", ".", "solut", "rang", "from", "bypass", "the", "problem", "altogeth", ",", "via", "a", "catch-al", "rout", "that", "return", "the", "bootstrap", "html", ",", "to", "the", "full-on", "isomorph", "approach", "where", "both", "the", "server", "and", "the", "client", "run", "the", "same", "js", "code", ".", ".", "bypass", "the", "problem", "altogeth", ":", "hash", "histori", "with", "hash", "histori", "instead", "of", "browser", "histori", ",", "your", "url", "for", "the", "about", "page", "would", "look", "someth", "like", "thi", ":", "http", ":", "//example.com/", "#", "/about", "the", "part", "after", "the", "hash", "(", "#", ")", "symbol", "is", "not", "sent", "to", "the", "server", ".", "so", "the", "server", "onli", "see", "http", ":", "//example.com/", "and", "send", "the", "index", "page", "as", "expect", ".", "react-rout", "will", "pick", "up", "the", "#", "/about", "part", "and", "show", "the", "correct", "page", ".", "downsid", ":", "'ugli", "'", "url", "server-sid", "render", "is", "not", "possibl", "with", "thi", "approach", ".", "as", "far", "as", "search", "engin", "optim", "(", "seo", ")", "is", "concern", ",", "your", "websit", "consist", "of", "a", "singl", "page", "with", "hardli", "ani", "content", "on", "it", ".", ".", "catch-al", "with", "thi", "approach", "you", "do", "use", "browser", "histori", ",", "but", "just", "set", "up", "a", "catch-al", "on", "the", "server", "that", "send", "/", "*", "to", "index.html", ",", "effect", "give", "you", "much", "the", "same", "situat", "as", "with", "hash", "histori", ".", "you", "do", "have", "clean", "url", "howev", "and", "you", "could", "improv", "upon", "thi", "scheme", "later", "without", "have", "to", "invalid", "all", "your", "user", "'s", "favorit", ".", "downsid", ":", "more", "complex", "to", "set", "up", "still", "no", "good", "seo", ".", "hybrid", "in", "the", "hybrid", "approach", "you", "expand", "upon", "the", "catch-al", "scenario", "by", "ad", "specif", "script", "for", "specif", "rout", ".", "you", "could", "make", "some", "simpl", "php", "script", "to", "return", "the", "most", "import", "page", "of", "your", "site", "with", "content", "includ", ",", "so", "googlebot", "can", "at", "least", "see", "what", "'s", "on", "your", "page", ".", "downsid", ":", "even", "more", "complex", "to", "set", "up", "onli", "good", "seo", "for", "those", "rout", "you", "give", "the", "special", "treatment", "duplic", "code", "for", "render", "content", "on", "server", "and", "client", ".", "isomorph", "what", "if", "we", "use", "node", "js", "as", "our", "server", "so", "we", "can", "run", "the", "same", "js", "code", "on", "both", "end", "?", "now", ",", "we", "have", "all", "our", "rout", "defin", "in", "a", "singl", "react-rout", "config", "and", "we", "do", "n't", "need", "to", "duplic", "our", "render", "code", ".", "thi", "is", "'the", "holi", "grail", "'", "so", "to", "speak", ".", "the", "server", "send", "the", "exact", "same", "markup", "as", "we", "would", "end", "up", "with", "if", "the", "page", "transit", "had", "happen", "on", "the", "client", ".", "thi", "solut", "is", "optim", "in", "term", "of", "seo", ".", "downsid", ":", "server", "must", "(", "be", "abl", "to", ")", "run", "js", ".", "i", "'ve", "experi", "with", "java", "i.c.w", ".", "nashorn", "but", "it", "'s", "not", "work", "for", "me", ".", "in", "practic", "it", "mostli", "mean", "you", "must", "use", "a", "node", "js", "base", "server", ".", "mani", "tricki", "environment", "issu", "(", "use", "window", "on", "server-sid", "etc", ")", "steep", "learn", "curv", ".", "which", "should", "i", "use", "?", "choos", "the", "one", "that", "you", "can", "get", "away", "with", ".", "person", "i", "think", "the", "catch-al", "is", "simpl", "enough", "to", "set", "up", ",", "so", "that", "would", "be", "my", "minimum", ".", "thi", "setup", "allow", "you", "to", "improv", "on", "thing", "over", "time", ".", "if", "you", "are", "alreadi", "use", "node", "js", "as", "your", "server", "platform", ",", "i", "'d", "definit", "investig", "do", "an", "isomorph", "app", ".", "ye", "it", "'s", "tough", "at", "first", ",", "but", "onc", "you", "get", "the", "hang", "of", "it", "it", "'s", "actual", "a", "veri", "eleg", "solut", "to", "the", "problem", ".", "so", "basic", ",", "for", "me", ",", "that", "would", "be", "the", "decid", "factor", ".", "if", "my", "server", "run", "on", "node", "js", ",", "i", "'d", "go", "isomorph", ";", "otherwis", "i", "would", "go", "for", "the", "catch-al", "solut", "and", "just", "expand", "on", "it", "(", "hybrid", "solut", ")", "as", "time", "progress", "and", "seo", "requir", "demand", "it", ".", "if", "you", "'d", "like", "to", "learn", "more", "on", "isomorph", "(", "also", "call", "'univers", "'", ")", "render", "with", "react", ",", "there", "are", "some", "good", "tutori", "on", "the", "subject", ":", "react", "to", "the", "futur", "with", "isomorph", "app", "the", "pain", "and", "the", "joy", "of", "creat", "isomorph", "app", "in", "reactj", "how", "to", "implement", "node", "+", "react", "isomorph", "javascript", "&", "whi", "it", "matter", "also", ",", "to", "get", "you", "start", ",", "i", "recommend", "look", "at", "some", "starter", "kit", ".", "pick", "one", "that", "match", "your", "choic", "for", "the", "technolog", "stack", "(", "rememb", ",", "react", "is", "just", "the", "v", "in", "mvc", ",", "you", "need", "more", "stuff", "to", "build", "a", "full", "app", ")", ".", "start", "with", "look", "at", "the", "one", "publish", "by", "facebook", "itself", ":", "creat", "react", "app", "or", "pick", "one", "of", "the", "mani", "by", "the", "commun", ".", "there", "is", "a", "nice", "site", "now", "that", "tri", "to", "index", "all", "of", "them", ":", "pick", "your", "perfect", "react", "starter", "project", "i", "start", "with", "these", ":", "react", "isomorph", "starterkit", "react", "redux", "univers", "hot", "exampl", "current", "i", "am", "use", "a", "home-brew", "version", "of", "univers", "render", "that", "wa", "inspir", "by", "the", "two", "starter", "kit", "abov", ",", "but", "they", "are", "out", "of", "date", "now", ".", "good", "luck", "with", "your", "quest", "!", "the", "answer", "here", "are", "all", "extrem", "help", ",", "what", "work", "for", "me", "wa", "configur", "my", "webpack", "server", "to", "expect", "the", "rout", ".", "devserv", ":", "{", "historyapifallback", ":", "true", ",", "contentbas", ":", "'./", "'", ",", "hot", ":", "true", "}", ",", "the", "historyapifallback", "is", "what", "fix", "thi", "issu", "for", "me", ".", "now", "rout", "work", "correctli", "and", "i", "can", "refresh", "the", "page", "or", "type", "in", "the", "url", "directli", ".", "no", "need", "to", "worri", "about", "work", "around", "on", "your", "node", "server", ".", "thi", "answer", "obvious", "onli", "work", "if", "you", "'re", "use", "webpack", ".", "edit", ":", "see", "my", "answer", "here", "for", "a", "more", "detail", "reason", "whi", "thi", "is", "necessari", ":", "http", ":", "//stackoverflow.com/a/37622953/5217568", "you", "can", "chang", "your", ".htaccess", "file", "and", "insert", "thi", ":", "<", "ifmodul", "mod_rewrite.c", ">", "rewriteengin", "on", "rewritebas", "/", "rewriterul", "^index\\.html", "$", "-", "[", "l", "]", "rewritecond", "%", "{", "request_filenam", "}", "!", "-f", "rewritecond", "%", "{", "request_filenam", "}", "!", "-d", "rewritecond", "%", "{", "request_filenam", "}", "!", "-l", "rewriterul", ".", "/index.html", "[", "l", "]", "<", "/ifmodul", ">", "i", "am", "use", "react", ":", "``", "^16.12.0", "''", "and", "react-rout", ":", "``", "^5.1.2", "''", "thi", "method", "is", "the", "catch-al", "and", "is", "probabl", "the", "easiest", "way", "to", "get", "you", "start", ".", "for", "react", "router", "v4", "user", ":", "if", "you", "tri", "to", "solv", "thi", "problem", "by", "hash", "histori", "techniqu", "mention", "in", "other", "answer", ",", "note", "that", "<", "router", "history=", "{", "hashhistori", "}", ">", "doe", "not", "work", "in", "v4", ",", "pleas", "use", "hashrout", "instead", ":", "import", "{", "hashrout", "}", "from", "'react-router-dom", "'", "<", "hashrout", ">", "<", "app/", ">", "<", "/hashrout", ">", "refer", ":", "hashrout", "i", "use", "create-react-app", "to", "make", "a", "websit", "just", "now", "and", "had", "the", "same", "issu", "present", "here", ".", "i", "use", "browserrout", "from", "the", "react-router-dom", "packag", ".", "i", "am", "run", "on", "a", "nginx", "server", "and", "what", "solv", "it", "for", "me", "wa", "ad", "the", "follow", "to", "/etc/nginx/yourconfig.conf", "locat", "/", "{", "if", "(", "!", "-e", "$", "request_filenam", ")", "{", "rewrit", "^", "(", ".", "*", ")", "$", "/index.html", "break", ";", "}", "}", "which", "correspond", "to", "ad", "the", "follow", "to", "the", ".htaccess", "in", "case", "you", "are", "run", "appach", "option", "-multiview", "rewriteengin", "on", "rewritecond", "%", "{", "request_filenam", "}", "!", "-f", "rewriterul", "^", "index.html", "[", "qsa", ",", "l", "]", "thi", "also", "seem", "to", "be", "the", "solut", "suggest", "by", "facebook", "themselv", "and", "can", "be", "found", "here", "in", "your", "index.html", "head", ",", "add", "the", "follow", ":", "<", "base", "href=", "''", "/", "''", ">", "<", "!", "--", "thi", "must", "come", "befor", "the", "css", "and", "javascript", "--", ">", "then", "when", "run", "with", "webpack", "dev", "server", "use", "thi", "command", ".", "webpack-dev-serv", "--", "mode", "develop", "--", "hot", "--", "inlin", "--", "content-base=dist", "--", "history-api-fallback", "--", "history-api-fallback", "is", "the", "import", "part", "the", "router", "can", "be", "call", "in", "two", "differ", "way", ",", "depend", "on", "whether", "the", "navig", "occur", "on", "the", "client", "or", "on", "the", "server", ".", "you", "have", "it", "configur", "for", "client-sid", "oper", ".", "the", "key", "paramet", "is", "the", "second", "one", "to", "the", "run", "method", ",", "the", "locat", ".", "when", "you", "use", "the", "react", "router", "link", "compon", ",", "it", "block", "browser", "navig", "and", "call", "transitionto", "to", "do", "a", "client-sid", "navig", ".", "you", "are", "use", "historyloc", ",", "so", "it", "use", "the", "html5", "histori", "api", "to", "complet", "the", "illus", "of", "navig", "by", "simul", "the", "new", "url", "in", "the", "address", "bar", ".", "if", "you", "'re", "use", "older", "browser", ",", "thi", "wo", "n't", "work", ".", "you", "would", "need", "to", "use", "the", "hashloc", "compon", ".", "when", "you", "hit", "refresh", ",", "you", "bypass", "all", "of", "the", "react", "and", "react", "router", "code", ".", "the", "server", "get", "the", "request", "for", "/joblist", "and", "it", "must", "return", "someth", ".", "on", "the", "server", "you", "need", "to", "pass", "the", "path", "that", "wa", "request", "to", "the", "run", "method", "in", "order", "for", "it", "to", "render", "the", "correct", "view", ".", "you", "can", "use", "the", "same", "rout", "map", ",", "but", "you", "'ll", "probabl", "need", "a", "differ", "call", "to", "router.run", ".", "as", "charl", "point", "out", ",", "you", "can", "use", "url", "rewrit", "to", "handl", "thi", ".", "anoth", "option", "is", "to", "use", "a", "node.j", "server", "to", "handl", "all", "request", "and", "pass", "the", "path", "valu", "as", "the", "locat", "argument", ".", "in", "express", ",", "for", "exampl", ",", "it", "might", "look", "like", "thi", ":", "var", "app", "=", "express", "(", ")", ";", "app.get", "(", "'", "*", "'", ",", "function", "(", "req", ",", "re", ")", "{", "//", "thi", "wildcard", "method", "handl", "all", "request", "router.run", "(", "rout", ",", "req.path", ",", "function", "(", "handler", ",", "state", ")", "{", "var", "element", "=", "react.createel", "(", "handler", ")", ";", "var", "html", "=", "react.rendertostr", "(", "element", ")", ";", "res.rend", "(", "'main", "'", ",", "{", "content", ":", "html", "}", ")", ";", "}", ")", ";", "}", ")", ";", "note", "that", "the", "request", "path", "is", "be", "pass", "to", "run", ".", "to", "do", "thi", ",", "you", "'ll", "need", "to", "have", "a", "server-sid", "view", "engin", "that", "you", "can", "pass", "the", "render", "html", "to", ".", "there", "are", "a", "number", "of", "other", "consider", "use", "rendertostr", "and", "in", "run", "react", "on", "the", "server", ".", "onc", "the", "page", "is", "render", "on", "the", "server", ",", "when", "your", "app", "load", "in", "the", "client", ",", "it", "will", "render", "again", ",", "updat", "the", "server-sid", "render", "html", "as", "need", ".", "if", "you", "'re", "host", "a", "react", "app", "via", "aw", "static", "s3", "host", "&", "cloudfront", "thi", "problem", "present", "itself", "by", "cloudfront", "respond", "with", "a", "403", "access", "deni", "messag", "becaus", "it", "expect", "/some/other/path", "to", "exist", "in", "my", "s3", "folder", ",", "but", "that", "path", "onli", "exist", "intern", "in", "react", "'s", "rout", "with", "react-rout", ".", "the", "solut", "wa", "to", "set", "up", "a", "distribut", "error", "page", "rule", ".", "go", "to", "the", "cloudfront", "set", "and", "choos", "your", "distribut", ".", "next", "go", "to", "the", "``", "error", "page", "''", "tab", ".", "click", "``", "creat", "custom", "error", "respons", "''", "and", "add", "an", "entri", "for", "403", "sinc", "that", "'s", "the", "error", "statu", "code", "we", "get", ".", "set", "the", "respons", "page", "path", "to", "/index.html", "and", "the", "statu", "code", "to", "200.", "the", "end", "result", "astonish", "me", "with", "it", "simplic", ".", "the", "index", "page", "is", "serv", ",", "but", "the", "url", "is", "preserv", "in", "the", "browser", ",", "so", "onc", "the", "react", "app", "load", ",", "it", "detect", "the", "url", "path", "and", "navig", "to", "the", "desir", "rout", ".", "error", "page", "403", "rule", "thi", "can", "solv", "your", "problem", "i", "also", "face", "the", "same", "problem", "in", "the", "reactj", "applic", "in", "product", "mode", ".", "here", "is", "the", "2", "solut", "to", "the", "problem", ".", "1.chang", "the", "rout", "histori", "to", "``", "hashhistori", "''", "instead", "of", "browserhistori", "in", "the", "place", "of", "<", "router", "history=", "{", "hashhistori", "}", ">", "<", "rout", "path=", "''", "/home", "''", "component=", "{", "home", "}", "/", ">", "<", "rout", "path=", "''", "/aboutu", "''", "component=", "{", "aboutu", "}", "/", ">", "<", "/router", ">", "now", "build", "the", "app", "use", "the", "command", "sudo", "npm", "run", "build", "then", "place", "the", "build", "folder", "in", "your", "var/www/", "folder", ",", "now", "the", "applic", "is", "work", "fine", "with", "the", "addit", "of", "#", "tag", "in", "each", "and", "everi", "url", ".", "like", "localhost/", "#", "/home", "localhost/", "#", "/aboutu", "solut", "2", ":", "without", "#", "tag", "use", "browserhistori", ",", "set", "your", "histori", "=", "{", "browserhistori", "}", "in", "your", "router", ",", "now", "build", "it", "use", "sudo", "npm", "run", "build", ".", "you", "need", "to", "creat", "the", "``", "conf", "''", "file", "to", "solv", "the", "404", "not", "found", "page", ",", "the", "conf", "file", "should", "be", "like", "thi", ".", "open", "your", "termin", "type", "the", "below", "command", "cd", "/etc/apache2/sites-avail", "ls", "nano", "sample.conf", "add", "the", "below", "content", "in", "it", ".", "<", "virtualhost", "*", ":80", ">", "serveradmin", "admin", "@", "0.0.0.0", "servernam", "0.0.0.0", "serveralia", "0.0.0.0", "documentroot", "/var/www/html/", "errorlog", "$", "{", "apache_log_dir", "}", "/error.log", "customlog", "$", "{", "apache_log_dir", "}", "/access.log", "combin", "<", "directori", "``", "/var/www/html/", "''", ">", "option", "index", "followsymlink", "allowoverrid", "all", "requir", "all", "grant", "<", "/directori", ">", "<", "/virtualhost", ">", "now", "you", "need", "to", "enabl", "the", "sample.conf", "file", "by", "use", "the", "follow", "command", "cd", "/etc/apache2/sites-avail", "sudo", "a2ensit", "sample.conf", "then", "it", "will", "ask", "you", "to", "reload", "the", "apach", "server", ",", "use", "sudo", "servic", "apache2", "reload", "or", "restart", "then", "open", "your", "localhost/build", "folder", "and", "add", "the", ".htaccess", "file", "with", "the", "content", "of", "below", ".", "rewriteengin", "on", "rewritebas", "/", "rewritecond", "%", "{", "request_filenam", "}", "!", "-f", "rewritecond", "%", "{", "request_filenam", "}", "!", "-d", "rewritecond", "%", "{", "request_filenam", "}", "!", "-l", "rewriterul", "^", ".", "*", "$", "/", "[", "l", ",", "qsa", "]", "now", "the", "app", "is", "work", "normal", ".", "note", ":", "chang", "0.0.0.0", "ip", "to", "your", "local", "ip", "address", ".", "if", "ani", "doubt", "regard", "thi", "feel", "free", "to", "rais", "a", "comment", ".", "i", "hope", "it", "is", "help", "to", "other", ".", "if", "you", "are", "host", "your", "react", "app", "on", "ii", ",", "just", "add", "a", "web.config", "file", "contain", ":", "<", "?", "xml", "version=", "''", "1.0", "''", "encoding=", "''", "utf-8", "''", "?", ">", "<", "configur", ">", "<", "system.webserv", ">", "<", "httperror", "errormode=", "''", "custom", "''", "existingresponse=", "''", "replac", "''", ">", "<", "remov", "statuscode=", "''", "404", "''", "substatuscode=", "''", "-1", "''", "/", ">", "<", "error", "statuscode=", "''", "404", "''", "path=", "''", "/", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "/httperror", ">", "<", "/system.webserv", ">", "<", "/configur", ">", "thi", "will", "tell", "ii", "server", "to", "return", "the", "main", "page", "to", "the", "client", "instead", "of", "404", "error", "and", "no", "need", "to", "use", "hash", "histori", ".", "the", "webpack", "dev", "server", "ha", "an", "option", "to", "enabl", "thi", ".", "open", "up", "package.json", "and", "add", "--", "history-api-fallback", ".", "thi", "solut", "work", "for", "me", ".", "react-router-tutori", "if", "you", "are", "use", "creat", "react", "app", ":", "there", "'s", "a", "great", "walk", "though", "of", "thi", "issu", "with", "solut", "for", "mani", "major", "host", "platform", "that", "you", "can", "find", "here", "on", "the", "creat", "react", "app", "page", ".", "for", "exampl", ",", "i", "use", "react", "router", "v4", "and", "netlifi", "for", "my", "frontend", "code", ".", "all", "it", "took", "wa", "ad", "1", "file", "to", "my", "public", "folder", "(", "``", "_redirect", "''", ")", "and", "one", "line", "of", "code", "in", "that", "file", ":", "/", "*", "/index.html", "200", "now", "my", "websit", "properli", "render", "path", "like", "mysite.com/pr", "when", "enter", "into", "the", "browser", "or", "when", "someon", "hit", "refresh", ".", "add", "thi", "to", "webpack.config.j", ":", "devserv", ":", "{", "historyapifallback", ":", "true", "}", "product", "stack", ":", "react", ",", "react", "router", "v4", ",", "browswerrout", ",", "express", ",", "nginx", "1", ")", "user", "browserrout", "for", "pretti", "url", "//", "app.j", "import", "{", "browserrout", "as", "router", "}", "from", "'react-router-dom", "'", "const", "app", "=", "(", ")", "{", "render", "(", ")", "{", "return", "(", "<", "router", ">", "//", "your", "rout", "here", "<", "/router", ">", ")", "}", "}", "2", ")", "add", "index.html", "to", "all", "unknown", "request", "by", "use", "/", "*", "//", "server.j", "app.get", "(", "'/", "*", "'", ",", "function", "(", "req", ",", "re", ")", "{", "res.sendfil", "(", "path.join", "(", "__dirnam", ",", "'path/to/your/index.html", "'", ")", ",", "function", "(", "err", ")", "{", "if", "(", "err", ")", "{", "res.statu", "(", "500", ")", ".send", "(", "err", ")", "}", "}", ")", "}", ")", "3", ")", "bundl", "webpack", "with", "webpack", "-p", "4", ")", "run", "nodemon", "server.j", "or", "node", "server.j", "edit", ":", "you", "may", "want", "to", "let", "nginx", "handl", "thi", "in", "the", "server", "block", "and", "disregard", "step", "2", ":", "locat", "/", "{", "try_fil", "$", "uri", "/index.html", ";", "}", "tri", "ad", "``", ".htaccess", "''", "file", "insid", "the", "public", "folder", "with", "the", "below", "code", ".", "rewriteengin", "on", "rewritecond", "%", "{", "document_root", "}", "%", "{", "request_uri", "}", "-f", "[", "or", "]", "rewritecond", "%", "{", "document_root", "}", "%", "{", "request_uri", "}", "-d", "rewriterul", "^", "-", "[", "l", "]", "rewriterul", "^", "/index.html", "[", "l", "]", "if", "you", "do", "have", "a", "fallback", "to", "your", "index.html", ",", "make", "sure", "that", "in", "your", "index.html", "file", "you", "have", "thi", ":", "<", "script", ">", "system.config", "(", "{", "baseurl", ":", "'/", "'", "}", ")", ";", "<", "/script", ">", "thi", "may", "differ", "from", "project", "to", "project", ".", "if", "you", "'re", "use", "firebas", "all", "you", "have", "to", "do", "is", "make", "sure", "you", "'ve", "got", "a", "rewrit", "properti", "in", "your", "firebase.json", "file", "in", "the", "root", "of", "your", "app", "(", "in", "the", "host", "section", ")", ".", "for", "exampl", ":", "{", "``", "host", "''", ":", "{", "``", "rewrit", "''", ":", "[", "{", "``", "sourc", "''", ":", "''", "*", "*", "''", ",", "``", "destin", "''", ":", "``", "/index.html", "''", "}", "]", "}", "}", "hope", "thi", "save", "somebodi", "els", "a", "hoard", "of", "frustrat", "and", "wast", "time", ".", "happi", "code", "...", "further", "read", "on", "the", "subject", ":", "http", ":", "//firebase.google.com/docs/hosting/full-config", "#", "rewrit", "firebas", "cli", ":", "``", "configur", "as", "a", "single-pag", "app", "(", "rewrit", "all", "url", "to", "/index.html", ")", "''", "i", "found", "the", "solut", "for", "my", "spa", "with", "react", "router", "(", "apach", ")", ".", "just", "add", "in", ".htaccess", "<", "ifmodul", "mod_rewrite.c", ">", "rewriteengin", "on", "rewritebas", "/", "rewriterul", "^index\\.html", "$", "-", "[", "l", "]", "rewritecond", "%", "{", "request_filenam", "}", "!", "-f", "rewritecond", "%", "{", "request_filenam", "}", "!", "-d", "rewritecond", "%", "{", "request_filenam", "}", "!", "-l", "rewriterul", ".", "/index.html", "[", "l", "]", "<", "/ifmodul", ">", "sourc", ":", "http", ":", "//gist.github.com/alexsasharegan/173878f9d67055bfef63449fa7136042", "i", "'m", "not", "use", "server", "side", "render", "yet", "but", "i", "hit", "the", "same", "problem", "as", "the", "op", "where", "link", "seem", "to", "work", "fine", "most", "of", "the", "time", "but", "fail", "when", "i", "had", "a", "paramet", ".", "i", "'ll", "document", "my", "solut", "here", "to", "see", "if", "it", "help", "anyon", ".", "my", "main", "jsx", "contain", "thi", ":", "<", "rout", "onenter=", "{", "requirelogin", "}", "path=", "''", "detail/", ":", "id", "''", "component=", "{", "modeldetail", "}", "/", ">", "thi", "work", "fine", "for", "the", "first", "match", "link", "but", "when", "the", ":", "id", "chang", "in", "<", "link", ">", "express", "nest", "on", "that", "model", "'s", "detail", "page", ",", "the", "url", "chang", "in", "the", "browser", "bar", "but", "the", "content", "of", "the", "page", "did", "not", "initi", "chang", "to", "reflect", "the", "link", "model", ".", "the", "troubl", "wa", "that", "i", "had", "use", "the", "props.params.id", "to", "set", "the", "model", "in", "componentdidmount", ".", "the", "compon", "is", "just", "mount", "onc", "so", "thi", "mean", "that", "the", "first", "model", "is", "the", "one", "that", "stick", "on", "the", "page", "and", "the", "subsequ", "link", "chang", "the", "prop", "but", "leav", "the", "page", "look", "unchang", ".", "set", "the", "model", "in", "the", "compon", "state", "in", "both", "componentdidmount", "and", "in", "componentwillreceiveprop", "(", "where", "it", "is", "base", "on", "the", "next", "prop", ")", "solv", "the", "problem", "and", "the", "page", "content", "chang", "to", "reflect", "the", "desir", "model", ".", "thi", "topic", "is", "a", "littl", "bit", "old", "and", "solv", "but", "i", "would", "like", "to", "suggest", "you", "a", "simpli", ",", "clear", "and", "better", "solut", ".", "it", "work", "if", "you", "use", "web", "server", ".", "each", "web", "server", "ha", "an", "abil", "to", "redirect", "the", "user", "to", "an", "error", "page", "in", "case", "of", "http", "404.", "to", "solv", "thi", "issu", "you", "need", "to", "redirect", "user", "to", "the", "index", "page", ".", "if", "you", "use", "java", "base", "server", "(", "tomcat", "or", "ani", "java", "applic", "server", ")", "the", "solut", "could", "be", "the", "follow", ":", "web.xml", ":", "<", "?", "xml", "version=", "''", "1.0", "''", "encoding=", "''", "utf-8", "''", "?", ">", "<", "web-app", "xmlns=", "''", "http", ":", "//xmlns.jcp.org/xml/ns/javae", "''", "xmln", ":", "xsi=", "''", "http", ":", "//www.w3.org/2001/xmlschema-inst", "''", "xsi", ":", "schemalocation=", "''", "http", ":", "//xmlns.jcp.org/xml/ns/javae", "http", ":", "//xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd", "''", "version=", "''", "3.1", "''", ">", "<", "!", "--", "welcom", "file", "list", "--", ">", "<", "welcome-file-list", ">", "<", "welcome-fil", ">", "index.jsp", "<", "/welcome-fil", ">", "<", "/welcome-file-list", ">", "<", "!", "--", "error", "page", "definit", "--", ">", "<", "error-pag", ">", "<", "error-cod", ">", "404", "<", "/error-cod", ">", "<", "locat", ">", "/index.jsp", "<", "/locat", ">", "<", "/error-pag", ">", "<", "/web-app", ">", "exampl", ":", "get", "http", ":", "//example.com/about", "web", "server", "throw", "http", "404", "becaus", "thi", "page", "doe", "not", "exist", "on", "the", "server", "side", "the", "error", "page", "configur", "tell", "to", "the", "server", "that", "send", "the", "index.jsp", "page", "back", "to", "the", "user", "then", "js", "will", "do", "the", "rest", "of", "the", "job", "on", "the", "clien", "side", "becaus", "the", "url", "on", "the", "client", "side", "is", "still", "http", ":", "//example.com/about", ".", "that", "is", "it", ",", "no", "more", "magic", "need", ":", ")", "for", "those", "who", "are", "use", "ii", "10", ",", "thi", "is", "what", "you", "should", "do", "to", "make", "thi", "right", ".", "be", "sure", "that", "you", "are", "use", "browserhistori", "with", "thi", ".", "as", "for", "refer", "i", "will", "give", "the", "code", "for", "the", "rout", ",", "but", "thi", "is", "not", "what", "matter", ",", "what", "matter", "is", "the", "next", "step", "after", "the", "compon", "code", "below", ":", "class", "app", "extend", "compon", "{", "render", "(", ")", "{", "return", "(", "<", "router", "history=", "{", "browserhistori", "}", ">", "<", "div", ">", "<", "root", ">", "<", "switch", ">", "<", "rout", "exact", "path=", "{", "``", "/", "''", "}", "component=", "{", "home", "}", "/", ">", "<", "rout", "path=", "{", "``", "/home", "''", "}", "component=", "{", "home", "}", "/", ">", "<", "rout", "path=", "{", "``", "/createnewproject", "''", "}", "component=", "{", "createnewproject", "}", "/", ">", "<", "rout", "path=", "{", "``", "/project", "''", "}", "component=", "{", "project", "}", "/", ">", "<", "rout", "path=", "''", "*", "''", "component=", "{", "notfoundrout", "}", "/", ">", "<", "/switch", ">", "<", "/root", ">", "<", "/div", ">", "<", "/router", ">", ")", "}", "}", "render", "(", "<", "app", "/", ">", ",", "window.document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "sinc", "the", "problem", "is", "ii", "receiv", "request", "from", "client", "browser", ",", "it", "will", "interpret", "the", "url", "as", "if", "it", "is", "ask", "for", "a", "page", ",", "then", "return", "a", "404", "page", "sinc", "there", "is", "no", "avail", "page", ".", "do", "the", "follow", ":", "open", "ii", "expand", "server", "then", "open", "the", "site", "folder", "click", "the", "website/appl", "go", "to", "the", "error", "page", "open", "the", "404", "error", "statu", "item", "in", "the", "list", "instead", "of", "the", "option", "``", "insert", "content", "from", "static", "file", "into", "the", "error", "respons", "''", ",", "chang", "it", "to", "``", "execut", "a", "url", "on", "thi", "site", "''", "and", "add", "``", "/", "''", "slash", "valu", "to", "the", "url", ".", "and", "it", "will", "now", "work", "fine", ".", "i", "hope", "it", "help", ".", ":", "-", ")", "if", "you", "are", "use", "express", "or", "some", "other", "framework", "in", "the", "backend", ",", "you", "can", "add", "the", "similar", "configur", "as", "below", "and", "check", "out", "the", "webpack", "public", "path", "in", "the", "configur", ",", "it", "should", "work", "fine", "even", "on", "reload", "if", "you", "are", "use", "browserrout", "expressapp.get", "(", "'/", "*", "'", ",", "(", "request", ",", "respons", ")", "=", ">", "{", "response.sendfil", "(", "path.join", "(", "__dirnam", ",", "'", "..", "/public/index.html", "'", ")", ")", ";", "}", ")", ";", "fix", "the", "``", "can", "not", "get", "/url", "''", "error", "on", "refresh", "or", "on", "call", "the", "url", "directli", ".", "configur", "your", "webpack.config.j", "to", "expect", "the", "given", "link", "the", "rout", "like", "thi", ".", "module.export", "=", "{", "entri", ":", "'./app/index.j", "'", ",", "output", ":", "{", "path", ":", "path.join", "(", "__dirnam", ",", "'/bundl", "'", ")", ",", "filenam", ":", "'index_bundle.j", "'", ",", "publicpath", ":", "'/", "'", "}", ",", "as", "i", "am", "use", ".net", "core", "mvc", "someth", "like", "thi", "help", "me", ":", "public", "class", "homecontrol", ":", "control", "{", "public", "iactionresult", "index", "(", ")", "{", "var", "url", "=", "request.path", "+", "request.querystr", ";", "return", "app", "(", "url", ")", ";", "}", "[", "rout", "(", "``", "app", "''", ")", "]", "public", "iactionresult", "app", "(", "string", "url", ")", "{", "return", "view", "(", "``", "/wwwroot/app/build/index.html", "''", ")", ";", "}", "}", "basic", "in", "mvc", "side", ",", "all", "the", "rout", "not", "match", "will", "fall", "into", "to", "home/index", "as", "it", "specifi", "in", "startup.c", ".", "insid", "index", "it", "is", "possibl", "to", "get", "the", "origin", "request", "url", "and", "pass", "it", "wherev", "need", ".", "startup.c", "app.usemvc", "(", "rout", "=", ">", "{", "routes.maprout", "(", "name", ":", "``", "default", "''", ",", "templat", ":", "``", "{", "controller=hom", "}", "/", "{", "action=index", "}", "/", "{", "id", "?", "}", "''", ")", ";", "routes.mapspafallbackrout", "(", "name", ":", "``", "spa-fallback", "''", ",", "default", ":", "new", "{", "control", "=", "``", "home", "''", ",", "action", "=", "``", "index", "''", "}", ")", ";", "}", ")", ";", "if", "you", "are", "host", "in", "ii", ";", "ad", "thi", "to", "my", "webconfig", "solv", "my", "problem", "<", "httperror", "errormode=", "''", "custom", "''", "defaultresponsemode=", "''", "executeurl", "''", ">", "<", "remov", "statuscode=", "''", "500", "''", "substatuscode=", "''", "100", "''", "/", ">", "<", "remov", "statuscode=", "''", "500", "''", "substatuscode=", "''", "-1", "''", "/", ">", "<", "remov", "statuscode=", "''", "404", "''", "substatuscode=", "''", "-1", "''", "/", ">", "<", "error", "statuscode=", "''", "404", "''", "path=", "''", "/", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "error", "statuscode=", "''", "500", "''", "prefixlanguagefilepath=", "''", "''", "path=", "''", "/error_500.asp", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "error", "statuscode=", "''", "500", "''", "substatuscode=", "''", "100", "''", "path=", "''", "/error_500.asp", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "/httperror", ">", "you", "can", "make", "similar", "configur", "for", "ani", "other", "server", "use", "hashrout", "work", "for", "me", "with", "redux", "also", ",", "just", "simpli", "replac", ":", "import", "{", "router", "//replac", "router", "}", "from", "``", "react-router-dom", "''", ";", "reactdom.rend", "(", "<", "localeprovid", "locale=", "{", "enu", "}", ">", "<", "provid", "store=", "{", "store", "}", ">", "<", "router", "history=", "{", "histori", "}", ">", "//replac", "here", "say", "router", "<", "layout/", ">", "<", "/router", ">", "<", "/provid", ">", "<", "/localeprovid", ">", ",", "document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "registerservicework", "(", ")", ";", "to", ":", "import", "{", "hashrout", "//replac", "with", "hashrout", "}", "from", "``", "react-router-dom", "''", ";", "reactdom.rend", "(", "<", "localeprovid", "locale=", "{", "enu", "}", ">", "<", "provid", "store=", "{", "store", "}", ">", "<", "hashrout", "history=", "{", "histori", "}", ">", "//replac", "with", "hashrout", "<", "layout/", ">", "<", "/hashrout", ">", "<", "/provid", ">", "<", "/localeprovid", ">", ",", "document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "registerservicework", "(", ")", ";", "in", "case", ",", "anyon", "is", "here", "look", "for", "solut", "on", "react", "js", "spa", "with", "laravel", ".", "the", "accept", "answer", "is", "the", "best", "explan", "of", "whi", "such", "problem", "happen", ".", "as", "alreadi", "explain", "you", "have", "to", "configur", "both", "client", "side", "and", "server", "side", ".", "in", "your", "blade", "templat", ",", "includ", "the", "js", "bundl", "file", ",", "make", "sure", "to", "use", "url", "facad", "like", "thi", "<", "script", "src=", "''", "{", "{", "url", ":", ":to", "(", "'js/user/spa.j", "'", ")", "}", "}", "''", ">", "<", "/script", ">", "in", "your", "rout", ",", "make", "sure", "add", "thi", "to", "the", "main", "endpoint", "where", "the", "blade", "templat", "is", ".", "for", "exampl", ",", "rout", ":", ":get", "(", "'/setting-alert", "'", ",", "function", "(", ")", "{", "return", "view", "(", "'user.set-alert", "'", ")", ";", "}", ")", ";", "the", "abov", "is", "the", "main", "endpoint", "for", "the", "blade", "templat", ".", "now", "add", "an", "option", "rout", "too", ",", "rout", ":", ":get", "(", "'/setting-alerts/", "{", "spa", "?", "}", "'", ",", "function", "(", ")", "{", "return", "view", "(", "'user.set-alert", "'", ")", ";", "}", ")", ";", "the", "problem", "that", "happen", "is", "that", "first", "the", "blade", "templat", "is", "load", ",", "then", "the", "react", "router", ".", "so", ",", "when", "you", "'re", "load", "'/setting-alert", "'", ",", "it", "load", "the", "html", "and", "the", "js", ".", "but", "when", "you", "load", "'/setting-alerts/about", "'", ",", "it", "first", "load", "on", "the", "server", "side", ".", "sinc", "on", "the", "server", "side", ",", "there", "is", "noth", "on", "thi", "locat", ",", "it", "return", "not", "found", ".", "when", "you", "have", "that", "option", "router", ",", "it", "load", "that", "same", "page", "and", "react", "router", "is", "also", "load", ",", "then", "react", "loader", "decid", "which", "compon", "to", "show", ".", "hope", "thi", "help", ".", "i", "am", "use", "webpack", ",", "i", "had", "same", "problem", "solution=", ">", "in", "your", "server.j", "file", "const", "express", "=", "requir", "(", "'express", "'", ")", ";", "const", "app", "=", "express", "(", ")", ";", "app.us", "(", "express.stat", "(", "path.resolv", "(", "__dirnam", ",", "'", "..", "/dist", "'", ")", ")", ")", ";", "app.get", "(", "'", "*", "'", ",", "function", "(", "req", ",", "re", ")", "{", "res.sendfil", "(", "path.resolv", "(", "__dirnam", ",", "'", "..", "/dist/index.html", "'", ")", ")", ";", "//", "res.end", "(", ")", ";", "}", ")", ";", "whi", "doe", "n't", "my", "applic", "render", "after", "refresh", "?", "you", "can", "tri", "read", "thi", "all", "though", "it", "'s", "not", "mine", ":", "http", ":", "//www.andreasreiterer.at/fix-browserrouter-on-apache/", "fix", "the", "app", "\u2019", "s", "rout", "now", "here", "\u2019", "s", "how", "to", "final", "fix", "the", "rout", ".", "to", "tell", "apach", "to", "redirect", "request", "to", "index.html", "where", "our", "app", "live", ",", "we", "have", "to", "modifi", "the", ".htaccess", "file", ".", "if", "there", "is", "no", "such", "file", "in", "your", "app", "\u2019", "s", "folder", "yet", ",", "just", "creat", "it", ".", "then", "be", "sure", "that", "you", "put", "in", "those", "4", "line", "that", "will", "magic", "make", "your", "rout", "work", ".", "option", "-multiview", "rewriteengin", "on", "rewritecond", "%", "{", "request_filenam", "}", "!", "-f", "rewriterul", "^", "index.html", "[", "qsa", ",", "l", "]", "after", "we", "put", "that", ".htaccess", "file", "into", "the", "same", "directori", "as", "the", "index.html", ",", "apach", "will", "redirect", "each", "new", "request", "directli", "to", "your", "app", ".", "bonu", ":", "deploy", "the", "react", "app", "to", "a", "sub", "directori", "if", "you", "\u2019", "re", "deploy", "your", "app", "into", "a", "sub", "directori", ",", "so", "it", "\u2019", "s", "access", "e.g", ".", "via", "http", ":", "//myapp.com/the-app", ",", "you", "\u2019", "ll", "soon", "notic", "that", "there", "is", "anoth", "issu", ".", "each", "click", "to", "a", "new", "rout", "will", "transform", "the", "url", "to", "someth", "like", "http", ":", "//myapp.com/route-abc", "\u2013", "which", "will", "break", "again", "after", "a", "reload", ".", "but", "there", "is", "a", "simpl", "fix", "for", "that", ":", "browserrout", "ha", "a", "prop", "call", "basenam", "where", "you", "can", "specifi", "your", "sub-directori", "path", ":", "from", "now", "on", ",", "each", "rout", "like", "/contact", "will", "result", "in", "an", "url", "like", "http", ":", "//myapp.com/the-app/contact", ".", "i", "had", "thi", "same", "problem", "and", "thi", "solut", "work", "for", "us", "..", "background", ":", "we", "are", "host", "multipl", "app", "on", "the", "same", "server", ".", "when", "we", "would", "refresh", "the", "server", "would", "not", "understand", "where", "to", "look", "for", "our", "index", "in", "the", "dist", "folder", "for", "that", "particular", "app", ".", "the", "abov", "link", "will", "take", "you", "to", "what", "work", "for", "us", "...", "hope", "thi", "help", ",", "as", "we", "have", "spent", "quit", "a", "hour", "on", "figur", "out", "a", "solut", "for", "our", "need", ".", "we", "are", "use", ":", "package.json", "``", "depend", "''", ":", "{", "``", "babel-polyfil", "''", ":", "``", "^6.23.0", "''", ",", "``", "ej", "''", ":", "``", "^2.5.6", "''", ",", "``", "express", "''", ":", "``", "^4.15.2", "''", ",", "``", "prop-typ", "''", ":", "``", "^15.5.6", "''", ",", "``", "react", "''", ":", "``", "^15.5.4", "''", ",", "``", "react-dom", "''", ":", "``", "^15.5.4", "''", ",", "``", "react-redux", "''", ":", "``", "^5.0.4", "''", ",", "``", "react-rout", "''", ":", "``", "^3.0.2", "''", ",", "``", "react-router-redux", "''", ":", "``", "^4.0.8", "''", ",", "``", "redux", "''", ":", "``", "^3.6.0", "''", ",", "``", "redux-persist", "''", ":", "``", "^4.6.0", "''", ",", "``", "redux-thunk", "''", ":", "``", "^2.2.0", "''", ",", "``", "webpack", "''", ":", "``", "^2.4.1", "''", "}", "my", "webpack.config.j", "webpack.config.j", "/", "*", "eslint-dis", "*", "/", "const", "path", "=", "requir", "(", "'path", "'", ")", ";", "const", "webpack", "=", "requir", "(", "'webpack", "'", ")", ";", "const", "htmlwebpackplugin", "=", "requir", "(", "'html-webpack-plugin", "'", ")", ";", "const", "babelpolyfil", "=", "requir", "(", "'babel-polyfil", "'", ")", ";", "const", "htmlwebpackpluginconfig", "=", "new", "htmlwebpackplugin", "(", "{", "templat", ":", "__dirnam", "+", "'/app/views/index.html", "'", ",", "filenam", ":", "'index.html", "'", ",", "inject", ":", "'bodi", "'", "}", ")", ";", "module.export", "=", "{", "entri", ":", "[", "'babel-polyfil", "'", ",", "'./app/index.j", "'", "]", ",", "output", ":", "{", "path", ":", "__dirnam", "+", "'/dist/your_app_name_her", "'", ",", "filenam", ":", "'index_bundle.j", "'", "}", ",", "modul", ":", "{", "rule", ":", "[", "{", "test", ":", "/\\.j", "$", "/", ",", "loader", ":", "'babel-load", "'", ",", "queri", ":", "{", "preset", ":", "[", "``", "env", "''", ",", "``", "react", "''", ",", "``", "stage-1", "''", "]", "}", ",", "exclud", ":", "/node_modules/", "}", "]", "}", ",", "plugin", ":", "[", "htmlwebpackpluginconfig", "]", "}", "my", "index.j", "index.j", "import", "react", "from", "'react", "'", "import", "reactdom", "from", "'react-dom", "'", "import", "rout", "from", "'./rout", "'", "import", "{", "provid", "}", "from", "'react-redux", "'", "import", "{", "createhistori", "}", "from", "'histori", "'", "import", "{", "userouterhistori", "}", "from", "'react-rout", "'", "import", "configurestor", "from", "'./store/configurestor", "'", "import", "{", "synchistorywithstor", "}", "from", "'react-router-redux", "'", "import", "{", "persiststor", "}", "from", "'redux-persist", "'", "const", "store", "=", "configurestor", "(", ")", ";", "const", "browserhistori", "=", "userouterhistori", "(", "createhistori", ")", "(", "{", "basenam", ":", "'/your_app_name_her", "'", "}", ")", "const", "histori", "=", "synchistorywithstor", "(", "browserhistori", ",", "store", ")", "persiststor", "(", "store", ",", "{", "blacklist", ":", "[", "'rout", "'", "]", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "'rehydr", "complet", "'", ")", "}", ")", "//", "persiststor", "(", "store", ")", ".purg", "(", ")", "reactdom.rend", "(", "<", "provid", "store=", "{", "store", "}", ">", "<", "div", ">", "<", "rout", "history=", "{", "histori", "}", "/", ">", "<", "/div", ">", "<", "/provid", ">", ",", "document.getelementbyid", "(", "'mount", "'", ")", ")", "my", "app.j", "var", "express", "=", "requir", "(", "'express", "'", ")", ";", "var", "app", "=", "express", "(", ")", ";", "app.us", "(", "express.stat", "(", "__dirnam", "+", "'/dist", "'", ")", ")", ";", "//", "app.us", "(", "express.stat", "(", "__dirnam", "+", "'/app/asset", "'", ")", ")", ";", "app.set", "(", "'view", "'", ",", "__dirnam", "+", "'/dist/your_app_name_her", "'", ")", ";", "app.engin", "(", "'html", "'", ",", "requir", "(", "'ej", "'", ")", ".renderfil", ")", ";", "app.set", "(", "'view", "engin", "'", ",", "'html", "'", ")", ";", "app.get", "(", "'/", "*", "'", ",", "function", "(", "req", ",", "re", ")", "{", "res.rend", "(", "'index", "'", ")", ";", "}", ")", ";", "app.listen", "(", "8081", ",", "function", "(", ")", "{", "console.log", "(", "'md", "listen", "on", "port", "8081", "!", "'", ")", ";", "}", ")", ";", "i", "would", "like", "to", "ask", "whi", "my", "state", "is", "not", "chang", "when", "i", "do", "an", "onclick", "event", ".", "i", "'ve", "search", "a", "while", "ago", "that", "i", "need", "to", "bind", "the", "onclick", "function", "in", "constructor", "but", "still", "the", "state", "is", "not", "updat", ".", "here", "'s", "my", "code", ":", "import", "react", "from", "'react", "'", ";", "import", "grid", "from", "'react-bootstrap/lib/grid", "'", ";", "import", "row", "from", "'react-bootstrap/lib/row", "'", ";", "import", "col", "from", "'react-bootstrap/lib/col", "'", ";", "import", "boardaddmod", "from", "'components/board/boardaddmodal.jsx", "'", ";", "import", "style", "from", "'styles/boarditem.css", "'", ";", "class", "boardadd", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "{", "boardaddmodalshow", ":", "fals", "}", "this.openaddboardmod", "=", "this.openaddboardmodal.bind", "(", "thi", ")", ";", "}", "openaddboardmod", "(", ")", "{", "this.setst", "(", "{", "boardaddmodalshow", ":", "true", "}", ")", ";", "//", "after", "set", "a", "new", "state", "it", "still", "return", "a", "fals", "valu", "console.log", "(", "this.state.boardaddmodalshow", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "col", "lg=", "{", "3", "}", ">", "<", "a", "href=", "''", "javascript", ":", ";", "''", "classname=", "{", "style.boarditemadd", "}", "onclick=", "{", "this.openaddboardmod", "}", ">", "<", "div", "classname=", "{", "[", "style.boarditemcontain", ",", "style.boarditemgray", "]", ".join", "(", "'", "'", ")", "}", ">", "creat", "new", "board", "<", "/div", ">", "<", "/a", ">", "<", "/col", ">", ")", "}", "}", "export", "default", "boardadd", "thi", "callback", "is", "realli", "messi", ".", "just", "use", "async", "await", "instead", ":", "async", "openaddboardmod", "(", ")", "{", "await", "this.setst", "(", "{", "boardaddmodalshow", ":", "true", "}", ")", ";", "console.log", "(", "this.state.boardaddmodalshow", ")", ";", "}", "your", "state", "need", "some", "time", "to", "mutat", ",", "and", "sinc", "console.log", "(", "this.state.boardaddmodalshow", ")", "execut", "befor", "the", "state", "mutat", ",", "you", "get", "the", "previou", "valu", "as", "output", ".", "so", "you", "need", "to", "write", "the", "consol", "in", "the", "callback", "to", "the", "setstat", "function", "openaddboardmod", "(", ")", "{", "this.setst", "(", "{", "boardaddmodalshow", ":", "true", "}", ",", "function", "(", ")", "{", "console.log", "(", "this.state.boardaddmodalshow", ")", ";", "}", ")", ";", "}", "setstat", "is", "asynchron", ".", "it", "mean", "you", "can", "\u2019", "t", "call", "it", "on", "one", "line", "and", "assum", "the", "state", "ha", "chang", "on", "the", "next", ".", "accord", "to", "react", "doc", "setstat", "(", ")", "doe", "not", "immedi", "mutat", "this.stat", "but", "creat", "a", "pend", "state", "transit", ".", "access", "this.stat", "after", "call", "thi", "method", "can", "potenti", "return", "the", "exist", "valu", ".", "there", "is", "no", "guarante", "of", "synchron", "oper", "of", "call", "to", "setstat", "and", "call", "may", "be", "batch", "for", "perform", "gain", ".", "whi", "would", "they", "make", "setstat", "async", "thi", "is", "becaus", "setstat", "alter", "the", "state", "and", "caus", "rerend", ".", "thi", "can", "be", "an", "expens", "oper", "and", "make", "it", "synchron", "might", "leav", "the", "browser", "unrespons", ".", "thu", "the", "setstat", "call", "are", "asynchron", "as", "well", "as", "batch", "for", "better", "ui", "experi", "and", "perform", ".", "fortun", "setstat", "(", ")", "take", "a", "callback", ".", "and", "thi", "is", "where", "we", "get", "updat", "state", ".", "consid", "thi", "exampl", ".", "this.setst", "(", "{", "name", ":", "``", "mynam", "''", "}", ",", "(", ")", "=", ">", "{", "//callback", "console.log", "(", "this.state.nam", ")", "//", "mynam", "}", ")", ";", "so", "when", "callback", "fire", ",", "this.stat", "is", "the", "updat", "state", ".", "you", "can", "get", "mutated/upd", "data", "in", "callback", ".", "sinc", "setsat", "is", "a", "asynchron", "function", "so", "you", "need", "to", "consol", "the", "state", "as", "a", "callback", "like", "thi", ".", "openaddboardmod", "(", ")", "{", "this.setst", "(", "{", "boardaddmodalshow", ":", "true", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "this.state.boardaddmodalshow", ")", "}", ")", ";", "}", "setstat", "(", ")", "doe", "not", "alway", "immedi", "updat", "the", "compon", ".", "it", "may", "batch", "or", "defer", "the", "updat", "until", "later", ".", "thi", "make", "read", "this.stat", "right", "after", "call", "setstat", "(", ")", "a", "potenti", "pitfal", ".", "instead", ",", "use", "componentdidupd", "or", "a", "setstat", "callback", "(", "setstat", "(", "updat", ",", "callback", ")", ")", ",", "either", "of", "which", "are", "guarante", "to", "fire", "after", "the", "updat", "ha", "been", "appli", ".", "if", "you", "need", "to", "set", "the", "state", "base", "on", "the", "previou", "state", ",", "read", "about", "the", "updat", "argument", "below", ".", "setstat", "(", ")", "will", "alway", "lead", "to", "a", "re-rend", "unless", "shouldcomponentupd", "(", ")", "return", "fals", ".", "if", "mutabl", "object", "are", "be", "use", "and", "condit", "render", "logic", "can", "not", "be", "implement", "in", "shouldcomponentupd", "(", ")", ",", "call", "setstat", "(", ")", "onli", "when", "the", "new", "state", "differ", "from", "the", "previou", "state", "will", "avoid", "unnecessari", "re-rend", ".", "the", "first", "argument", "is", "an", "updat", "function", "with", "the", "signatur", ":", "(", "state", ",", "prop", ")", "=", ">", "statechang", "state", "is", "a", "refer", "to", "the", "compon", "state", "at", "the", "time", "the", "chang", "is", "be", "appli", ".", "it", "should", "not", "be", "directli", "mutat", ".", "instead", ",", "chang", "should", "be", "repres", "by", "build", "a", "new", "object", "base", "on", "the", "input", "from", "state", "and", "prop", ".", "for", "instanc", ",", "suppos", "we", "want", "to", "increment", "a", "valu", "in", "state", "by", "props.step", ":", "this.setst", "(", "(", "state", ",", "prop", ")", "=", ">", "{", "return", "{", "counter", ":", "state.count", "+", "props.step", "}", ";", "}", ")", ";", "if", "you", "want", "to", "track", "the", "state", "is", "updat", "or", "not", "then", "the", "anoth", "way", "of", "do", "the", "same", "thing", "is", "_stateupd", "(", ")", "{", "console.log", "(", "this.stat", ".", "boardaddmodalshow", ")", ";", "}", "openaddboardmod", "(", ")", "{", "this.setst", "(", "{", "boardaddmodalshow", ":", "true", "}", ",", "this._stateupdated.bind", "(", "thi", ")", ")", ";", "}", "thi", "way", "you", "can", "call", "the", "method", "``", "_stateupd", "''", "everi", "time", "you", "tri", "to", "updat", "the", "state", "for", "debug", ".", "setstat", "(", ")", "is", "asynchron", ".", "the", "best", "way", "to", "verifi", "if", "the", "state", "is", "updat", "would", "be", "in", "the", "componentdidupd", "(", ")", "and", "not", "to", "put", "a", "console.log", "(", "this.state.boardaddmodalshow", ")", "after", "this.setst", "(", "{", "boardaddmodalshow", ":", "true", "}", ")", ".", "accord", "to", "react", "doc", "think", "of", "setstat", "(", ")", "as", "a", "request", "rather", "than", "an", "immedi", "command", "to", "updat", "the", "compon", ".", "for", "better", "perceiv", "perform", ",", "react", "may", "delay", "it", ",", "and", "then", "updat", "sever", "compon", "in", "a", "singl", "pass", ".", "react", "doe", "not", "guarante", "that", "the", "state", "chang", "are", "appli", "immedi", "accord", "to", "react", "doc", "react", "doe", "not", "guarante", "that", "the", "state", "chang", "are", "appli", "immedi", ".", "thi", "make", "read", "this.stat", "right", "after", "call", "setstat", "(", ")", "a", "potenti", "pitfal", "and", "can", "potenti", "return", "the", "exist", "valu", "due", "to", "async", "natur", ".", "instead", ",", "use", "componentdidupd", "or", "a", "setstat", "callback", "that", "is", "execut", "right", "after", "setstat", "oper", "is", "successful.gener", "we", "recommend", "use", "componentdidupd", "(", ")", "for", "such", "logic", "instead", ".", "exampl", ":", "import", "react", "from", "``", "react", "''", ";", "import", "reactdom", "from", "``", "react-dom", "''", ";", "import", "``", "./styles.css", "''", ";", "class", "app", "extend", "react.compon", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.stat", "=", "{", "counter", ":", "1", "}", ";", "}", "componentdidupd", "(", ")", "{", "console.log", "(", "``", "componentdidupd", "fire", "''", ")", ";", "console.log", "(", "``", "state", "''", ",", "this.stat", ")", ";", "}", "updatest", "=", "(", ")", "=", ">", "{", "this.setst", "(", "(", "state", ",", "prop", ")", "=", ">", "{", "return", "{", "counter", ":", "state.count", "+", "1", "}", ";", "}", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "app", "''", ">", "<", "h1", ">", "hello", "codesandbox", "<", "/h1", ">", "<", "h2", ">", "start", "edit", "to", "see", "some", "magic", "happen", "!", "<", "/h2", ">", "<", "button", "onclick=", "{", "this.updatest", "}", ">", "updat", "state", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "const", "rootel", "=", "document.getelementbyid", "(", "``", "root", "''", ")", ";", "reactdom.rend", "(", "<", "app", "/", ">", ",", "rootel", ")", ";", "for", "anyon", "tri", "to", "do", "thi", "with", "hook", ",", "you", "need", "useeffect", ".", "function", "app", "(", ")", "{", "const", "[", "x", ",", "setx", "]", "=", "usest", "(", "5", ")", "const", "[", "y", ",", "seti", "]", "=", "usest", "(", "15", ")", "console.log", "(", "``", "element", "is", "render", ":", "''", ",", "x", ",", "y", ")", "//", "set", "y", "doe", "not", "trigger", "the", "effect", "//", "the", "second", "argument", "is", "an", "array", "of", "depend", "useeffect", "(", "(", ")", "=", ">", "console.log", "(", "``", "re-rend", "becaus", "x", "chang", ":", "''", ",", "x", ")", ",", "[", "x", "]", ")", "function", "handlexclick", "(", ")", "{", "console.log", "(", "``", "x", "befor", "set", ":", "''", ",", "x", ")", "setx", "(", "10", ")", "console.log", "(", "``", "x", "in", "*", "line", "*", "after", "set", ":", "''", ",", "x", ")", "}", "return", "<", ">", "<", "div", ">", "x", "is", "{", "x", "}", ".", "<", "/div", ">", "<", "button", "onclick=", "{", "handlexclick", "}", ">", "set", "x", "to", "10", "<", "/button", ">", "<", "div", ">", "y", "is", "{", "y", "}", ".", "<", "/div", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "seti", "(", "20", ")", "}", ">", "set", "y", "to", "20", "<", "/button", ">", "<", "/", ">", "}", "output", ":", "element", "is", "render", ":", "5", "15", "re-rend", "becaus", "x", "chang", ":", "5", "(", "press", "x", "button", ")", "x", "befor", "set", ":", "5", "x", "in", "*", "line", "*", "after", "set", ":", "5", "element", "is", "render", ":", "10", "15", "re-rend", "becaus", "x", "chang", ":", "10", "(", "press", "y", "button", ")", "element", "is", "render", ":", "10", "20", "when", "i", "wa", "run", "the", "code", "and", "check", "my", "output", "at", "consol", "it", "show", "the", "that", "it", "is", "undefin", ".", "after", "i", "search", "around", "and", "find", "someth", "that", "work", "for", "me", ".", "componentdidupd", "(", ")", "{", "}", "i", "ad", "thi", "method", "in", "my", "code", "after", "constructor", "(", ")", ".", "check", "out", "the", "life", "cycl", "of", "react", "nativ", "workflow", ".", "http", ":", "//images.app.goo.gl/bvrai4ea2p4lchqj8", "this.setst", "(", "{", "ismonthfe", ":", "!", "this.state.ismonthfe", ",", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "this.state.ismonthfe", ")", ";", "}", ")", "ye", "becaus", "setstat", "is", "an", "asynchron", "function", ".", "the", "best", "way", "to", "set", "state", "right", "after", "you", "write", "set", "state", "is", "by", "use", "object.assign", "like", "thi", ":", "for", "eg", "you", "want", "to", "set", "a", "properti", "isvalid", "to", "true", ",", "do", "it", "like", "thi", "object.assign", "(", "this.stat", ",", "{", "isvalid", ":", "true", "}", ")", "you", "can", "access", "updat", "state", "just", "after", "write", "thi", "line", ".", "thi", "question", "alreadi", "ha", "answer", "here", ":", "how", "to", "access", "the", "correct", "`", "thi", "`", "insid", "a", "callback", "?", "(", "12", "answer", ")", "close", "6", "month", "ago", ".", "i", "am", "write", "a", "simpl", "compon", "in", "es6", "(", "with", "babelj", ")", ",", "and", "function", "this.setst", "is", "not", "work", ".", "typic", "error", "includ", "someth", "like", "can", "not", "read", "properti", "'setstat", "'", "of", "undefin", "or", "this.setst", "is", "not", "a", "function", "do", "you", "know", "whi", "?", "here", "is", "the", "code", ":", "import", "react", "from", "'react", "'", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.stat", "=", "{", "inputcont", ":", "'startvalu", "'", "}", "}", "sendcont", "(", "e", ")", "{", "console.log", "(", "'send", "input", "content", "'+react.finddomnod", "(", "react.refs.someref", ")", ".valu", ")", "}", "changecont", "(", "e", ")", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "titl", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcont", "}", "onchange=", "{", "this.changecont", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcont", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "this.changecont", "need", "to", "be", "bound", "to", "the", "compon", "instanc", "via", "this.changecontent.bind", "(", "thi", ")", "befor", "be", "pass", "as", "the", "onchang", "prop", ",", "otherwis", "the", "thi", "variabl", "in", "the", "bodi", "of", "the", "function", "will", "not", "refer", "to", "the", "compon", "instanc", "but", "to", "window", ".", "see", "function", ":", ":bind", ".", "when", "use", "react.createclass", "instead", "of", "es6", "class", ",", "everi", "non-lifecycl", "method", "defin", "on", "a", "compon", "is", "automat", "bound", "to", "the", "compon", "instanc", ".", "see", "autobind", ".", "be", "awar", "that", "bind", "a", "function", "creat", "a", "new", "function", ".", "you", "can", "either", "bind", "it", "directli", "in", "render", ",", "which", "mean", "a", "new", "function", "will", "be", "creat", "everi", "time", "the", "compon", "render", ",", "or", "bind", "it", "in", "your", "constructor", ",", "which", "will", "onli", "fire", "onc", ".", "constructor", "(", ")", "{", "this.changecont", "=", "this.changecontent.bind", "(", "thi", ")", ";", "}", "vs", "render", "(", ")", "{", "return", "<", "input", "onchange=", "{", "this.changecontent.bind", "(", "thi", ")", "}", "/", ">", ";", "}", "ref", "are", "set", "on", "the", "compon", "instanc", "and", "not", "on", "react.ref", ":", "you", "need", "to", "chang", "react.refs.someref", "to", "this.refs.someref", ".", "you", "'ll", "also", "need", "to", "bind", "the", "sendcont", "method", "to", "the", "compon", "instanc", "so", "that", "thi", "refer", "to", "it", ".", "morhau", "is", "correct", ",", "but", "thi", "can", "be", "solv", "without", "bind", ".", "you", "can", "use", "an", "arrow", "function", "togeth", "with", "the", "class", "properti", "propos", ":", "class", "someclass", "extend", "react.compon", "{", "changecont", "=", "(", "e", ")", "=", ">", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ")", "}", "render", "(", ")", "{", "return", "<", "input", "type=", "''", "text", "''", "onchange=", "{", "this.changecont", "}", "/", ">", ";", "}", "}", "becaus", "the", "arrow", "function", "is", "declar", "in", "the", "scope", "of", "the", "constructor", ",", "and", "becaus", "arrow", "function", "maintain", "thi", "from", "their", "declar", "scope", ",", "it", "all", "work", ".", "the", "downsid", "here", "is", "that", "these", "wont", "be", "function", "on", "the", "prototyp", ",", "they", "will", "all", "be", "recreat", "with", "each", "compon", ".", "howev", ",", "thi", "is", "n't", "much", "of", "a", "downsid", "sinc", "bind", "result", "in", "the", "same", "thing", ".", "thi", "issu", "is", "one", "of", "the", "first", "thing", "most", "of", "us", "experi", ",", "when", "transit", "from", "the", "react.createclass", "(", ")", "compon", "definit", "syntax", "to", "the", "es6", "class", "way", "of", "extend", "react.compon", ".", "it", "is", "caus", "by", "the", "thi", "context", "differ", "in", "react.createclass", "(", ")", "vs", "extend", "react.compon", ".", "use", "react.createclass", "(", ")", "will", "automat", "bind", "thi", "context", "(", "valu", ")", "correctli", ",", "but", "that", "is", "not", "the", "case", "when", "use", "es6", "class", ".", "when", "do", "it", "the", "es6", "way", "(", "by", "extend", "react.compon", ")", "the", "thi", "context", "is", "null", "by", "default", ".", "properti", "of", "the", "class", "do", "not", "automat", "bind", "to", "the", "react", "class", "(", "compon", ")", "instanc", ".", "approach", "to", "solv", "thi", "issu", "i", "know", "a", "total", "of", "4", "gener", "approach", ".", "bind", "your", "function", "in", "the", "class", "constructor", ".", "consid", "by", "mani", "as", "a", "best-practic", "approach", "that", "avoid", "touch", "jsx", "at", "all", "and", "doe", "n't", "creat", "a", "new", "function", "on", "each", "compon", "re-rend", ".", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.handleclick", "=", "this.handleclick.bind", "(", "thi", ")", ";", "}", "handleclick", "(", ")", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "bind", "your", "function", "inlin", ".", "you", "can", "still", "find", "thi", "approach", "use", "here", "and", "there", "in", "some", "tutori", "/", "articl", "/", "etc", ",", "so", "it", "'s", "import", "you", "'re", "awar", "of", "it", ".", "it", "it", "the", "same", "concept", "like", "#", "1", ",", "but", "be", "awar", "that", "bind", "a", "function", "creat", "a", "new", "function", "per", "each", "re-rend", ".", "class", "someclass", "extend", "react.compon", "{", "handleclick", "(", ")", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick.bind", "(", "thi", ")", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "use", "a", "fat", "arrow", "function", ".", "until", "arrow", "function", ",", "everi", "new", "function", "defin", "it", "own", "thi", "valu", ".", "howev", ",", "the", "arrow", "function", "doe", "not", "creat", "it", "own", "thi", "context", ",", "so", "thi", "ha", "the", "origin", "mean", "from", "the", "react", "compon", "instanc", ".", "therefor", ",", "we", "can", ":", "class", "someclass", "extend", "react.compon", "{", "handleclick", "(", ")", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.handleclick", "(", ")", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "or", "class", "someclass", "extend", "react.compon", "{", "handleclick", "=", "(", ")", "=", ">", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "use", "util", "function", "librari", "to", "automat", "bind", "your", "function", ".", "there", "are", "a", "few", "util", "librari", "out", "there", ",", "that", "automat", "doe", "the", "job", "for", "you", ".", "here", "are", "some", "of", "the", "popular", ",", "just", "to", "mention", "a", "few", ":", "autobind", "decor", "is", "an", "npm", "packag", "which", "bind", "method", "of", "a", "class", "to", "the", "correct", "instanc", "of", "thi", ",", "even", "when", "the", "method", "are", "detach", ".", "the", "packag", "use", "@", "autobind", "befor", "method", "to", "bind", "thi", "to", "the", "correct", "refer", "to", "the", "compon", "'s", "context", ".", "import", "autobind", "from", "'autobind-decor", "'", ";", "class", "someclass", "extend", "react.compon", "{", "@", "autobind", "handleclick", "(", ")", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "autobind", "decor", "is", "smart", "enough", "to", "let", "us", "bind", "all", "method", "insid", "a", "compon", "class", "at", "onc", ",", "just", "like", "approach", "#", "1.", "class", "autobind", "is", "anoth", "npm", "packag", "that", "is", "wide", "use", "to", "solv", "thi", "bind", "issu", ".", "unlik", "autobind", "decor", ",", "it", "doe", "not", "use", "of", "the", "decor", "pattern", ",", "but", "realli", "just", "use", "a", "function", "insid", "your", "constructor", "that", "automat", "bind", "the", "compon", "'s", "method", "to", "the", "correct", "refer", "of", "thi", ".", "import", "autobind", "from", "'class-autobind", "'", ";", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", ")", "{", "autobind", "(", "thi", ")", ";", "//", "or", "if", "you", "want", "to", "bind", "onli", "onli", "select", "function", ":", "//", "autobind", "(", "thi", ",", "'handleclick", "'", ")", ";", "}", "handleclick", "(", ")", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "ps", ":", "other", "veri", "similar", "librari", "is", "react", "autobind", ".", "recommend", "if", "i", "were", "you", ",", "i", "would", "stick", "with", "approach", "#", "1.", "howev", ",", "as", "soon", "as", "you", "get", "a", "ton", "of", "bind", "in", "your", "class", "constructor", ",", "i", "would", "recommend", "you", "to", "explor", "one", "of", "the", "helper", "librari", "mention", "in", "approach", "#", "4.", "other", "it", "'s", "not", "relat", "to", "the", "issu", "you", "have", ",", "but", "you", "should", "n't", "overus", "ref", ".", "your", "first", "inclin", "may", "be", "to", "use", "ref", "to", "``", "make", "thing", "happen", "''", "in", "your", "app", ".", "if", "thi", "is", "the", "case", ",", "take", "a", "moment", "and", "think", "more", "critic", "about", "where", "state", "should", "be", "own", "in", "the", "compon", "hierarchi", ".", "for", "similar", "purpos", ",", "just", "like", "the", "one", "you", "need", ",", "use", "a", "control", "compon", "is", "the", "prefer", "way", ".", "i", "suggest", "you", "to", "consid", "use", "your", "compon", "state", ".", "so", ",", "you", "can", "simpli", "access", "the", "valu", "like", "thi", ":", "this.state.inputcont", ".", "although", "the", "previou", "answer", "have", "provid", "the", "basic", "overview", "of", "solut", "(", "i.e", ".", "bind", ",", "arrow", "function", ",", "decor", "that", "do", "thi", "for", "you", ")", ",", "i", "'ve", "yet", "to", "come", "across", "an", "answer", "which", "actual", "explain", "whi", "thi", "is", "necessary\u2014which", "in", "my", "opinion", "is", "the", "root", "of", "confus", ",", "and", "lead", "to", "unnecessari", "step", "such", "as", "needless", "rebind", "and", "blindli", "follow", "what", "other", "do", ".", "thi", "is", "dynam", "to", "understand", "thi", "specif", "situat", ",", "a", "brief", "introduct", "to", "how", "thi", "work", ".", "the", "key", "thing", "here", "is", "that", "thi", "is", "a", "runtim", "bind", "and", "depend", "on", "the", "current", "execut", "context", ".", "henc", "whi", "it", "'s", "commonli", "refer", "to", "as", "``", "context", "''", "\u2014give", "inform", "on", "the", "current", "execut", "context", ",", "and", "whi", "you", "need", "to", "bind", "is", "becaus", "you", "loos", "``", "context", "''", ".", "but", "let", "me", "illustr", "the", "issu", "with", "a", "snippet", ":", "const", "foobar", "=", "{", "bar", ":", "function", "(", ")", "{", "return", "this.foo", ";", "}", ",", "foo", ":", "3", ",", "}", ";", "console.log", "(", "foobar.bar", "(", ")", ")", ";", "//", "3", ",", "all", "is", "good", "!", "in", "thi", "exampl", ",", "we", "get", "3", ",", "as", "expect", ".", "but", "take", "thi", "exampl", ":", "const", "barfunc", "=", "foobar.bar", ";", "console.log", "(", "barfunc", "(", ")", ")", ";", "//", "uh", "oh", ",", "undefin", "!", "it", "may", "be", "unexpect", "to", "find", "that", "it", "log", "undefined\u2014wher", "did", "the", "3", "go", "?", "the", "answer", "lie", "in", "``", "context", "''", ",", "or", "how", "you", "execut", "a", "function", ".", "compar", "how", "we", "call", "the", "function", ":", "//", "exampl", "1", "foobar.bar", "(", ")", ";", "//", "exampl", "2", "const", "barfunc", "=", "foobar.bar", ";", "barfunc", "(", ")", ";", "notic", "the", "differ", ".", "in", "the", "first", "exampl", ",", "we", "are", "specifi", "exactli", "where", "the", "bar", "method1", "is", "located\u2014on", "the", "foobar", "object", ":", "foobar.bar", "(", ")", ";", "^^^^^^", "but", "in", "the", "second", ",", "we", "store", "the", "method", "into", "a", "new", "variabl", ",", "and", "use", "that", "variabl", "to", "call", "the", "method", ",", "without", "explicitli", "state", "where", "the", "method", "actual", "exist", ",", "thu", "lose", "context", ":", "barfunc", "(", ")", ";", "//", "which", "object", "is", "thi", "function", "come", "from", "?", "and", "therein", "lie", "the", "problem", ",", "when", "you", "store", "a", "method", "in", "a", "variabl", ",", "the", "origin", "inform", "about", "where", "that", "method", "is", "locat", "(", "the", "context", "in", "which", "the", "method", "is", "be", "execut", ")", ",", "is", "lost", ".", "without", "thi", "inform", ",", "at", "runtim", ",", "there", "is", "no", "way", "for", "the", "javascript", "interpret", "to", "bind", "the", "correct", "this\u2014without", "specif", "context", ",", "thi", "doe", "not", "work", "as", "expected2", ".", "relat", "to", "react", "here", "'s", "an", "exampl", "of", "a", "react", "compon", "(", "shorten", "for", "breviti", ")", "suffer", "from", "the", "thi", "problem", ":", "handleclick", "(", ")", "{", "this.setst", "(", "(", "{", "click", "}", ")", "=", ">", "(", "{", "//", "setstat", "is", "async", ",", "use", "callback", "to", "access", "previou", "state", "click", ":", "click", "+", "1", ",", "//", "increas", "by", "1", "}", ")", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "{", "this.state.click", "}", "<", "/button", ">", ")", ";", "}", "but", "whi", ",", "and", "how", "doe", "the", "previou", "section", "relat", "to", "thi", "?", "thi", "is", "becaus", "they", "suffer", "from", "an", "abstract", "of", "the", "same", "problem", ".", "if", "you", "take", "a", "look", "how", "react", "handl", "event", "handler", ":", "//", "edit", "to", "fit", "answer", ",", "react", "perform", "other", "check", "intern", "//", "prop", "is", "the", "current", "react", "compon", "'s", "prop", ",", "registrationnam", "is", "the", "name", "of", "the", "event", "handl", "prop", ",", "i.e", "``", "onclick", "''", "let", "listen", "=", "prop", "[", "registrationnam", "]", ";", "//", "later", ",", "listen", "is", "call", "so", ",", "when", "you", "do", "onclick=", "{", "this.handleclick", "}", ",", "the", "method", "this.handleclick", "is", "eventu", "assign", "to", "the", "variabl", "listener3", ".", "but", "now", "you", "see", "the", "problem", "arise\u2014sinc", "we", "'ve", "assign", "this.handleclick", "to", "listen", ",", "we", "no", "longer", "specifi", "exactli", "where", "handleclick", "is", "come", "from", "!", "from", "react", "'s", "point", "of", "view", ",", "listen", "is", "just", "some", "function", ",", "not", "attach", "to", "ani", "object", "(", "or", "in", "thi", "case", ",", "react", "compon", "instanc", ")", ".", "we", "have", "lost", "context", "and", "thu", "the", "interpret", "can", "not", "infer", "a", "thi", "valu", "to", "use", "insid", "handleclick", ".", "whi", "bind", "work", "you", "might", "be", "wonder", ",", "if", "the", "interpret", "decid", "the", "thi", "valu", "at", "runtim", ",", "whi", "can", "i", "bind", "the", "handler", "so", "that", "it", "doe", "work", "?", "thi", "is", "becaus", "you", "can", "use", "function", "#", "bind", "to", "guarante", "the", "thi", "valu", "at", "runtim", ".", "thi", "is", "done", "by", "set", "an", "intern", "thi", "bind", "properti", "on", "a", "function", ",", "allow", "it", "to", "not", "infer", "thi", ":", "this.handleclick", "=", "this.handleclick.bind", "(", "thi", ")", ";", "when", "thi", "line", "is", "execut", ",", "presum", "in", "the", "constructor", ",", "the", "current", "thi", "is", "captur", "(", "the", "react", "compon", "instanc", ")", "and", "set", "as", "an", "intern", "thi", "bind", "of", "a", "entir", "new", "function", ",", "return", "from", "function", "#", "bind", ".", "thi", "make", "sure", "that", "when", "thi", "is", "be", "calcul", "at", "runtim", ",", "the", "interpret", "will", "not", "tri", "to", "infer", "anyth", ",", "but", "use", "the", "provid", "thi", "valu", "you", "given", "it", ".", "whi", "arrow", "function", "properti", "work", "arrow", "function", "class", "properti", "current", "work", "through", "babel", "base", "on", "the", "transpil", ":", "handleclick", "=", "(", ")", "=", ">", "{", "/", "*", "can", "use", "thi", "just", "fine", "here", "*", "/", "}", "becom", ":", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.handleclick", "=", "(", ")", "=", ">", "{", "}", "}", "and", "thi", "work", "due", "to", "the", "fact", "arrow", "function", "do", "not", "bind", "their", "own", "thi", ",", "but", "take", "the", "thi", "of", "their", "enclos", "scope", ".", "in", "thi", "case", ",", "the", "constructor", "'s", "thi", ",", "which", "point", "to", "the", "react", "compon", "instance\u2014thu", "give", "you", "the", "correct", "this.4", "1", "i", "use", "``", "method", "''", "to", "refer", "to", "a", "function", "that", "is", "suppos", "to", "be", "bound", "to", "an", "object", ",", "and", "``", "function", "''", "for", "those", "not", ".", "2", "in", "the", "second", "snippet", ",", "undefin", "is", "log", "instead", "of", "3", "becaus", "thi", "default", "to", "the", "global", "execut", "context", "(", "window", "when", "not", "in", "strict", "mode", ",", "or", "els", "undefin", ")", "when", "it", "can", "not", "be", "determin", "via", "specif", "context", ".", "and", "in", "the", "exampl", "window.foo", "doe", "not", "exist", "thu", "yield", "undefin", ".", "3", "if", "you", "go", "down", "the", "rabbit", "hole", "of", "how", "event", "in", "the", "event", "queue", "are", "execut", ",", "invokeguardedcallback", "is", "call", "on", "the", "listen", ".", "4", "it", "'s", "actual", "a", "lot", "more", "complic", ".", "react", "intern", "tri", "to", "use", "function", "#", "appli", "on", "listen", "for", "it", "own", "use", ",", "but", "thi", "doe", "not", "work", "arrow", "function", "as", "they", "simpli", "do", "not", "bind", "thi", ".", "that", "mean", ",", "when", "thi", "insid", "the", "arrow", "function", "is", "actual", "evalu", ",", "the", "thi", "is", "resolv", "up", "each", "lexic", "environ", "of", "each", "execut", "context", "of", "the", "current", "code", "of", "the", "modul", ".", "the", "execut", "context", "which", "final", "resolv", "to", "have", "a", "thi", "bind", "is", "the", "constructor", ",", "which", "ha", "a", "thi", "point", "to", "the", "current", "react", "compon", "instanc", ",", "allow", "it", "to", "work", ".", "you", "can", "tackl", "thi", "by", "three", "way", "1.bind", "the", "event", "function", "in", "the", "constructor", "itself", "as", "follow", "import", "react", "from", "'react", "'", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.stat", "=", "{", "inputcont", ":", "'startvalu", "'", "}", "this.changecont", "=", "this.changecontent.bind", "(", "thi", ")", ";", "}", "sendcont", "(", "e", ")", "{", "console.log", "(", "'send", "input", "content", "'+react.finddomnod", "(", "react.refs.someref", ")", ".valu", ")", "}", "changecont", "(", "e", ")", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "titl", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcont", "}", "onchange=", "{", "this.changecont", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcont", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "2.bind", "when", "it", "is", "call", "import", "react", "from", "'react", "'", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.stat", "=", "{", "inputcont", ":", "'startvalu", "'", "}", "}", "sendcont", "(", "e", ")", "{", "console.log", "(", "'send", "input", "content", "'+react.finddomnod", "(", "react.refs.someref", ")", ".valu", ")", "}", "changecont", "(", "e", ")", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "titl", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcont", "}", "onchange=", "{", "this.changecont", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcontent.bind", "(", "thi", ")", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "3.bi", "use", "arrow", "function", "import", "react", "from", "'react", "'", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.stat", "=", "{", "inputcont", ":", "'startvalu", "'", "}", "}", "sendcont", "(", "e", ")", "{", "console.log", "(", "'send", "input", "content", "'+react.finddomnod", "(", "react.refs.someref", ")", ".valu", ")", "}", "changecont", "(", "e", ")", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "titl", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcont", "}", "onchange=", "{", "this.changecont", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.sendcont", "(", ")", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "we", "need", "to", "bind", "the", "event", "function", "with", "the", "compon", "in", "constructor", "as", "follow", ",", "import", "react", "from", "'react", "'", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.stat", "=", "{", "inputcont", ":", "'startvalu", "'", "}", "this.changecont", "=", "this.changecontent.bind", "(", "thi", ")", ";", "}", "sendcont", "(", "e", ")", "{", "console.log", "(", "'send", "input", "content", "'+react.finddomnod", "(", "react.refs.someref", ")", ".valu", ")", "}", "changecont", "(", "e", ")", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "titl", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcont", "}", "onchange=", "{", "this.changecont", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcont", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "thank", "my", "recommend", "is", "use", "arrow", "function", "as", "a", "properti", "class", "someclass", "extend", "react.compon", "{", "handleclick", "=", "(", ")", "=", ">", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "and", "do", "not", "use", "arrow", "function", "as", "class", "someclass", "extend", "react.compon", "{", "handleclick", "(", ")", "{", "console.log", "(", "thi", ")", ";", "//", "the", "react", "compon", "instanc", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "this.handleclick", "}", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "becaus", "second", "approach", "will", "gener", "new", "function", "everi", "render", "call", "in", "fact", "thi", "mean", "new", "pointer", "new", "version", "of", "prop", ",", "than", "if", "you", "will", "later", "care", "about", "perform", "you", "are", "abl", "use", "react.purecompon", "or", "in", "react.compon", "you", "can", "overrid", "shouldcomponentupd", "(", "nextprop", ",", "nextstat", ")", "and", "shallow", "check", "when", "prop", "arriv", "you", "can", "solv", "thi", "follow", "these", "step", "chang", "sendcont", "function", "with", "sendcont", "(", "e", ")", "{", "console.log", "(", "'send", "input", "content", "'+this.refs.someref.valu", ")", "}", "chang", "render", "function", "with", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.state.inputcont", "}", "onchange=", "{", "(", "event", ")", "=", ">", "this.changecont", "(", "event", ")", "}", "/", ">", "<", "button", "onclick=", "{", "(", "event", ")", "=", ">", "this.sendcont", "(", "event", ")", "}", ">", "submit", "<", "/button", ">", "we", "have", "to", "bind", "our", "function", "with", "thi", "to", "get", "instanc", "of", "the", "function", "in", "class", ".", "like", "so", "in", "exampl", "<", "button", "onclick=", "{", "this.sendcontent.bind", "(", "thi", ")", "}", ">", "submit", "<", "/button", ">", "thi", "way", "this.stat", "will", "be", "valid", "object", ".", "if", "anyon", "will", "ever", "reach", "thi", "answer", ",", "here", "is", "a", "way", "to", "bind", "all", "of", "the", "function", "without", "need", "to", "bind", "them", "manual", "in", "the", "constructor", "(", ")", ":", "for", "(", "let", "member", "of", "object.getownpropertynam", "(", "object.getprototypeof", "(", "thi", ")", ")", ")", "{", "thi", "[", "member", "]", "=", "thi", "[", "member", "]", ".bind", "(", "thi", ")", "}", "or", "creat", "thi", "function", "in", "a", "global.jsx", "file", "export", "function", "bindallfunct", "(", "{", "bindto", ":", "di", "}", ")", "{", "for", "(", "let", "member", "of", "object.getownpropertynam", "(", "object.getprototypeof", "(", "di", ")", ")", ")", "{", "di", "[", "member", "]", "=", "di", "[", "member", "]", ".bind", "(", "di", ")", "}", "}", "and", "in", "your", "constructor", "(", ")", "call", "it", "like", ":", "bindallfunct", "(", "{", "bindto", ":", "thi", "}", ")", "thi", "issu", "is", "happen", "becaus", "this.changecont", "and", "onclick=", "{", "this.sendcont", "}", "are", "not", "bound", "to", "thi", "of", "the", "instanc", "of", "the", "compon", ".", "there", "is", "anoth", "solut", "(", "in", "addit", "to", "use", "bind", "(", ")", "in", "the", "constructor", "(", ")", ")", "to", "use", "the", "arrow", "function", "of", "es6", "which", "share", "the", "same", "lexic", "scope", "of", "the", "surround", "code", "and", "maintain", "thi", ",", "so", "you", "can", "chang", "your", "code", "in", "render", "(", ")", "to", "be", ":", "render", "(", ")", "{", "return", "(", "<", "input", "type=", "''", "text", "''", "onchange=", "{", "(", ")", "=", ">", "this.changecont", "(", ")", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.sendcont", "(", ")", "}", ">", "submit", "<", "/button", ">", ")", "}", "hello", "if", "you", "want", "to", "dont", "care", "about", "bind", "yourself", "your", "function", "call", ".", "you", "can", "use", "'class-autobind", "'", "and", "import", "it", "like", "that", "import", "autobind", "from", "'class-autobind", "'", ";", "class", "test", "extend", "compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "autobind", "(", "thi", ")", ";", "}", "dont", "write", "autobind", "befor", "the", "super", "call", "becaus", "it", "will", "not", "work", "in", "case", "you", "want", "to", "keep", "the", "bind", "in", "constructor", "syntax", ",", "you", "can", "use", "the", "proposal-bind-oper", "and", "transform", "your", "code", "like", "follow", ":", "constructor", "(", ")", "{", "this.changecont", "=", ":", ":this.changecont", ";", "}", "instead", "of", ":", "constructor", "(", ")", "{", "this.changecont", "=", "this.changecontent.bind", "(", "thi", ")", ";", "}", "much", "simpler", ",", "no", "need", "of", "bind", "(", "thi", ")", "or", "fatarrow", ".", "thi", "problem", "happen", "after", "react15.0", ",", "which", "event", "handler", "did", "n't", "auto", "bind", "to", "the", "compon", ".", "so", "you", "must", "bind", "thi", "to", "compon", "manual", "whenev", "the", "event", "handler", "will", "be", "call", ".", "there", "are", "sever", "method", "to", "solv", "the", "problem", ".", "but", "you", "need", "to", "know", "which", "method", "is", "best", "and", "whi", "?", "in", "gener", ",", "we", "recommend", "that", "bind", "your", "function", "in", "the", "class", "constructor", "or", "use", "a", "arrow", "function", ".", "//", "method", "1\uff1a", "use", "a", "arrow", "function", "class", "componenta", "extend", "react.compon", "{", "eventhandl", "=", "(", ")", "=", ">", "{", "console.log", "(", "thi", ")", "}", "render", "(", ")", "{", "return", "(", "<", "childcompon", "onclick=", "{", "this.eventhandl", "}", "/", ">", ")", ";", "}", "//", "method", "2", ":", "bind", "your", "function", "in", "the", "class", "constructor", ".", "class", "componenta", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.eventhandl", "=", "this.eventhandler.bind", "(", "thi", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "childcompon", "onclick=", "{", "this.eventhandl", "}", "/", ">", ")", ";", "}", "these", "two", "method", "will", "not", "creat", "a", "new", "function", "when", "the", "compon", "render", "everytim", ".", "so", "our", "childcompon", "will", "not", "rerend", "becau", "of", "the", "new", "function", "prop", "chang", ",", "or", "may", "produc", "the", "perform", "problem", ".", "you", "are", "use", "es6", "so", "function", "will", "not", "bind", "to", "``", "thi", "''", "context", "automat", ".", "you", "have", "to", "manual", "bind", "the", "function", "to", "the", "context", ".", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.changecont", "=", "this.changecontent.bind", "(", "thi", ")", ";", "}", "your", "function", "need", "bind", "in", "order", "to", "play", "with", "state", "or", "prop", "in", "event", "handler", "in", "es5", ",", "bind", "your", "event", "handler", "function", "onli", "in", "constructor", "but", "do", "n't", "bind", "directli", "in", "render", ".", "if", "you", "do", "bind", "directli", "in", "render", "then", "it", "creat", "a", "new", "function", "everi", "time", "your", "compon", "render", "and", "re-rend", ".", "so", "you", "should", "alway", "bind", "it", "in", "constructor", "this.sendcont", "=", "this.sendcontent.bind", "(", "thi", ")", "in", "es6", ",", "use", "arrow", "function", "when", "you", "use", "arrow", "function", "then", "you", "no", "need", "to", "do", "bind", "and", "you", "can", "also", "stay", "away", "from", "scope", "relat", "issu", "sendcont", "=", "(", "event", ")", "=", ">", "{", "}", "alexandr", "kirszenberg", "is", "correct", ",", "but", "anoth", "import", "thing", "to", "pay", "attent", "to", ",", "is", "where", "you", "put", "your", "bind", ".", "i", "have", "been", "stuck", "with", "a", "situat", "for", "day", "(", "probabl", "becaus", "i", "'m", "a", "beginn", ")", ",", "but", "unlik", "other", ",", "i", "knew", "about", "bind", "(", "which", "i", "had", "appli", "alreadi", ")", "so", "i", "just", "could", "n't", "get", "my", "head", "around", "whi", "i", "wa", "still", "have", "those", "error", ".", "it", "turn", "out", "that", "i", "had", "the", "bind", "in", "wrong", "order", ".", "anoth", "is", "also", "perhap", "the", "fact", "that", "i", "wa", "call", "the", "function", "within", "``", "this.stat", "''", ",", "which", "wa", "not", "awar", "of", "the", "bind", "becaus", "it", "happen", "to", "be", "abov", "the", "bind", "line", ",", "below", "is", "what", "i", "had", "(", "by", "the", "way", "thi", "is", "my", "first", "ever", "post", ",", "but", "i", "thought", "it", "wa", "veri", "import", ",", "as", "i", "could", "n't", "find", "solut", "ani", "where", "els", ")", ":", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "productarray=//som", "array", "this.state=", "{", "//", "creat", "an", "array", "which", "will", "hold", "compon", "to", "be", "display", "prolist", ":", "productarray.map", "(", "product=", ">", "{", "return", "(", "<", "prorow", "dele=", "{", "this.this.poprow", "(", ")", "}", "prodname=", "{", "product.nam", "}", "prodprice=", "{", "product.pric", "}", "/", ">", ")", "}", ")", "}", "this.poprow=this.poprow.bind", "(", "thi", ")", ";", "//thi", "wa", "the", "issu", ",", "thi", "line", "//should", "be", "kept", "abov", "``", "this.stat", "''", "solut", ":", "without", "explicitli", "bind", ",", "bind", "with", "the", "method", "name", "you", "can", "use", "fat", "arrow", "function", "syntax", "(", ")", "=", ">", "{", "}", "that", "maintain", "the", "context", "of", "thi", ".", "import", "react", "from", "'react", "'", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", "this.stat", "=", "{", "inputcont", ":", "'startvalu", "'", "}", "}", "sendcont", "=", "(", "e", ")", "=", ">", "{", "console.log", "(", "'send", "input", "content", "'", ",", "this.state.inputcont", ")", ";", "}", "changecont", "=", "(", "e", ")", "=", ">", "{", "this.setst", "(", "{", "inputcont", ":", "e.target.valu", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "'state", ":", "'", ",", "this.stat", ")", ";", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "titl", ":", "<", "input", "type=", "''", "text", "''", "value=", "{", "this.state.inputcont", "}", "onchange=", "{", "this.changecont", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcont", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "other", "solut", ":", "bind", "your", "function", "in", "the", "class", "constructor", ".", "bind", "your", "function", "in", "the", "jsx", "templat", "escap", "brace", "{", "}", "{", "this.methodname.bind", "(", "thi", ")", "}", "bind", "(", "thi", ")", "can", "fix", "thi", "issu", ",", "and", "nowaday", "we", "can", "use", "anoth", "2", "way", "to", "achiev", "thi", "if", "you", "do", "n't", "like", "use", "bind", ".", "1", ")", "as", "the", "tradit", "way", ",", "we", "can", "use", "bind", "(", "thi", ")", "in", "the", "constructor", ",", "so", "that", "when", "we", "use", "the", "function", "as", "jsx", "callback", ",", "the", "context", "of", "thi", "is", "the", "class", "itself", ".", "class", "app1", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "//", "if", "we", "comment", "out", "the", "follow", "line", ",", "//", "we", "will", "get", "run", "time", "error", "said", "`", "thi", "`", "is", "undefin", ".", "this.changecolor", "=", "this.changecolor.bind", "(", "thi", ")", ";", "}", "changecolor", "(", "e", ")", "{", "e.currenttarget.style.backgroundcolor", "=", "``", "#", "00ff00", "''", ";", "console.log", "(", "this.prop", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.changecolor", "}", ">", "button", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "2", ")", "if", "we", "defin", "the", "function", "as", "an", "attribute/field", "of", "the", "class", "with", "arrow", "function", ",", "we", "do", "n't", "need", "to", "use", "bind", "(", "thi", ")", "ani", "more", ".", "class", "app2", "extend", "react.compon", "{", "changecolor", "=", "e", "=", ">", "{", "e.currenttarget.style.backgroundcolor", "=", "``", "#", "00ff00", "''", ";", "console.log", "(", "this.prop", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.changecolor", "}", ">", "button", "1", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "3", ")", "if", "we", "use", "arrow", "function", "as", "jsx", "callback", ",", "we", "do", "n't", "need", "to", "use", "bind", "(", "thi", ")", "either", ".", "and", "further", "more", ",", "we", "can", "pass", "in", "the", "paramet", ".", "look", "good", ",", "is", "n't", "it", "?", "but", "it", "drawback", "is", "the", "perform", "concern", ",", "for", "detail", "pleas", "refer", "reactj", "doco", ".", "class", "app3", "extend", "react.compon", "{", "changecolor", "(", "e", ",", "colorhex", ")", "{", "e.currenttarget.style.backgroundcolor", "=", "colorhex", ";", "console.log", "(", "this.prop", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "e", "=", ">", "this.changecolor", "(", "e", ",", "``", "#", "ff0000", "''", ")", "}", ">", "button", "1", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "and", "i", "have", "creat", "a", "codepen", "to", "demo", "these", "code", "snippet", ",", "hope", "it", "help", ".", "i", "'m", "build", "a", "react", "compon", "that", "accept", "a", "json", "data", "sourc", "and", "creat", "a", "sortabl", "tabl", ".", "each", "of", "the", "dynam", "data", "row", "ha", "a", "uniqu", "key", "assign", "to", "it", "but", "i", "'m", "still", "get", "an", "error", "of", ":", "each", "child", "in", "an", "array", "should", "have", "a", "uniqu", "``", "key", "''", "prop", ".", "check", "the", "render", "method", "of", "tablecompon", ".", "my", "tablecompon", "render", "method", "return", ":", "<", "tabl", ">", "<", "thead", "key=", "''", "thead", "''", ">", "<", "tablehead", "columns=", "{", "columnnam", "}", "/", ">", "<", "/thead", ">", "<", "tbodi", "key=", "''", "tbodi", "''", ">", "{", "row", "}", "<", "/tbodi", ">", "<", "/tabl", ">", "the", "tablehead", "compon", "is", "a", "singl", "row", "and", "also", "ha", "a", "uniqu", "key", "assign", "to", "it", ".", "each", "row", "in", "row", "is", "built", "from", "a", "compon", "with", "a", "uniqu", "key", ":", "<", "tablerowitem", "key=", "{", "item.id", "}", "data=", "{", "item", "}", "columns=", "{", "columnnam", "}", "/", ">", "and", "the", "tablerowitem", "look", "like", "thi", ":", "var", "tablerowitem", "=", "react.createclass", "(", "{", "render", ":", "function", "(", ")", "{", "var", "td", "=", "function", "(", ")", "{", "return", "this.props.columns.map", "(", "function", "(", "c", ")", "{", "return", "<", "td", "key=", "{", "this.props.data", "[", "c", "]", "}", ">", "{", "this.props.data", "[", "c", "]", "}", "<", "/td", ">", ";", "}", ",", "thi", ")", ";", "}", ".bind", "(", "thi", ")", ";", "return", "(", "<", "tr", ">", "{", "td", "(", "this.props.item", ")", "}", "<", "/tr", ">", ")", "}", "}", ")", ";", "what", "is", "caus", "the", "uniqu", "key", "prop", "error", "?", "you", "should", "add", "a", "key", "to", "each", "child", "as", "well", "as", "each", "element", "insid", "children", ".", "thi", "way", "react", "can", "handl", "the", "minim", "dom", "chang", ".", "in", "your", "code", ",", "each", "<", "tablerowitem", "key=", "{", "item.id", "}", "data=", "{", "item", "}", "columns=", "{", "columnnam", "}", "/", ">", "is", "tri", "to", "render", "some", "children", "insid", "them", "without", "a", "key", ".", "check", "thi", "exampl", ".", "tri", "remov", "the", "key=", "{", "i", "}", "from", "the", "<", "b", ">", "<", "/b", ">", "element", "insid", "the", "div", "'s", "(", "and", "check", "the", "consol", ")", ".", "in", "the", "sampl", ",", "if", "we", "do", "n't", "give", "a", "key", "to", "the", "<", "b", ">", "element", "and", "we", "want", "to", "updat", "onli", "the", "object.c", ",", "react", "need", "to", "re-rend", "the", "whole", "row", "vs", "just", "the", "element", ".", "here", "is", "the", "code", ":", "var", "data", "=", "[", "{", "name", ":", "'jhon", "'", ",", "age:28", ",", "citi", ":", "'ho", "'", "}", ",", "{", "name", ":", "'onhj", "'", ",", "age:82", ",", "citi", ":", "'hn", "'", "}", ",", "{", "name", ":", "'nohj", "'", ",", "age:41", ",", "citi", ":", "'it", "'", "}", "]", ";", "var", "hello", "=", "react.createclass", "(", "{", "render", ":", "function", "(", ")", "{", "var", "_data", "=", "this.props.info", ";", "console.log", "(", "_data", ")", ";", "return", "(", "<", "div", ">", "{", "_data.map", "(", "function", "(", "object", ",", "i", ")", "{", "return", "<", "div", "classname=", "{", "``", "row", "''", "}", "key=", "{", "i", "}", ">", "{", "[", "object.nam", ",", "//", "remov", "the", "key", "<", "b", "classname=", "''", "fosfo", "''", "key=", "{", "i", "}", ">", "{", "object.c", "}", "<", "/b", ">", ",", "object.ag", "]", "}", "<", "/div", ">", ";", "}", ")", "}", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "react.rend", "(", "<", "hello", "info=", "{", "data", "}", "/", ">", ",", "document.bodi", ")", ";", "the", "answer", "post", "by", "@", "chri", "at", "the", "bottom", "goe", "into", "much", "more", "detail", "than", "thi", "answer", ".", "pleas", "take", "a", "look", "at", "http", ":", "//stackoverflow.com/a/43892905/2325522", "react", "document", "on", "the", "import", "of", "key", "in", "reconcili", ":", "key", "be", "care", "when", "iter", "over", "array", "!", "!", "it", "is", "a", "common", "misconcept", "that", "use", "the", "index", "of", "the", "element", "in", "the", "array", "is", "an", "accept", "way", "of", "suppress", "the", "error", "you", "are", "probabl", "familiar", "with", ":", "each", "child", "in", "an", "array", "should", "have", "a", "uniqu", "``", "key", "''", "prop", ".", "howev", ",", "in", "mani", "case", "it", "is", "not", "!", "thi", "is", "anti-pattern", "that", "can", "in", "some", "situat", "lead", "to", "unwant", "behavior", ".", "understand", "the", "key", "prop", "react", "use", "the", "key", "prop", "to", "understand", "the", "component-to-dom", "element", "relat", ",", "which", "is", "then", "use", "for", "the", "reconcili", "process", ".", "it", "is", "therefor", "veri", "import", "that", "the", "key", "alway", "remain", "uniqu", ",", "otherwis", "there", "is", "a", "good", "chanc", "react", "will", "mix", "up", "the", "element", "and", "mutat", "the", "incorrect", "one", ".", "it", "is", "also", "import", "that", "these", "key", "remain", "static", "throughout", "all", "re-rend", "in", "order", "to", "maintain", "best", "perform", ".", "that", "be", "said", ",", "one", "doe", "not", "alway", "need", "to", "appli", "the", "abov", ",", "provid", "it", "is", "known", "that", "the", "array", "is", "complet", "static", ".", "howev", ",", "appli", "best", "practic", "is", "encourag", "whenev", "possibl", ".", "a", "react", "develop", "said", "in", "thi", "github", "issu", ":", "key", "is", "not", "realli", "about", "perform", ",", "it", "'s", "more", "about", "ident", "(", "which", "in", "turn", "lead", "to", "better", "perform", ")", ".", "randomli", "assign", "and", "chang", "valu", "are", "not", "ident", "we", "ca", "n't", "realist", "provid", "key", "[", "automat", "]", "without", "know", "how", "your", "data", "is", "model", ".", "i", "would", "suggest", "mayb", "use", "some", "sort", "of", "hash", "function", "if", "you", "do", "n't", "have", "id", "we", "alreadi", "have", "intern", "key", "when", "we", "use", "array", ",", "but", "they", "are", "the", "index", "in", "the", "array", ".", "when", "you", "insert", "a", "new", "element", ",", "those", "key", "are", "wrong", ".", "in", "short", ",", "a", "key", "should", "be", ":", "uniqu", "-", "a", "key", "can", "not", "be", "ident", "to", "that", "of", "a", "sibl", "compon", ".", "static", "-", "a", "key", "should", "not", "ever", "chang", "between", "render", ".", "use", "the", "key", "prop", "as", "per", "the", "explan", "abov", ",", "care", "studi", "the", "follow", "sampl", "and", "tri", "to", "implement", ",", "when", "possibl", ",", "the", "recommend", "approach", ".", "bad", "(", "potenti", ")", "<", "tbodi", ">", "{", "rows.map", "(", "(", "row", ",", "i", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", "thi", "is", "arguabl", "the", "most", "common", "mistak", "seen", "when", "iter", "over", "an", "array", "in", "react", ".", "thi", "approach", "is", "n't", "technic", "``", "wrong", "''", ",", "it", "'s", "just", "...", "``", "danger", "''", "if", "you", "do", "n't", "know", "what", "you", "are", "do", ".", "if", "you", "are", "iter", "through", "a", "static", "array", "then", "thi", "is", "a", "perfectli", "valid", "approach", "(", "e.g", ".", "an", "array", "of", "link", "in", "your", "navig", "menu", ")", ".", "howev", ",", "if", "you", "are", "ad", ",", "remov", ",", "reorder", "or", "filter", "item", ",", "then", "you", "need", "to", "be", "care", ".", "take", "a", "look", "at", "thi", "detail", "explan", "in", "the", "offici", "document", ".", "class", "myapp", "extend", "react.compon", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.stat", "=", "{", "arr", ":", "[", "``", "item", "1", "''", "]", "}", "}", "click", "=", "(", ")", "=", ">", "{", "this.setst", "(", "{", "arr", ":", "[", "'item", "'", "+", "(", "this.state.arr.length+1", ")", "]", ".concat", "(", "this.state.arr", ")", ",", "}", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.click", "}", ">", "add", "<", "/button", ">", "<", "ul", ">", "{", "this.state.arr.map", "(", "(", "item", ",", "i", ")", "=", ">", "<", "item", "key=", "{", "i", "}", "text=", "{", "``", "item", "``", "+", "i", "}", ">", "{", "item", "+", "``", "``", "}", "<", "/item", ">", ")", "}", "<", "/ul", ">", "<", "/div", ">", ")", ";", "}", "}", "const", "item", "=", "(", "prop", ")", "=", ">", "{", "return", "(", "<", "li", ">", "<", "label", ">", "{", "props.children", "}", "<", "/label", ">", "<", "input", "value=", "{", "props.text", "}", "/", ">", "<", "/li", ">", ")", ";", "}", "reactdom.rend", "(", "<", "myapp", "/", ">", ",", "document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.j", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.j", "''", ">", "<", "/script", ">", "<", "div", "id=", "''", "app", "''", ">", "<", "/div", ">", "in", "thi", "snippet", "we", "are", "use", "a", "non-stat", "array", "and", "we", "are", "not", "restrict", "ourselv", "to", "use", "it", "as", "a", "stack", ".", "thi", "is", "an", "unsaf", "approach", "(", "you", "'ll", "see", "whi", ")", ".", "note", "how", "as", "we", "add", "item", "to", "the", "begin", "of", "the", "array", "(", "basic", "unshift", ")", ",", "the", "valu", "for", "each", "<", "input", ">", "remain", "in", "place", ".", "whi", "?", "becaus", "the", "key", "doe", "n't", "uniqu", "identifi", "each", "item", ".", "in", "other", "word", ",", "at", "first", "item", "1", "ha", "key=", "{", "0", "}", ".", "when", "we", "add", "the", "second", "item", ",", "the", "top", "item", "becom", "item", "2", ",", "follow", "by", "item", "1", "as", "the", "second", "item", ".", "howev", ",", "now", "item", "1", "ha", "key=", "{", "1", "}", "and", "not", "key=", "{", "0", "}", "anymor", ".", "instead", ",", "item", "2", "now", "ha", "key=", "{", "0", "}", "!", "!", "as", "such", ",", "react", "think", "the", "<", "input", ">", "element", "have", "not", "chang", ",", "becaus", "the", "item", "with", "key", "0", "is", "alway", "at", "the", "top", "!", "so", "whi", "is", "thi", "approach", "onli", "sometim", "bad", "?", "thi", "approach", "is", "onli", "riski", "if", "the", "array", "is", "somehow", "filter", ",", "rearrang", ",", "or", "item", "are", "added/remov", ".", "if", "it", "is", "alway", "static", ",", "then", "it", "'s", "perfectli", "safe", "to", "use", ".", "for", "exampl", ",", "a", "navig", "menu", "like", "[", "``", "home", "''", ",", "``", "product", "''", ",", "``", "contact", "us", "''", "]", "can", "safe", "be", "iter", "through", "with", "thi", "method", "becaus", "you", "'ll", "probabl", "never", "add", "new", "link", "or", "rearrang", "them", ".", "in", "short", ",", "here", "'s", "when", "you", "can", "safe", "use", "the", "index", "as", "key", ":", "the", "array", "is", "static", "and", "will", "never", "chang", ".", "the", "array", "is", "never", "filter", "(", "display", "a", "subset", "of", "the", "array", ")", ".", "the", "array", "is", "never", "reorder", ".", "the", "array", "is", "use", "as", "a", "stack", "or", "lifo", "(", "last", "in", ",", "first", "out", ")", ".", "in", "other", "word", ",", "ad", "can", "onli", "be", "done", "at", "the", "end", "of", "the", "array", "(", "i.e", "push", ")", ",", "and", "onli", "the", "last", "item", "can", "ever", "be", "remov", "(", "i.e", "pop", ")", ".", "had", "we", "instead", ",", "in", "the", "snippet", "abov", ",", "push", "the", "ad", "item", "to", "the", "end", "of", "the", "array", ",", "the", "order", "for", "each", "exist", "item", "would", "alway", "be", "correct", ".", "veri", "bad", "<", "tbodi", ">", "{", "rows.map", "(", "(", "row", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "math.random", "(", ")", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", "while", "thi", "approach", "will", "probabl", "guarante", "uniqu", "of", "the", "key", ",", "it", "will", "alway", "forc", "react", "to", "re-rend", "each", "item", "in", "the", "list", ",", "even", "when", "thi", "is", "not", "requir", ".", "thi", "a", "veri", "bad", "solut", "as", "it", "greatli", "impact", "perform", ".", "not", "to", "mention", "that", "one", "can", "not", "exclud", "the", "possibl", "of", "a", "key", "collis", "in", "the", "event", "that", "math.random", "(", ")", "produc", "the", "same", "number", "twice", ".", "unstabl", "key", "(", "like", "those", "produc", "by", "math.random", "(", ")", ")", "will", "caus", "mani", "compon", "instanc", "and", "dom", "node", "to", "be", "unnecessarili", "recreat", ",", "which", "can", "caus", "perform", "degrad", "and", "lost", "state", "in", "child", "compon", ".", "veri", "good", "<", "tbodi", ">", "{", "rows.map", "(", "(", "row", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "row.uniqueid", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", "thi", "is", "arguabl", "the", "best", "approach", "becaus", "it", "use", "a", "properti", "that", "is", "uniqu", "for", "each", "item", "in", "the", "dataset", ".", "for", "exampl", ",", "if", "row", "contain", "data", "fetch", "from", "a", "databas", ",", "one", "could", "use", "the", "tabl", "'s", "primari", "key", "(", "which", "typic", "is", "an", "auto-incr", "number", ")", ".", "the", "best", "way", "to", "pick", "a", "key", "is", "to", "use", "a", "string", "that", "uniqu", "identifi", "a", "list", "item", "among", "it", "sibl", ".", "most", "often", "you", "would", "use", "id", "from", "your", "data", "as", "key", "good", "componentwillmount", "(", ")", "{", "let", "row", "=", "this.props.rows.map", "(", "item", "=", ">", "{", "return", "{", "uid", ":", "somelibrary.generateuniqueid", "(", ")", ",", "valu", ":", "item", "}", ";", "}", ")", ";", "}", "...", "<", "tbodi", ">", "{", "rows.map", "(", "(", "row", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "row.uid", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", "thi", "is", "also", "a", "good", "approach", ".", "if", "your", "dataset", "doe", "not", "contain", "ani", "data", "that", "guarante", "uniqu", "(", "e.g", ".", "an", "array", "of", "arbitrari", "number", ")", ",", "there", "is", "a", "chanc", "of", "a", "key", "collis", ".", "in", "such", "case", ",", "it", "is", "best", "to", "manual", "gener", "a", "uniqu", "identifi", "for", "each", "item", "in", "the", "dataset", "befor", "iter", "over", "it", ".", "prefer", "when", "mount", "the", "compon", "or", "when", "the", "dataset", "is", "receiv", "(", "e.g", ".", "from", "prop", "or", "from", "an", "async", "api", "call", ")", ",", "in", "order", "to", "do", "thi", "onli", "onc", ",", "and", "not", "each", "time", "the", "compon", "re-rend", ".", "there", "are", "alreadi", "a", "hand", "of", "librari", "out", "there", "that", "can", "provid", "you", "such", "key", ".", "here", "is", "one", "exampl", ":", "react-key-index", ".", "thi", "may", "or", "not", "help", "someon", ",", "but", "it", "might", "be", "a", "quick", "refer", ".", "thi", "is", "also", "similar", "to", "all", "the", "answer", "present", "abov", ".", "i", "have", "a", "lot", "of", "locat", "that", "gener", "list", "use", "the", "structur", "below", ":", "return", "(", "{", "mylist.map", "(", "item", "=", ">", "(", "<", ">", "<", "div", "class=", "''", "some", "class", "''", ">", "{", "item.someproperti", "}", "....", "<", "/div", ">", "<", "/", ">", ")", "}", ")", "after", "a", "littl", "trial", "and", "error", "(", "and", "some", "frustrat", ")", ",", "ad", "a", "key", "properti", "to", "the", "outermost", "block", "resolv", "it", ".", "also", ",", "note", "that", "the", "<", ">", "tag", "is", "now", "replac", "with", "the", "<", "div", ">", "tag", "now", ".", "return", "(", "{", "mylist.map", "(", "(", "item", ",", "index", ")", "=", ">", "(", "<", "div", "key=", "{", "index", "}", ">", "<", "div", "class=", "''", "some", "class", "''", ">", "{", "item.someproperti", "}", "....", "<", "/div", ">", "<", "/div", ">", ")", "}", ")", "of", "cours", ",", "i", "'ve", "been", "naiv", "use", "the", "iter", "index", "(", "index", ")", "to", "popul", "the", "key", "valu", "in", "the", "abov", "exampl", ".", "ideal", ",", "you", "'d", "use", "someth", "which", "is", "uniqu", "to", "the", "list", "item", ".", "just", "add", "the", "uniqu", "key", "to", "the", "your", "compon", "data.map", "(", "(", "marker", ")", "=", ">", "{", "return", "(", "<", "yourcompon", "key=", "{", "data.id", "}", "//", "<", "--", "--", "-", "uniqu", "key", "/", ">", ")", ";", "}", ")", "check", ":", "key", "=", "undef", "!", "!", "!", "you", "got", "also", "the", "warn", "messag", ":", "each", "child", "in", "a", "list", "should", "have", "a", "uniqu", "``", "key", "''", "prop", ".", "if", "your", "code", "is", "complet", "right", ",", "but", "if", "on", "<", "objectrow", "key=", "{", "somevalu", "}", "/", ">", "somevalu", "is", "undefin", "!", "!", "!", "pleas", "check", "thi", "first", ".", "you", "can", "save", "hour", ".", "warn", ":", "each", "child", "in", "an", "array", "or", "iter", "should", "have", "a", "uniqu", "``", "key", "''", "prop", ".", "thi", "is", "a", "warn", "as", "for", "array", "item", "which", "we", "are", "go", "to", "iter", "over", "will", "need", "a", "uniqu", "resembl", ".", "react", "handl", "iter", "compon", "render", "as", "array", ".", "better", "way", "to", "resolv", "thi", "is", "provid", "index", "on", "the", "array", "item", "you", "are", "go", "to", "iter", "over.for", "exampl", ":", "class", "usersst", "extend", "compon", "{", "state", "=", "{", "user", ":", "[", "{", "name", ":", "''", "shashank", "''", ",", "age:20", "}", ",", "{", "name", ":", "''", "vardan", "''", ",", "age:30", "}", ",", "{", "name", ":", "''", "somya", "''", ",", "age:40", "}", "]", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "this.state.users.map", "(", "(", "user", ",", "index", ")", "=", ">", "{", "return", "<", "userst", "key=", "{", "index", "}", "age=", "{", "user.ag", "}", ">", "{", "user.nam", "}", "<", "/userst", ">", "}", ")", "}", "<", "/div", ">", ")", "}", "index", "is", "react", "built-in", "prop", ".", "best", "solut", "of", "defin", "uniqu", "key", "in", "react", ":", "insid", "the", "map", "you", "initi", "the", "name", "post", "then", "key", "defin", "by", "key=", "{", "post.id", "}", "or", "in", "my", "code", "you", "see", "i", "defin", "the", "name", "item", "then", "i", "defin", "key", "by", "key=", "{", "item.id", "}", ":", "<", "div", "classname=", "''", "contain", "''", ">", "{", "posts.map", "(", "item", "=", ">", "(", "<", "div", "classname=", "''", "card", "border-primari", "mb-3", "''", "key=", "{", "item.id", "}", ">", "<", "div", "classname=", "''", "card-head", "''", ">", "{", "item.nam", "}", "<", "/div", ">", "<", "div", "classname=", "''", "card-bodi", "''", ">", "<", "h4", "classname=", "''", "card-titl", "''", ">", "{", "item.usernam", "}", "<", "/h4", ">", "<", "p", "classname=", "''", "card-text", "''", ">", "{", "item.email", "}", "<", "/p", ">", "<", "/div", ">", "<", "/div", ">", ")", ")", "}", "<", "/div", ">", "i", "wa", "run", "into", "thi", "error", "messag", "becaus", "of", "<", ">", "<", "/", ">", "be", "return", "for", "some", "item", "in", "the", "array", "when", "instead", "null", "need", "to", "be", "return", ".", "thi", "is", "a", "warn", ",", "but", "address", "thi", "will", "make", "react", "render", "much", "faster", ",", "thi", "is", "becaus", "react", "need", "to", "uniqu", "identifi", "each", "item", "in", "the", "list", ".", "let", "say", "if", "the", "state", "of", "an", "element", "of", "that", "list", "chang", "in", "react", "virtual", "dom", "then", "react", "need", "to", "figur", "out", "which", "element", "got", "chang", "and", "where", "in", "the", "dom", "it", "need", "to", "chang", "so", "that", "browser", "dom", "will", "be", "in", "sync", "with", "the", "react", "virtual", "dom", ".", "as", "a", "solut", "just", "introduc", "a", "key", "attribut", "to", "each", "li", "tag", ".", "thi", "key", "should", "be", "a", "uniqu", "valu", "to", "each", "element", ".", "var", "tablerowitem", "=", "react.createclass", "(", "{", "render", ":", "function", "(", ")", "{", "var", "td", "=", "function", "(", ")", "{", "return", "this.props.columns.map", "(", "function", "(", "c", ",", "i", ")", "{", "return", "<", "td", "key=", "{", "i", "}", ">", "{", "this.props.data", "[", "c", "]", "}", "<", "/td", ">", ";", "}", ",", "thi", ")", ";", "}", ".bind", "(", "thi", ")", ";", "return", "(", "<", "tr", ">", "{", "td", "(", "this.props.item", ")", "}", "<", "/tr", ">", ")", "}", "}", ")", ";", "thi", "will", "sove", "the", "problem", ".", "in", "reactj", "if", "you", "are", "render", "an", "array", "of", "element", "you", "should", "have", "a", "uniqu", "key", "for", "each", "those", "element", ".", "normal", "those", "kinda", "situat", "are", "creat", "a", "list", ".", "exampl", ":", "function", "list", "(", ")", "{", "const", "number", "=", "[", "0,1,2,3", "]", ";", "return", "(", "<", "ul", ">", "{", "numbers.map", "(", "(", "n", ")", "=", ">", "<", "li", ">", "{", "n", "}", "<", "/li", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "reactdom.rend", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "in", "the", "abov", "exampl", ",", "it", "creat", "a", "dynam", "list", "use", "li", "tag", ",", "so", "sinc", "li", "tag", "doe", "not", "have", "a", "uniqu", "key", "it", "show", "an", "error", ".", "after", "fix", ":", "function", "list", "(", ")", "{", "const", "number", "=", "[", "0,1,2,3", "]", ";", "return", "(", "<", "ul", ">", "{", "numbers.map", "(", "(", "n", ")", "=", ">", "<", "li", "key=", "{", "n", "}", ">", "{", "n", "}", "<", "/li", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "reactdom.rend", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "altern", "solut", "when", "use", "map", "when", "you", "do", "n't", "have", "a", "uniqu", "key", "(", "thi", "is", "not", "recommend", "by", "react", "eslint", ")", ":", "function", "list", "(", ")", "{", "const", "number", "=", "[", "0,1,2,3,4,4", "]", ";", "return", "(", "<", "ul", ">", "{", "numbers.map", "(", "(", "n", ",", "i", ")", "=", ">", "<", "li", "key=", "{", "i", "}", ">", "{", "n", "}", "<", "/li", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "reactdom.rend", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "live", "exampl", ":", "http", ":", "//codepen.io/spmsupun/pen/wvwdgwg", "i", "fix", "thi", "use", "guid", "for", "each", "key", "like", "thi", ":", "gener", "guid", ":", "guid", "(", ")", "{", "return", "this.s4", "(", ")", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "this.s4", "(", ")", "+", "this.s4", "(", ")", ";", "}", "s4", "(", ")", "{", "return", "math.floor", "(", "(", "1", "+", "math.random", "(", ")", ")", "*", "0x10000", ")", ".tostr", "(", "16", ")", ".substr", "(", "1", ")", ";", "}", "and", "then", "assign", "thi", "valu", "to", "marker", ":", "{", "this.state.markers.map", "(", "marker", "=", ">", "(", "<", "mapview.mark", "key=", "{", "this.guid", "(", ")", "}", "coordinate=", "{", "marker.coordin", "}", "title=", "{", "marker.titl", "}", "/", ">", ")", ")", "}", "i", "'m", "tri", "to", "organ", "my", "state", "by", "use", "nest", "properti", "like", "thi", ":", "this.stat", "=", "{", "someproperti", ":", "{", "flag", ":", "true", "}", "}", "but", "updat", "state", "like", "thi", ",", "this.setst", "(", "{", "someproperty.flag", ":", "fals", "}", ")", ";", "doe", "n't", "work", ".", "how", "can", "thi", "be", "done", "correctli", "?", "in", "order", "to", "setstat", "for", "a", "nest", "object", "you", "can", "follow", "the", "below", "approach", "as", "i", "think", "setstat", "doe", "n't", "handl", "nest", "updat", ".", "var", "someproperti", "=", "{", "...", "this.state.someproperti", "}", "someproperty.flag", "=", "true", ";", "this.setst", "(", "{", "someproperti", "}", ")", "the", "idea", "is", "to", "creat", "a", "dummi", "object", "perform", "oper", "on", "it", "and", "then", "replac", "the", "compon", "'s", "state", "with", "the", "updat", "object", "now", ",", "the", "spread", "oper", "creat", "onli", "one", "level", "nest", "copi", "of", "the", "object", ".", "if", "your", "state", "is", "highli", "nest", "like", ":", "this.stat", "=", "{", "someproperti", ":", "{", "someotherproperti", ":", "{", "anotherproperti", ":", "{", "flag", ":", "true", "}", "..", "}", "...", "}", "...", "}", "you", "could", "setstat", "use", "spread", "oper", "at", "each", "level", "like", "this.setst", "(", "prevstat", "=", ">", "(", "{", "...", "prevstat", ",", "someproperti", ":", "{", "...", "prevstate.someproperti", ",", "someotherproperti", ":", "{", "...", "prevstate.someproperty.someotherproperti", ",", "anotherproperti", ":", "{", "...", "prevstate.someproperty.someotherproperty.anotherproperti", ",", "flag", ":", "fals", "}", "}", "}", "}", ")", ")", "howev", "the", "abov", "syntax", "get", "everi", "ugli", "as", "the", "state", "becom", "more", "and", "more", "nest", "and", "henc", "i", "recommend", "you", "to", "use", "immutability-help", "packag", "to", "updat", "the", "state", ".", "see", "thi", "answer", "on", "how", "to", "updat", "state", "with", "immut", "helper", ".", "to", "write", "it", "in", "one", "line", "this.setst", "(", "{", "someproperti", ":", "{", "...", "this.state.someproperti", ",", "flag", ":", "fals", "}", "}", ")", ";", "sometim", "direct", "answer", "are", "not", "the", "best", "one", ":", ")", "short", "version", ":", "thi", "code", "this.stat", "=", "{", "someproperti", ":", "{", "flag", ":", "true", "}", "}", "should", "be", "simplifi", "as", "someth", "like", "this.stat", "=", "{", "somepropertyflag", ":", "true", "}", "long", "version", ":", "current", "you", "should", "n't", "want", "to", "work", "with", "nest", "state", "in", "react", ".", "becaus", "react", "is", "not", "orient", "to", "work", "with", "nest", "state", "and", "all", "solut", "propos", "here", "look", "as", "hack", ".", "they", "do", "n't", "use", "the", "framework", "but", "fight", "with", "it", ".", "they", "suggest", "to", "write", "not", "so", "clear", "code", "for", "doubt", "purpos", "of", "group", "some", "properti", ".", "so", "they", "are", "veri", "interest", "as", "an", "answer", "to", "the", "challeng", "but", "practic", "useless", ".", "let", "imagin", "the", "follow", "state", ":", "{", "parent", ":", "{", "child1", ":", "'valu", "1", "'", ",", "child2", ":", "'valu", "2", "'", ",", "...", "child100", ":", "'valu", "100", "'", "}", "}", "what", "will", "happen", "if", "you", "chang", "just", "a", "valu", "of", "child1", "?", "react", "will", "not", "re-rend", "the", "view", "becaus", "it", "use", "shallow", "comparison", "and", "it", "will", "find", "that", "parent", "properti", "did", "n't", "chang", ".", "btw", "mutat", "the", "state", "object", "directli", "is", "consid", "to", "be", "a", "bad", "practic", "in", "gener", ".", "so", "you", "need", "to", "re-creat", "the", "whole", "parent", "object", ".", "but", "in", "thi", "case", "we", "will", "meet", "anoth", "problem", ".", "react", "will", "think", "that", "all", "children", "have", "chang", "their", "valu", "and", "will", "re-rend", "all", "of", "them", ".", "of", "cours", "it", "is", "not", "good", "for", "perform", ".", "it", "is", "still", "possibl", "to", "solv", "that", "problem", "by", "write", "some", "complic", "logic", "in", "shouldcomponentupd", "(", ")", "but", "i", "would", "prefer", "to", "stop", "here", "and", "use", "simpl", "solut", "from", "the", "short", "version", ".", "disclaim", "nest", "state", "in", "react", "is", "wrong", "design", "read", "thi", "excel", "answer", ".", "reason", "behind", "thi", "answer", ":", "react", "'s", "setstat", "is", "just", "a", "built-in", "conveni", ",", "but", "you", "soon", "realis", "that", "it", "ha", "it", "limit", ".", "use", "custom", "properti", "and", "intellig", "use", "of", "forceupd", "give", "you", "much", "more", ".", "eg", ":", "class", "myclass", "extend", "react.compon", "{", "mystat", "=", "someobject", "inputvalu", "=", "42", "...", "mobx", ",", "for", "exampl", ",", "ditch", "state", "complet", "and", "use", "custom", "observ", "properti", ".", "use", "observ", "instead", "of", "state", "in", "react", "compon", ".", "the", "answer", "to", "your", "miseri", "-", "see", "exampl", "here", "there", "is", "anoth", "shorter", "way", "to", "updat", "whatev", "nest", "properti", ".", "this.setst", "(", "state", "=", ">", "{", "state.nested.flag", "=", "fals", "state.another.deep.prop", "=", "true", "return", "state", "}", ")", "on", "one", "line", "this.setst", "(", "state", "=", ">", "(", "state.nested.flag", "=", "fals", ",", "state", ")", ")", "note", ":", "thi", "here", "is", "comma", "oper", "~mdn", ",", "see", "it", "in", "action", "here", "(", "sandbox", ")", ".", "it", "is", "similar", "to", "(", "though", "thi", "doe", "n't", "chang", "state", "refer", ")", "this.state.nested.flag", "=", "fals", "this.forceupd", "(", ")", "for", "the", "subtl", "differ", "in", "thi", "context", "between", "forceupd", "and", "setstat", "see", "the", "link", "exampl", ".", "of", "cours", "thi", "is", "abus", "some", "core", "principl", ",", "as", "the", "state", "should", "be", "read-onli", ",", "but", "sinc", "you", "are", "immedi", "discard", "the", "old", "state", "and", "replac", "it", "with", "new", "state", ",", "it", "is", "complet", "ok.", "warn", "even", "though", "the", "compon", "contain", "the", "state", "will", "updat", "and", "rerend", "properli", "(", "except", "thi", "gotcha", ")", ",", "the", "prop", "will", "fail", "to", "propag", "to", "children", "(", "see", "spymast", "'s", "comment", "below", ")", ".", "onli", "use", "thi", "techniqu", "if", "you", "know", "what", "you", "are", "do", ".", "for", "exampl", ",", "you", "may", "pass", "a", "chang", "flat", "prop", "that", "is", "updat", "and", "pass", "easili", ".", "render", "(", "//some", "complex", "render", "with", "your", "nest", "state", "<", "childcompon", "complexnestedprop=", "{", "this.state.nest", "}", "pleasererender=", "{", "math.random", "(", ")", "}", "/", ">", ")", "now", "even", "though", "refer", "for", "complexnestedprop", "did", "not", "chang", "(", "shouldcomponentupd", ")", "this.props.complexnestedprop", "===", "nextprops.complexnestedprop", "the", "compon", "will", "rerend", "whenev", "parent", "compon", "updat", ",", "which", "is", "the", "case", "after", "call", "this.setst", "or", "this.forceupd", "in", "the", "parent", ".", "effect", "of", "mutat", "the", "state", "use", "nest", "state", "and", "mutat", "the", "state", "directli", "is", "danger", "becaus", "differ", "object", "might", "hold", "(", "intent", "or", "not", ")", "differ", "(", "older", ")", "refer", "to", "the", "state", "and", "might", "not", "necessarili", "know", "when", "to", "updat", "(", "for", "exampl", "when", "use", "purecompon", "or", "if", "shouldcomponentupd", "is", "implement", "to", "return", "fals", ")", "or", "are", "intend", "to", "display", "old", "data", "like", "in", "the", "exampl", "below", ".", "imagin", "a", "timelin", "that", "is", "suppos", "to", "render", "histor", "data", ",", "mutat", "the", "data", "under", "the", "hand", "will", "result", "in", "unexpect", "behaviour", "as", "it", "will", "also", "chang", "previou", "item", ".", "anyway", "here", "you", "can", "see", "that", "nest", "purechildclass", "it", "not", "rerend", "due", "to", "prop", "fail", "to", "propag", ".", "if", "you", "are", "use", "es2015", "you", "have", "access", "to", "the", "object.assign", ".", "you", "can", "use", "it", "as", "follow", "to", "updat", "a", "nest", "object", ".", "this.setst", "(", "{", "someproperti", ":", "object.assign", "(", "{", "}", ",", "this.state.someproperti", ",", "{", "flag", ":", "fals", "}", ")", "}", ")", ";", "you", "merg", "the", "updat", "properti", "with", "the", "exist", "and", "use", "the", "return", "object", "to", "updat", "the", "state", ".", "edit", ":", "ad", "an", "empti", "object", "as", "target", "to", "the", "assign", "function", "to", "make", "sure", "the", "state", "is", "n't", "mutat", "directli", "as", "carkod", "point", "out", ".", "const", "newstat", "=", "object.assign", "(", "{", "}", ",", "this.stat", ")", ";", "newstate.property.nestedproperti", "=", "``", "new", "valu", "''", ";", "this.setst", "(", "newstat", ")", ";", "there", "are", "mani", "librari", "to", "help", "with", "thi", ".", "for", "exampl", ",", "use", "immutability-help", ":", "import", "updat", "from", "'immutability-help", "'", ";", "const", "newstat", "=", "updat", "(", "this.stat", ",", "{", "someproperti", ":", "{", "flag", ":", "{", "$", "set", ":", "fals", "}", "}", ",", "}", ";", "this.setst", "(", "newstat", ")", ";", "use", "lodash/fp", "set", ":", "import", "{", "set", "}", "from", "'lodash/fp", "'", ";", "const", "newstat", "=", "set", "(", "[", "``", "someproperti", "''", ",", "``", "flag", "''", "]", ",", "fals", ",", "this.stat", ")", ";", "use", "lodash/fp", "merg", ":", "import", "{", "merg", "}", "from", "'lodash/fp", "'", ";", "const", "newstat", "=", "merg", "(", "this.stat", ",", "{", "someproperti", ":", "{", "flag", ":", "fals", "}", ",", "}", ")", ";", "we", "use", "immer", "http", ":", "//github.com/mweststrate/imm", "to", "handl", "these", "kind", "of", "issu", ".", "just", "replac", "thi", "code", "in", "one", "of", "our", "compon", "this.setst", "(", "prevstat", "=", ">", "(", "{", "...", "prevstat", ",", "prefer", ":", "{", "...", "prevstate.prefer", ",", "[", "key", "]", ":", "newvalu", "}", "}", ")", ")", ";", "with", "thi", "import", "produc", "from", "'immer", "'", ";", "this.setst", "(", "produc", "(", "draft", "=", ">", "{", "draft.prefer", "[", "key", "]", "=", "newvalu", ";", "}", ")", ")", ";", "with", "immer", "you", "handl", "your", "state", "as", "a", "``", "normal", "object", "''", ".", "the", "magic", "happen", "behind", "the", "scene", "with", "proxi", "object", ".", "here", "'s", "a", "variat", "on", "the", "first", "answer", "given", "in", "thi", "thread", "which", "doe", "n't", "requir", "ani", "extra", "packag", ",", "librari", "or", "special", "function", ".", "state", "=", "{", "someproperti", ":", "{", "flag", ":", "'string", "'", "}", "}", "handlechang", "=", "(", "valu", ")", "=", ">", "{", "const", "newstat", "=", "{", "...", "this.state.someproperti", ",", "flag", ":", "valu", "}", "this.setst", "(", "{", "someproperti", ":", "newstat", "}", ")", "}", "in", "order", "to", "set", "the", "state", "of", "a", "specif", "nest", "field", ",", "you", "have", "set", "the", "whole", "object", ".", "i", "did", "thi", "by", "creat", "a", "variabl", ",", "newstat", "and", "spread", "the", "content", "of", "the", "current", "state", "into", "it", "first", "use", "the", "es2015", "spread", "oper", ".", "then", ",", "i", "replac", "the", "valu", "of", "this.state.flag", "with", "the", "new", "valu", "(", "sinc", "i", "set", "flag", ":", "valu", "after", "i", "spread", "the", "current", "state", "into", "the", "object", ",", "the", "flag", "field", "in", "the", "current", "state", "is", "overridden", ")", ".", "then", ",", "i", "simpli", "set", "the", "state", "of", "someproperti", "to", "my", "newstat", "object", ".", "although", "nest", "is", "n't", "realli", "how", "you", "should", "treat", "a", "compon", "state", ",", "sometim", "for", "someth", "easi", "for", "singl", "tier", "nest", ".", "for", "a", "state", "like", "thi", "state", "=", "{", "contact", ":", "{", "phone", ":", "'888-888-8888", "'", ",", "email", ":", "'test", "@", "test.com", "'", "}", "address", ":", "{", "street", ":", "''", "}", ",", "occup", ":", "{", "}", "}", "a", "re-us", "method", "ive", "use", "would", "look", "like", "thi", ".", "handlechang", "=", "(", "obj", ")", "=", ">", "e", "=", ">", "{", "let", "x", "=", "this.stat", "[", "obj", "]", ";", "x", "[", "e.target.nam", "]", "=", "e.target.valu", ";", "this.setst", "(", "{", "[", "obj", "]", ":", "x", "}", ")", ";", "}", ";", "then", "just", "pass", "in", "the", "obj", "name", "for", "each", "nest", "you", "want", "to", "address", "...", "<", "textfield", "name=", "''", "street", "''", "onchange=", "{", "handlechang", "(", "'address", "'", ")", "}", "/", ">", "i", "use", "thi", "solut", ".", "if", "you", "have", "a", "nest", "state", "like", "thi", ":", "this.stat", "=", "{", "forminput", ":", "{", "friendnam", ":", "{", "valu", ":", "''", ",", "isvalid", ":", "fals", ",", "errormsg", ":", "''", "}", ",", "friendemail", ":", "{", "valu", ":", "''", ",", "isvalid", ":", "fals", ",", "errormsg", ":", "''", "}", "}", "you", "can", "declar", "the", "handlechang", "function", "that", "copi", "current", "statu", "and", "re-assign", "it", "with", "chang", "valu", "handlechang", "(", "el", ")", "{", "let", "inputnam", "=", "el.target.nam", ";", "let", "inputvalu", "=", "el.target.valu", ";", "let", "statuscopi", "=", "object.assign", "(", "{", "}", ",", "this.stat", ")", ";", "statuscopy.forminput", "[", "inputnam", "]", ".valu", "=", "inputvalu", ";", "this.setst", "(", "statuscopi", ")", ";", "}", "here", "the", "html", "with", "the", "event", "listen", "<", "input", "type=", "''", "text", "''", "onchange=", "{", "this.handlechang", "}", "``", "name=", "''", "friendnam", "''", "/", ">", "creat", "a", "copi", "of", "the", "state", ":", "let", "someproperti", "=", "json.pars", "(", "json.stringifi", "(", "this.state.someproperti", ")", ")", "make", "chang", "in", "thi", "object", ":", "someproperty.flag", "=", "``", "fals", "''", "now", "updat", "the", "state", "this.setst", "(", "{", "someproperti", "}", ")", "although", "you", "ask", "about", "a", "state", "of", "class-bas", "react", "compon", ",", "the", "same", "problem", "exist", "with", "usest", "hook", ".", "even", "wors", ":", "usest", "hook", "doe", "not", "accept", "partial", "updat", ".", "so", "thi", "question", "becam", "veri", "relev", "when", "usest", "hook", "wa", "introduc", ".", "i", "have", "decid", "to", "post", "the", "follow", "answer", "to", "make", "sure", "the", "question", "cover", "more", "modern", "scenario", "where", "the", "usest", "hook", "is", "use", ":", "if", "you", "have", "got", ":", "const", "[", "state", ",", "setstat", "]", "=", "usest", "(", "{", "someproperti", ":", "{", "flag", ":", "true", ",", "othernestedprop", ":", "1", "}", ",", "otherprop", ":", "2", "}", ")", "you", "can", "set", "the", "nest", "properti", "by", "clone", "the", "current", "and", "patch", "the", "requir", "segment", "of", "the", "data", ",", "for", "exampl", ":", "setstat", "(", "current", "=", ">", "{", "...", "current", ",", "someproperti", ":", "{", "...", "current.someproperti", ",", "flag", ":", "fals", "}", "}", ")", ";", "or", "you", "can", "use", "immer", "librari", "to", "simplifi", "the", "clone", "and", "patch", "of", "the", "object", ".", "or", "you", "can", "use", "hookstat", "librari", "(", "disclaim", ":", "i", "am", "an", "author", ")", "to", "simpli", "the", "manag", "of", "complex", "(", "local", "and", "global", ")", "state", "data", "entir", "and", "improv", "the", "perform", "(", "read", ":", "not", "to", "worri", "about", "render", "optim", ")", ":", "import", "{", "usestatelink", "}", "from", "'", "@", "hookstate/cor", "'", "const", "state", "=", "usestatelink", "(", "{", "someproperti", ":", "{", "flag", ":", "true", ",", "othernestedprop", ":", "1", "}", ",", "otherprop", ":", "2", "}", ")", "get", "the", "field", "to", "render", ":", "state.nested.someproperty.nested.flag.get", "(", ")", "//", "or", "state.get", "(", ")", ".someproperty.flag", "set", "the", "nest", "field", ":", "state.nested.someproperty.nested.flag.set", "(", "fals", ")", "here", "is", "the", "hookstat", "exampl", ",", "where", "the", "state", "is", "deepli", "/", "recurs", "nest", "in", "tree-lik", "data", "structur", ".", "two", "other", "option", "not", "mention", "yet", ":", "if", "you", "have", "deepli", "nest", "state", ",", "consid", "if", "you", "can", "restructur", "the", "child", "object", "to", "sit", "at", "the", "root", ".", "thi", "make", "the", "data", "easier", "to", "updat", ".", "there", "are", "mani", "handi", "librari", "avail", "for", "handl", "immut", "state", "list", "in", "the", "redux", "doc", ".", "i", "recommend", "immer", "sinc", "it", "allow", "you", "to", "write", "code", "in", "a", "mut", "manner", "but", "handl", "the", "necessari", "clone", "behind", "the", "scene", ".", "it", "also", "freez", "the", "result", "object", "so", "you", "ca", "n't", "accident", "mutat", "it", "later", ".", "to", "make", "thing", "gener", ",", "i", "work", "on", "@", "shubhamkhatri", "'s", "and", "@", "qwerti", "'s", "answer", ".", "state", "object", "this.stat", "=", "{", "name", ":", "``", ",", "grandpar", ":", "{", "parent1", ":", "{", "child", ":", "``", "}", ",", "parent2", ":", "{", "child", ":", "``", "}", "}", "}", ";", "input", "control", "<", "input", "value=", "{", "this.state.nam", "}", "onchange=", "{", "this.updatest", "}", "type=", "''", "text", "''", "name=", "''", "name", "''", "/", ">", "<", "input", "value=", "{", "this.state.grandparent.parent1.child", "}", "onchange=", "{", "this.updatest", "}", "type=", "''", "text", "''", "name=", "''", "grandparent.parent1.child", "''", "/", ">", "<", "input", "value=", "{", "this.state.grandparent.parent2.child", "}", "onchange=", "{", "this.updatest", "}", "type=", "''", "text", "''", "name=", "''", "grandparent.parent2.child", "''", "/", ">", "updatest", "method", "setstat", "as", "@", "shubhamkhatri", "'s", "answer", "updatest", "(", "event", ")", "{", "const", "path", "=", "event.target.name.split", "(", "'", ".", "'", ")", ";", "const", "depth", "=", "path.length", ";", "const", "oldstat", "=", "this.stat", ";", "const", "newstat", "=", "{", "...", "oldstat", "}", ";", "let", "newstatelevel", "=", "newstat", ";", "let", "oldstatelevel", "=", "oldstat", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "depth", ";", "i", "+=", "1", ")", "{", "if", "(", "i", "===", "depth", "-", "1", ")", "{", "newstatelevel", "[", "path", "[", "i", "]", "]", "=", "event.target.valu", ";", "}", "els", "{", "newstatelevel", "[", "path", "[", "i", "]", "]", "=", "{", "...", "oldstatelevel", "[", "path", "[", "i", "]", "]", "}", ";", "oldstatelevel", "=", "oldstatelevel", "[", "path", "[", "i", "]", "]", ";", "newstatelevel", "=", "newstatelevel", "[", "path", "[", "i", "]", "]", ";", "}", "}", "this.setst", "(", "newstat", ")", ";", "}", "setstat", "as", "@", "qwerti", "'s", "answer", "updatest", "(", "event", ")", "{", "const", "path", "=", "event.target.name.split", "(", "'", ".", "'", ")", ";", "const", "depth", "=", "path.length", ";", "const", "state", "=", "{", "...", "this.stat", "}", ";", "let", "ref", "=", "state", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "depth", ";", "i", "+=", "1", ")", "{", "if", "(", "i", "===", "depth", "-", "1", ")", "{", "ref", "[", "path", "[", "i", "]", "]", "=", "event.target.valu", ";", "}", "els", "{", "ref", "=", "ref", "[", "path", "[", "i", "]", "]", ";", "}", "}", "this.setst", "(", "state", ")", ";", "}", "note", ":", "these", "abov", "method", "wo", "n't", "work", "for", "array", "i", "take", "veri", "serious", "the", "concern", "alreadi", "voic", "around", "creat", "a", "complet", "copi", "of", "your", "compon", "state", ".", "with", "that", "said", ",", "i", "would", "strongli", "suggest", "immer", ".", "import", "produc", "from", "'immer", "'", ";", "<", "input", "value=", "{", "this.state.form.usernam", "}", "onchange=", "{", "e", "=", ">", "produc", "(", "this.stat", ",", "s", "=", ">", "{", "s.form.usernam", "=", "e.target.valu", "}", ")", "}", "/", ">", "thi", "should", "work", "for", "react.purecompon", "(", "i.e", ".", "shallow", "state", "comparison", "by", "react", ")", "as", "immer", "cleverli", "use", "a", "proxi", "object", "to", "effici", "copi", "an", "arbitrarili", "deep", "state", "tree", ".", "immer", "is", "also", "more", "typesaf", "compar", "to", "librari", "like", "immut", "helper", ",", "and", "is", "ideal", "for", "javascript", "and", "typescript", "user", "alik", ".", "typescript", "util", "function", "function", "setstatedeep", "<", "s", ">", "(", "comp", ":", "react.compon", "<", "ani", ",", "s", ",", "ani", ">", ",", "fn", ":", "(", "s", ":", "draft", "<", "readonli", "<", "s", ">", ">", ")", "=", ">", "ani", ")", "{", "comp.setst", "(", "produc", "(", "comp.stat", ",", "s", "=", ">", "{", "fn", "(", "s", ")", ";", "}", ")", ")", "}", "onchange=", "{", "e", "=", ">", "setstatedeep", "(", "thi", ",", "s", "=", ">", "s.form.usernam", "=", "e.target.valu", ")", "}", "stateupd", "=", "(", ")", "=", ">", "{", "let", "obj", "=", "this.stat", ";", "if", "(", "this.props.v12_data.values.email", ")", "{", "obj.obj_v12.customer.emailaddress", "=", "this.props.v12_data.values.email", "}", "this.setst", "(", "obj", ")", "}", "i", "found", "thi", "to", "work", "for", "me", ",", "have", "a", "project", "form", "in", "my", "case", "where", "for", "exampl", "you", "have", "an", "id", ",", "and", "a", "name", "and", "i", "'d", "rather", "maintain", "state", "for", "a", "nest", "project", ".", "return", "(", "<", "div", ">", "<", "h2", ">", "project", "detail", "<", "/h2", ">", "<", "form", ">", "<", "input", "label=", "''", "id", "''", "group", "type=", "''", "number", "''", "value=", "{", "this.state.project.id", "}", "onchange=", "{", "(", "event", ")", "=", ">", "this.setst", "(", "{", "project", ":", "{", "...", "this.state.project", ",", "id", ":", "event.target.valu", "}", "}", ")", "}", "/", ">", "<", "input", "label=", "''", "name", "''", "group", "type=", "''", "text", "''", "value=", "{", "this.state.project.nam", "}", "onchange=", "{", "(", "event", ")", "=", ">", "this.setst", "(", "{", "project", ":", "{", "...", "this.state.project", ",", "name", ":", "event.target.valu", "}", "}", ")", "}", "/", ">", "<", "/form", ">", "<", "/div", ">", ")", "let", "me", "know", "!", "someth", "like", "thi", "might", "suffic", ",", "const", "isobject", "=", "(", "thing", ")", "=", ">", "{", "if", "(", "thing", "&", "&", "typeof", "thing", "===", "'object", "'", "&", "&", "typeof", "thing", "!", "==", "null", "&", "&", "!", "(", "array.isarray", "(", "thing", ")", ")", ")", "{", "return", "true", ";", "}", "return", "fals", ";", "}", "/", "*", "call", "with", "an", "array", "contain", "the", "path", "to", "the", "properti", "you", "want", "to", "access", "and", "the", "current", "component/redux", "state", ".", "for", "exampl", "if", "we", "want", "to", "updat", "`", "hello", "`", "within", "the", "follow", "obj", "const", "obj", "=", "{", "someprimit", ":", "fals", ",", "somenestedobj", ":", "{", "hello:1", "}", "}", "we", "would", "do", ":", "//clone", "the", "object", "const", "clone", "=", "clone", "(", "[", "'somenestedobj", "'", ",", "'hello", "'", "]", ",", "obj", ")", "//set", "the", "new", "valu", "cloned.somenestedobj.hello", "=", "5", ";", "*", "/", "const", "clone", "=", "(", "arr", ",", "state", ")", "=", ">", "{", "let", "clonedobj", "=", "{", "...", "state", "}", "const", "originalobj", "=", "clonedobj", ";", "arr.foreach", "(", "properti", "=", ">", "{", "if", "(", "!", "(", "properti", "in", "clonedobj", ")", ")", "{", "throw", "new", "error", "(", "'state", "miss", "properti", "'", ")", "}", "if", "(", "isobject", "(", "clonedobj", "[", "properti", "]", ")", ")", "{", "clonedobj", "[", "properti", "]", "=", "{", "...", "originalobj", "[", "properti", "]", "}", ";", "clonedobj", "=", "clonedobj", "[", "properti", "]", ";", "}", "}", ")", "return", "originalobj", ";", "}", "const", "nestedobj", "=", "{", "someproperti", ":", "true", ",", "somenestedobj", ":", "{", "someotherproperti", ":", "true", "}", "}", "const", "clonedobj", "=", "clone", "(", "[", "'someproperti", "'", "]", ",", "nestedobj", ")", ";", "console.log", "(", "clonedobj", "===", "nestedobj", ")", "//return", "fals", "console.log", "(", "clonedobj.someproperti", "===", "nestedobj.someproperti", ")", "//return", "true", "console.log", "(", "clonedobj.somenestedobj", "===", "nestedobj.somenestedobj", ")", "//return", "true", "console.log", "(", ")", "const", "clonedobj2", "=", "clone", "(", "[", "'someproperti", "'", ",", "'somenestedobj", "'", ",", "'someotherproperti", "'", "]", ",", "nestedobj", ")", ";", "console.log", "(", "clonedobj2", "===", "nestedobj", ")", "//", "return", "fals", "console.log", "(", "clonedobj2.somenestedobj", "===", "nestedobj.somenestedobj", ")", "//return", "fals", "//return", "true", "(", "doe", "n't", "attempt", "to", "clone", "becaus", "it", "primit", "type", ")", "console.log", "(", "clonedobj2.somenestedobj.someotherproperti", "===", "nestedobj.somenestedobj.someotherproperti", ")", "i", "know", "it", "is", "an", "old", "question", "but", "still", "want", "to", "share", "how", "i", "achiev", "thi", ".", "assum", "state", "in", "constructor", "look", "like", "thi", ":", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "{", "load", ":", "fals", ",", "user", ":", "{", "email", ":", "``", "''", "}", ",", "organ", ":", "{", "name", ":", "``", "''", "}", "}", ";", "this.handlechang", "=", "this.handlechange.bind", "(", "thi", ")", ";", "}", "my", "handlechang", "function", "is", "like", "thi", ":", "handlechang", "(", "e", ")", "{", "const", "name", "=", "e.target.name.split", "(", "``", ".", "``", ")", ";", "const", "valu", "=", "e.target.typ", "===", "``", "checkbox", "''", "?", "e.target.check", ":", "e.target.valu", ";", "this.setst", "(", "(", "state", ")", "=", ">", "{", "state", "[", "name", "[", "0", "]", "]", "[", "name", "[", "1", "]", "]", "=", "valu", ";", "return", "{", "[", "name", "[", "0", "]", "]", ":", "state", "[", "name", "[", "0", "]", "]", "}", ";", "}", ")", ";", "}", "and", "make", "sure", "you", "name", "input", "accordingli", ":", "<", "input", "type=", "''", "text", "''", "name=", "''", "user.email", "''", "onchange=", "{", "this.handlechang", "}", "value=", "{", "this.state.user.firstnam", "}", "placeholder=", "''", "email", "address", "''", "/", ">", "<", "input", "type=", "''", "text", "''", "name=", "''", "organization.nam", "''", "onchange=", "{", "this.handlechang", "}", "value=", "{", "this.state.organization.nam", "}", "placeholder=", "''", "organ", "name", "''", "/", ">", "i", "do", "nest", "updat", "with", "a", "reduc", "search", ":", "exampl", ":", "the", "nest", "variabl", "in", "state", ":", "state", "=", "{", "coord", ":", "{", "x", ":", "0", ",", "y", ":", "0", ",", "z", ":", "0", "}", "}", "the", "function", ":", "handlechang", "=", "nestedattr", "=", ">", "event", "=", ">", "{", "const", "{", "target", ":", "{", "valu", "}", "}", "=", "event", ";", "const", "attr", "=", "nestedattr.split", "(", "'", ".", "'", ")", ";", "let", "statevar", "=", "this.stat", "[", "attr", "[", "0", "]", "]", ";", "if", "(", "attrs.length", ">", "1", ")", "attrs.reduc", "(", "(", "a", ",", "b", ",", "index", ",", "arr", ")", "=", ">", "{", "if", "(", "index==arr.length-1", ")", "a", "[", "b", "]", "=", "valu", ";", "els", "if", "(", "a", "[", "b", "]", "!", "=null", ")", "return", "a", "[", "b", "]", "els", "return", "a", ";", "}", ",", "statevar", ")", ";", "els", "statevar", "=", "valu", ";", "this.setst", "(", "{", "[", "attr", "[", "0", "]", "]", ":", "statevar", "}", ")", "}", "use", ":", "<", "input", "value=", "{", "this.state.coords.x", "}", "onchange=", "{", "this.handletextchang", "(", "'coords.x", "'", ")", "}", "/", ">", "thi", "is", "my", "initialst", "const", "initialstateinput", "=", "{", "cabecerafamilia", ":", "{", "familia", ":", "``", ",", "direccion", ":", "``", ",", "telefono", ":", "``", ",", "email", ":", "``", "}", ",", "motivoconsulta", ":", "``", ",", "fechahora", ":", "``", ",", "correspons", ":", "[", "]", ",", "}", "the", "hook", "or", "you", "can", "replac", "it", "with", "the", "state", "(", "class", "compon", ")", "const", "[", "infoagendamiento", ",", "setinfoagendamiento", "]", "=", "usest", "(", "initialstateinput", ")", ";", "the", "method", "for", "handlechang", "const", "actualizarst", "=", "e", "=", ">", "{", "const", "nameobject", "=", "e.target.name.split", "(", "'", ".", "'", ")", ";", "const", "newstat", "=", "setstatenest", "(", "infoagendamiento", ",", "nameobject", ",", "e.target.valu", ")", ";", "setinfoagendamiento", "(", "{", "...", "newstat", "}", ")", ";", "}", ";", "method", "for", "set", "state", "with", "nest", "state", "const", "setstatenest", "=", "(", "state", ",", "nameobject", ",", "valu", ")", "=", ">", "{", "let", "i", "=", "0", ";", "let", "operativest", "=", "state", ";", "if", "(", "nameobjects.length", ">", "1", ")", "{", "for", "(", "i", "=", "0", ";", "i", "<", "nameobjects.length", "-", "1", ";", "i++", ")", "{", "operativest", "=", "operativest", "[", "nameobject", "[", "i", "]", "]", ";", "}", "}", "operativest", "[", "nameobject", "[", "i", "]", "]", "=", "valu", ";", "return", "state", ";", "}", "final", "thi", "is", "the", "input", "that", "i", "use", "<", "input", "type=", "''", "text", "''", "classname=", "''", "form-control", "''", "name=", "''", "cabecerafamilia.direccion", "''", "placeholder=", "''", "direcci\u00f3n", "''", "defaultvalue=", "{", "infoagendamiento.cabecerafamilia.direccion", "}", "onchange=", "{", "actualizarst", "}", "/", ">", "if", "you", "are", "use", "formik", "in", "your", "project", "it", "ha", "some", "easi", "way", "to", "handl", "thi", "stuff", ".", "here", "is", "the", "most", "easiest", "way", "to", "do", "with", "formik", ".", "first", "set", "your", "initi", "valu", "insid", "the", "formik", "initivalu", "attribut", "or", "in", "the", "react", ".", "state", "here", ",", "the", "initi", "valu", "is", "defin", "in", "react", "state", "state", "=", "{", "data", ":", "{", "fy", ":", "{", "activ", ":", "``", "n", "''", "}", "}", "}", "defin", "abov", "initialvalu", "for", "formik", "field", "insid", "formik", "initivalu", "attribut", "<", "formik", "initialvalues=", "{", "this.state.data", "}", "onsubmit=", "{", "(", "valu", ",", "action", ")", "=", ">", "{", "...", "your", "action", "goe", "here", "}", "}", ">", "{", "(", "{", "issubmit", "}", ")", "=", ">", "(", "<", "form", ">", "<", "field", "type=", "''", "checkbox", "''", "name=", "''", "fy.act", "''", "onchange=", "{", "(", "e", ")", "=", ">", "{", "const", "valu", "=", "e.target.check", ";", "if", "(", "valu", ")", "setfieldvalu", "(", "'fy.act", "'", ",", "'", "y", "'", ")", "els", "setfieldvalu", "(", "'fy.act", "'", ",", "'", "n", "'", ")", "}", "}", "/", ">", "<", "/form", ">", ")", "}", "<", "/formik", ">", "make", "a", "consol", "to", "the", "check", "the", "state", "updat", "into", "string", "instead", "of", "booleanth", "formik", "setfieldvalu", "function", "to", "set", "the", "state", "or", "go", "with", "react", "debugg", "tool", "to", "see", "the", "chang", "inisid", "formik", "state", "valu", ".", "tri", "thi", "code", ":", "this.setst", "(", "{", "someproperti", ":", "{", "flag", ":", "fals", "}", "}", ")", ";", "thi", "is", "clearli", "not", "the", "right", "or", "best", "way", "to", "do", ",", "howev", "it", "is", "cleaner", "to", "my", "view", ":", "this.state.hugenestedobject", "=", "hugenestedobject", ";", "this.state.anotherhugenestedobject", "=", "anotherhugenestedobject", ";", "this.setst", "(", "{", "}", ")", "howev", ",", "react", "itself", "should", "iter", "thought", "nest", "object", "and", "updat", "state", "and", "dom", "accordingli", "which", "is", "not", "there", "yet", ".", "i", "saw", "follow", "in", "a", "book", ":", "this.setst", "(", "state", "=", ">", "state.someproperty.falg", "=", "fals", ")", ";", "but", "i", "'m", "not", "sure", "if", "it", "'s", "right", "..", "i", "want", "to", "add", "an", "element", "to", "the", "end", "of", "a", "state", "array", ",", "is", "thi", "the", "correct", "way", "to", "do", "it", "?", "this.state.arrayvar.push", "(", "newel", ")", ";", "this.setst", "(", "{", "arrayvar", ":", "this.state.arrayvar", "}", ")", ";", "i", "am", "concern", "that", "modifi", "the", "array", "in-plac", "with", "push", "might", "caus", "troubl", "-", "is", "it", "safe", "?", "the", "altern", "of", "make", "a", "copi", "of", "the", "array", ",", "and", "setstat", "that", "seem", "wast", ".", "the", "react", "doc", "say", ":", "treat", "this.stat", "as", "if", "it", "were", "immut", ".", "your", "push", "will", "mutat", "the", "state", "directli", "and", "that", "could", "potenti", "lead", "to", "error", "prone", "code", ",", "even", "if", "you", "are", "``", "reset", "''", "the", "state", "again", "afterward", ".", "f.ex", ",", "it", "could", "lead", "to", "that", "some", "lifecycl", "method", "like", "componentdidupd", "won", "\u2019", "t", "trigger", ".", "the", "recommend", "approach", "in", "later", "react", "version", "is", "to", "use", "an", "updat", "function", "when", "modifi", "state", "to", "prevent", "race", "condit", ":", "this.setst", "(", "prevstat", "=", ">", "(", "{", "arrayvar", ":", "[", "...", "prevstate.arrayvar", ",", "newel", "]", "}", ")", ")", "the", "memori", "``", "wast", "''", "is", "not", "an", "issu", "compar", "to", "the", "error", "you", "might", "face", "use", "non-standard", "state", "modif", ".", "altern", "syntax", "for", "earlier", "react", "version", "you", "can", "use", "concat", "to", "get", "a", "clean", "syntax", "sinc", "it", "return", "a", "new", "array", ":", "this.setst", "(", "{", "arrayvar", ":", "this.state.arrayvar.concat", "(", "[", "newel", "]", ")", "}", ")", "in", "es6", "you", "can", "use", "the", "spread", "oper", ":", "this.setst", "(", "{", "arrayvar", ":", "[", "...", "this.state.arrayvar", ",", "newel", "]", "}", ")", "easiest", ",", "if", "you", "are", "use", "es6", ".", "initialarray", "=", "[", "1", ",", "2", ",", "3", "]", ";", "newarray", "=", "[", "...", "initialarray", ",", "4", "]", ";", "//", "--", ">", "[", "1,2,3,4", "]", "new", "array", "will", "be", "[", "1,2,3,4", "]", "to", "updat", "your", "state", "in", "react", "this.setst", "(", "{", "arrayvar", ":", "[", "...", "this.state.arrayvar", ",", "newel", "]", "}", ")", ";", "learn", "more", "about", "array", "destructur", "the", "simplest", "way", "with", "es6", ":", "this.setst", "(", "prevstat", "=", ">", "(", "{", "array", ":", "[", "...", "prevstate.array", ",", "newel", "]", "}", ")", ")", "react", "may", "batch", "updat", ",", "and", "therefor", "the", "correct", "approach", "is", "to", "provid", "setstat", "with", "a", "function", "that", "perform", "the", "updat", ".", "for", "the", "react", "updat", "addon", ",", "the", "follow", "will", "reliabl", "work", ":", "this.setst", "(", "state", "=", ">", "updat", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "4", "]", "}", "}", ")", ")", ";", "or", "for", "concat", "(", ")", ":", "this.setst", "(", "state", "=", ">", "(", "{", "array", ":", "state.array.concat", "(", "[", "4", "]", ")", "}", ")", ")", ";", "the", "follow", "show", "what", "http", ":", "//jsbin.com/mofekakuqi/7/edit", "?", "js", ",", "output", "as", "an", "exampl", "of", "what", "happen", "if", "you", "get", "it", "wrong", ".", "the", "settimeout", "(", ")", "invoc", "correctli", "add", "three", "item", "becaus", "react", "will", "not", "batch", "updat", "within", "a", "settimeout", "callback", "(", "see", "http", ":", "//groups.google.com/d/msg/reactjs/g6pljvptgx0/0ihyw2zk9dej", ")", ".", "the", "buggi", "onclick", "will", "onli", "add", "``", "third", "''", ",", "but", "the", "fix", "one", ",", "will", "add", "f", ",", "s", "and", "t", "as", "expect", ".", "class", "list", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "{", "array", ":", "[", "]", "}", "settimeout", "(", "this.addsom", ",", "500", ")", ";", "}", "addsom", "=", "(", ")", "=", ">", "{", "this.setst", "(", "updat", "(", "this.stat", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "first", "''", "]", "}", "}", ")", ")", ";", "this.setst", "(", "updat", "(", "this.stat", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "second", "''", "]", "}", "}", ")", ")", ";", "this.setst", "(", "updat", "(", "this.stat", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "third", "''", "]", "}", "}", ")", ")", ";", "}", ";", "addsomefix", "=", "(", ")", "=", ">", "{", "this.setst", "(", "state", "=", ">", "updat", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "f", "''", "]", "}", "}", ")", ")", ";", "this.setst", "(", "state", "=", ">", "updat", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "s", "''", "]", "}", "}", ")", ")", ";", "this.setst", "(", "state", "=", ">", "updat", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "t", "''", "]", "}", "}", ")", ")", ";", "}", ";", "render", "(", ")", "{", "const", "list", "=", "this.state.array.map", "(", "(", "item", ",", "i", ")", "=", ">", "{", "return", "<", "li", "key=", "{", "i", "}", ">", "{", "item", "}", "<", "/li", ">", "}", ")", ";", "console.log", "(", "this.stat", ")", ";", "return", "(", "<", "div", "classname='list", "'", ">", "<", "button", "onclick=", "{", "this.addsom", "}", ">", "add", "three", "<", "/button", ">", "<", "button", "onclick=", "{", "this.addsomefix", "}", ">", "add", "three", "(", "fix", ")", "<", "/button", ">", "<", "ul", ">", "{", "list", "}", "<", "/ul", ">", "<", "/div", ">", ")", ";", "}", "}", ";", "reactdom.rend", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "as", "@", "nilgun", "mention", "in", "the", "comment", ",", "you", "can", "use", "the", "react", "immut", "helper", ".", "i", "'ve", "found", "thi", "to", "be", "super", "use", ".", "from", "the", "doc", ":", "simpl", "push", "var", "initialarray", "=", "[", "1", ",", "2", ",", "3", "]", ";", "var", "newarray", "=", "updat", "(", "initialarray", ",", "{", "$", "push", ":", "[", "4", "]", "}", ")", ";", "//", "=", ">", "[", "1", ",", "2", ",", "3", ",", "4", "]", "initialarray", "is", "still", "[", "1", ",", "2", ",", "3", "]", ".", "if", "you", "are", "use", "function", "compon", "pleas", "use", "thi", "as", "below", ".", "const", "[", "chathistori", ",", "setchathistori", "]", "=", "usest", "(", "[", "]", ")", ";", "//", "defin", "the", "state", "const", "chathistorylist", "=", "[", "...", "chathistori", ",", "{", "'from", "'", ":", "'me", "'", ",", "'messag", "'", ":", "e.target.valu", "}", "]", ";", "//", "new", "array", "need", "to", "updat", "setchathistori", "(", "chathistorylist", ")", ";", "//", "updat", "the", "state", "for", "ad", "new", "element", "into", "the", "array", ",", "push", "(", ")", "should", "be", "the", "answer", ".", "for", "remov", "element", "and", "updat", "state", "of", "array", ",", "below", "code", "work", "for", "me", ".", "splice", "(", "index", ",", "1", ")", "can", "not", "work", ".", "const", "[", "arrayst", ",", "setarrayst", "]", "=", "react.usest", "<", "ani", "[", "]", ">", "(", "[", "]", ")", ";", "...", "//", "index", "is", "the", "index", "for", "the", "element", "you", "want", "to", "remov", "const", "newarrayst", "=", "arraystate.filt", "(", "(", "valu", ",", "theindex", ")", "=", ">", "{", "return", "index", "!", "==", "theindex", "}", ")", ";", "setarrayst", "(", "newarrayst", ")", ";", "thi", "work", "for", "me", "to", "add", "an", "array", "within", "an", "array", "this.setst", "(", "prevstat", "=", ">", "(", "{", "compon", ":", "prevstate.component.concat", "(", "new", "array", "(", "[", "'new", "'", ",", "'new", "'", "]", ")", ")", "}", ")", ")", ";", "here", "'s", "a", "2020", ",", "reactj", "hook", "exampl", "that", "i", "thought", "could", "help", "other", ".", "i", "am", "use", "it", "to", "add", "new", "row", "to", "a", "reactj", "tabl", ".", "let", "me", "know", "if", "i", "could", "improv", "on", "someth", ".", "ad", "a", "new", "element", "to", "a", "function", "state", "compon", ":", "defin", "the", "state", "data", ":", "const", "[", "data", ",", "setdata", "]", "=", "usest", "(", "[", "{", "id", ":", "1", ",", "name", ":", "'john", "'", ",", "age", ":", "16", "}", ",", "{", "id", ":", "2", ",", "name", ":", "'jane", "'", ",", "age", ":", "22", "}", ",", "{", "id", ":", "3", ",", "name", ":", "'josh", "'", ",", "age", ":", "21", "}", "]", ")", ";", "have", "a", "button", "trigger", "a", "function", "to", "add", "a", "new", "element", "<", "button", "//", "pass", "the", "current", "state", "data", "to", "the", "handleadd", "function", "so", "we", "can", "append", "to", "it", ".", "onclick=", "{", "(", ")", "=", ">", "handleadd", "(", "data", ")", "}", ">", "add", "a", "row", "<", "/button", ">", "function", "handleadd", "(", "currentdata", ")", "{", "//", "return", "last", "data", "array", "element", "let", "lastdataobject", "=", "currenttabledata", "[", "currenttabledata.length", "-", "1", "]", "//", "assign", "last", "element", "id", "to", "a", "variabl", ".", "let", "lastid", "=", "object.valu", "(", "lastdataobject", ")", "[", "0", "]", "//", "build", "a", "new", "element", "with", "a", "new", "id", "base", "off", "the", "last", "element", "in", "the", "array", "let", "newdatael", "=", "{", "id", ":", "lastid", "+", "1", ",", "name", ":", "'jill", "'", ",", "age", ":", "55", ",", "}", "//", "build", "a", "new", "state", "object", "const", "newstatedata", "=", "[", "...", "currentdata", ",", "newdatael", "]", "//", "updat", "the", "state", "setdata", "(", "newstatedata", ")", ";", "//", "print", "newli", "updat", "state", "for", "(", "const", "element", "of", "newstatedata", ")", "{", "console.log", "(", "'new", "data", ":", "'", "+", "object.valu", "(", "element", ")", ".join", "(", "'", ",", "'", ")", ")", "}", "}", "option", "one", "is", "use", "this.setst", "(", "prevstat", "=", ">", "(", "{", "arrayvar", ":", "[", "...", "prevstate.arrayvar", ",", "newel", "]", "}", ")", ")", "option", "2", ":", "this.setst", "(", "{", "arrayvar", ":", "this.state.arrayvar.concat", "(", "[", "newel", "]", ")", "}", ")", "option", "3", ":", "function", "abc", "(", ")", "{", "const", "data", "=", "this.state.myarray", ";", "data.push", "(", "{", "a:1", ",", "b:2", "}", ")", "this.setst", "(", "{", "myarray", ":", "data", "}", ")", "}", "this.setst", "(", "{", "arrayvar", ":", "[", "...", "this.state.arrayvar", ",", "...", "newel", "]", "}", ")", "i", "am", "tri", "to", "push", "valu", "in", "an", "array", "state", "and", "set", "valu", "like", "thi", "and", "defin", "state", "array", "and", "push", "valu", "by", "map", "function", ".", "this.stat", "=", "{", "createjob", ":", "[", "]", ",", "totalamount", ":", "number=0", "}", "your_api_json_array.map", "(", "(", "_", ")", "=", ">", "{", "this.setst", "(", "{", "totalamount", ":", "this.state.totalamount", "+=", "_.your_api_json.pric", "}", ")", "this.state.createjob.push", "(", "{", "id", ":", "_._id", ",", "price", ":", "_.your_api_json.pric", "}", ")", "return", "this.setst", "(", "{", "createjob", ":", "this.state.createjob", "}", ")", "}", ")", "//", "--", "--", "--", "--", "--", "--", "--", "--", "--", "code", "is", "return", "in", "typescript", "const", "updatemydata1", "=", "(", "rowindex", ":", "ani", ",", "columnid", ":", "ani", ",", "valu", ":", "ani", ")", "=", ">", "{", "setitem", "(", "old", "=", ">", "old.map", "(", "(", "row", ",", "index", ")", "=", ">", "{", "if", "(", "index", "===", "rowindex", ")", "{", "return", "object.assign", "(", "object.assign", "(", "{", "}", ",", "old", "[", "rowindex", "]", ")", ",", "{", "[", "columnid", "]", ":", "valu", "}", ")", ";", "}", "return", "row", ";", "}", ")", ")", ";", "thi", "code", "work", "for", "me", ":", "fetch", "(", "'http", ":", "//localhost:8080", "'", ")", ".then", "(", "respons", "=", ">", "response.json", "(", ")", ")", ".then", "(", "json", "=", ">", "{", "this.setst", "(", "{", "mystat", ":", "this.state.mystate.push.appli", "(", "this.state.myst", ",", "json", ")", "}", ")", "}", ")", "i", "'m", "tri", "to", "send", "data", "from", "a", "child", "compon", "to", "it", "'s", "parent", "as", "follow", ":", "const", "parentcompon", "=", "react.createclass", "(", "{", "getinitialst", "(", ")", "{", "return", "{", "languag", ":", "``", ",", "}", ";", "}", ",", "handlelanguagecod", ":", "function", "(", "langvalu", ")", "{", "this.setst", "(", "{", "languag", ":", "langvalu", "}", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguag", "onselectlanguage=", "{", "this.handlelanguag", "}", "/", ">", "<", "/div", ">", ")", ";", "}", ")", ";", "and", "here", "is", "the", "child", "compon", ":", "export", "const", "selectlanguag", "=", "react.createclass", "(", "{", "getinitialst", ":", "function", "(", ")", "{", "return", "{", "selectedcod", ":", "``", ",", "selectedlanguag", ":", "``", ",", "}", ";", "}", ",", "handlelangchang", ":", "function", "(", "e", ")", "{", "var", "lang", "=", "this.state.selectedlanguag", ";", "var", "code", "=", "this.state.selectedcod", ";", "this.props.onselectlanguag", "(", "{", "selectedlanguag", ":", "lang", "}", ")", ";", "this.props.onselectlanguag", "(", "{", "selectedcod", ":", "code", "}", ")", ";", "}", ",", "render", "(", ")", "{", "var", "json", "=", "requir", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "var", "jsonarray", "=", "json.languag", ";", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref='dropdown", "'", "data=", "{", "jsonarray", "}", "value=", "{", "this.state.selectedlanguag", "}", "casesensitive=", "{", "fals", "}", "minlength=", "{", "3", "}", "filter='contain", "'", "onchange=", "{", "this.handlelangchang", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "what", "i", "need", "is", "to", "get", "the", "select", "valu", "by", "user", "in", "the", "parent", "compon", ".", "i", "'m", "get", "thi", "error", ":", "uncaught", "typeerror", ":", "this.props.onselectlanguag", "is", "not", "a", "function", "can", "anyon", "help", "me", "to", "find", "the", "problem", "?", "p.", ".", "the", "child", "compon", "is", "creat", "a", "dropdown", "from", "a", "json", "file", ",", "and", "i", "need", "the", "dropdown", "list", "to", "show", "both", "element", "of", "the", "json", "array", "next", "to", "each", "other", "(", "like", ":", "``", "aaa", ",", "english", "''", "as", "the", "first", "choic", "!", ")", "{", "``", "languag", "''", ":", "[", "[", "``", "aaa", "''", ",", "``", "english", "''", "]", ",", "[", "``", "aab", "''", ",", "``", "swedish", "''", "]", ",", "}", "thi", "should", "work", ".", "while", "send", "the", "prop", "back", "you", "are", "send", "that", "as", "an", "object", "rather", "send", "that", "as", "a", "valu", "or", "altern", "use", "it", "as", "an", "object", "in", "the", "parent", "compon", ".", "secondli", "you", "need", "to", "format", "your", "json", "object", "to", "contain", "name", "valu", "pair", "and", "use", "valuefield", "and", "textfield", "attribut", "of", "dropdownlist", "short", "answer", "parent", ":", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguag", "onselectlanguage=", "{", "this.handlelanguag", "}", "/", ">", "<", "/div", ">", "child", ":", "handlelangchang", "=", "(", ")", "=", ">", "{", "var", "lang", "=", "this.dropdown.valu", ";", "this.props.onselectlanguag", "(", "lang", ")", ";", "}", "detail", ":", "edit", ":", "consid", "react.createclass", "is", "deprec", "from", "v16.0", "onward", ",", "it", "is", "better", "to", "go", "ahead", "and", "creat", "a", "react", "compon", "by", "extend", "react.compon", ".", "pass", "data", "from", "child", "to", "parent", "compon", "with", "thi", "syntax", "will", "look", "like", "parent", "class", "parentcompon", "extend", "react.compon", "{", "state", "=", "{", "languag", ":", "``", "}", "handlelanguag", "=", "(", "langvalu", ")", "=", ">", "{", "this.setst", "(", "{", "languag", ":", "langvalu", "}", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguag", "onselectlanguage=", "{", "this.handlelanguag", "}", "/", ">", "<", "/div", ">", ")", "}", "}", "child", "var", "json", "=", "requir", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "var", "jsonarray", "=", "json.languag", ";", "export", "class", "selectlanguag", "extend", "react.compon", "{", "state", "=", "{", "selectedcod", ":", "``", ",", "selectedlanguag", ":", "jsonarray", "[", "0", "]", ",", "}", "handlelangchang", "=", "(", ")", "=", ">", "{", "var", "lang", "=", "this.dropdown.valu", ";", "this.props.onselectlanguag", "(", "lang", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref=", "{", "(", "ref", ")", "=", ">", "this.dropdown", "=", "ref", "}", "data=", "{", "jsonarray", "}", "valuefield='lang", "'", "textfield='lang", "'", "casesensitive=", "{", "fals", "}", "minlength=", "{", "3", "}", "filter='contain", "'", "onchange=", "{", "this.handlelangchang", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", "use", "createclass", "syntax", "which", "the", "op", "use", "in", "hi", "answer", "parent", "const", "parentcompon", "=", "react.createclass", "(", "{", "getinitialst", "(", ")", "{", "return", "{", "languag", ":", "``", ",", "}", ";", "}", ",", "handlelanguag", ":", "function", "(", "langvalu", ")", "{", "this.setst", "(", "{", "languag", ":", "langvalu", "}", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguag", "onselectlanguage=", "{", "this.handlelanguag", "}", "/", ">", "<", "/div", ">", ")", ";", "}", ")", ";", "child", "var", "json", "=", "requir", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "var", "jsonarray", "=", "json.languag", ";", "export", "const", "selectlanguag", "=", "react.createclass", "(", "{", "getinitialst", ":", "function", "(", ")", "{", "return", "{", "selectedcod", ":", "``", ",", "selectedlanguag", ":", "jsonarray", "[", "0", "]", ",", "}", ";", "}", ",", "handlelangchang", ":", "function", "(", ")", "{", "var", "lang", "=", "this.refs.dropdown.valu", ";", "this.props.onselectlanguag", "(", "lang", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref='dropdown", "'", "data=", "{", "jsonarray", "}", "valuefield='lang", "'", "textfield='lang", "'", "casesensitive=", "{", "fals", "}", "minlength=", "{", "3", "}", "filter='contain", "'", "onchange=", "{", "this.handlelangchang", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "json", ":", "{", "``", "languag", "''", ":", "[", "{", "``", "code", "''", ":", "``", "aaa", "''", ",", "``", "lang", "''", ":", "``", "english", "''", "}", ",", "{", "``", "code", "''", ":", "``", "aab", "''", ",", "``", "lang", "''", ":", "``", "swedish", "''", "}", ",", "]", "}", "to", "pass", "data", "from", "child", "compon", "to", "parent", "compon", "in", "parent", "compon", ":", "getdata", "(", "val", ")", "{", "//", "do", "not", "forget", "to", "bind", "getdata", "in", "constructor", "console.log", "(", "val", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "child", "senddata=", "{", "this.getdata", "}", "/", ">", ")", ";", "}", "in", "child", "compon", ":", "demomethod", "(", ")", "{", "this.props.senddata", "(", "valu", ")", ";", "}", "consid", "react", "function", "compon", "and", "use", "hook", "are", "get", "more", "popular", "these", "day", ",", "i", "will", "give", "a", "simpl", "exampl", "of", "how", "to", "pass", "data", "from", "child", "to", "parent", "compon", "in", "parent", "function", "compon", "we", "will", "have", ":", "import", "react", ",", "{", "usest", ",", "useeffect", "}", "from", "``", "react", "''", ";", "then", "const", "[", "childdata", ",", "setchilddata", "]", "=", "usest", "(", "``", "''", ")", ";", "and", "pass", "setchilddata", "(", "which", "do", "a", "job", "similar", "to", "this.setst", "in", "class", "compon", ")", "to", "child", "return", "(", "<", "childcompon", "passchilddata=", "{", "setchilddata", "}", "/", ">", ")", "in", "child", "compon", "first", "we", "get", "the", "receiv", "prop", "function", "childcompon", "(", "prop", ")", "{", "return", "(", "...", ")", "}", "then", "you", "can", "pass", "data", "anyhow", "like", "use", "a", "handler", "function", "const", "functionhandl", "=", "(", "data", ")", "=", ">", "{", "props.passchilddata", "(", "data", ")", ";", "}", "i", "found", "the", "approach", "how", "to", "get", "data", "from", "child", "compon", "in", "parent", "when", "i", "need", "it", ".", "parent", ":", "class", "parentcompon", "extend", "compon", "{", "onsubmit", "(", "data", ")", "{", "let", "mappoint", "=", "this.getmappoint", "(", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "form", "onsubmit=", "{", "this.onsubmit.bind", "(", "thi", ")", "}", ">", "<", "childcompon", "getcurrentpoint=", "{", "getmappoint", "=", ">", "{", "this.getmappoint", "=", "getmappoint", "}", "}", "/", ">", "<", "input", "type=", "''", "submit", "''", "value=", "''", "submit", "''", "/", ">", "<", "/form", ">", ")", "}", "}", "child", ":", "class", "childcompon", "extend", "compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "if", "(", "props.getcurrentpoint", ")", "{", "props.getcurrentpoint", "(", "this.getmappoint.bind", "(", "thi", ")", ")", ";", "}", "}", "getmappoint", "(", ")", "{", "return", "this.point", ";", "}", "}", "thi", "exampl", "show", "how", "to", "pass", "function", "from", "child", "compon", "to", "parent", "and", "use", "thi", "function", "to", "get", "data", "from", "child", ".", "from", "child", "compon", "to", "parent", "compon", "as", "below", "parent", "compon", "class", "parent", "extend", "react.compon", "{", "state", "=", "{", "messag", ":", "``", "parent", "messag", "''", "}", "callbackfunct", "=", "(", "childdata", ")", "=", ">", "{", "this.setst", "(", "{", "messag", ":", "childdata", "}", ")", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "parentcallback", "=", "{", "this.callbackfunct", "}", "/", ">", "<", "p", ">", "{", "this.state.messag", "}", "<", "/p", ">", "<", "/div", ">", ")", ";", "}", "}", "child", "compon", "class", "child", "extend", "react.compon", "{", "sendbackdata", "=", "(", ")", "=", ">", "{", "this.props.parentcallback", "(", "``", "child", "messag", "''", ")", ";", "}", ",", "render", "(", ")", "{", "<", "button", "onclick=", "{", "sendbackdata", "}", ">", "click", "me", "to", "send", "back", "<", "/button", ">", "}", "}", ";", "i", "hope", "thi", "work", "in", "react", "v16.8+", "function", "compon", ",", "you", "can", "use", "usest", "(", ")", "to", "creat", "a", "function", "state", "that", "let", "you", "updat", "the", "parent", "state", ",", "then", "pass", "it", "on", "to", "child", "as", "a", "prop", "attribut", ",", "then", "insid", "the", "child", "compon", "you", "can", "trigger", "the", "parent", "state", "function", ",", "the", "follow", "is", "a", "work", "snippet", ":", "const", "{", "usest", ",", "useeffect", "}", "=", "react", ";", "function", "timer", "(", "{", "setparentcount", "}", ")", "{", "const", "[", "counter", ",", "setcount", "]", "=", "react.usest", "(", "0", ")", ";", "useeffect", "(", "(", ")", "=", ">", "{", "let", "countersystem", ";", "countersystem", "=", "settimeout", "(", "(", ")", "=", ">", "setcount", "(", "counter", "+", "1", ")", ",", "1000", ")", ";", "return", "(", ")", "=", ">", "{", "cleartimeout", "(", "countersystem", ")", ";", "}", ";", "}", ",", "[", "counter", "]", ")", ";", "return", "(", "<", "div", "classname=", "''", "app", "''", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "setparentcount", "(", "counter", ")", ";", "}", "}", ">", "set", "parent", "counter", "valu", "<", "/button", ">", "<", "hr", "/", ">", "<", "div", ">", "child", "counter", ":", "{", "counter", "}", "<", "/div", ">", "<", "/div", ">", ")", ";", "}", "function", "app", "(", ")", "{", "const", "[", "parentcount", ",", "setparentcount", "]", "=", "usest", "(", "0", ")", ";", "return", "(", "<", "div", "classname=", "''", "app", "''", ">", "parent", "counter", ":", "{", "parentcount", "}", "<", "hr", "/", ">", "<", "timer", "setparentcounter=", "{", "setparentcount", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "reactdom.rend", "(", "<", "app", "/", ">", ",", "document.getelementbyid", "(", "'react-root", "'", ")", ")", ";", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/16.8.4/umd/react.production.min.j", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.4/umd/react-dom.production.min.j", "''", ">", "<", "/script", ">", "<", "div", "id=", "''", "react-root", "''", ">", "<", "/div", ">", "react.createclass", "method", "ha", "been", "deprec", "in", "the", "new", "version", "of", "react", ",", "you", "can", "do", "it", "veri", "simpli", "in", "the", "follow", "way", "make", "one", "function", "compon", "and", "anoth", "class", "compon", "to", "maintain", "state", ":", "parent", ":", "const", "parentcomp", "=", "(", ")", "=", ">", "{", "getlanguag", "=", "(", "languag", ")", "=", ">", "{", "console.log", "(", "'languag", "in", "parent", "compon", ":", "'", ",", "languag", ")", ";", "}", "<", "childcomp", "ongetlanguage=", "{", "getlanguag", "}", "}", ";", "child", ":", "class", "childcomp", "extend", "react.compon", "{", "state", "=", "{", "selectedlanguag", ":", "``", "}", "handlelangchang", "=", "e", "=", ">", "{", "const", "languag", "=", "e.target.valu", ";", "thi.setst", "(", "{", "selectedlanguag", "=", "languag", ";", "}", ")", ";", "this.props.ongetlanguag", "(", "{", "languag", "}", ")", ";", "}", "render", "(", ")", "{", "const", "json", "=", "requir", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "const", "jsonarray", "=", "json.languag", ";", "const", "selectedlanguag", "=", "this.stat", ";", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref='dropdown", "'", "data=", "{", "jsonarray", "}", "value=", "{", "tselectedlanguag", "}", "casesensitive=", "{", "fals", "}", "minlength=", "{", "3", "}", "filter='contain", "'", "onchange=", "{", "this.handlelangchang", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", ";", "you", "can", "even", "avoid", "the", "function", "at", "the", "parent", "updat", "the", "state", "directli", "in", "parent", "compon", ":", "render", "(", ")", "{", "return", "(", "<", "child", "senddata=", "{", "v", "=", ">", "this.setst", "(", "{", "item", ":", "v", "}", ")", "}", "/", ">", ")", ";", "}", "in", "the", "child", "compon", ":", "demomethod", "(", ")", "{", "this.props.senddata", "(", "valu", ")", ";", "}", "the", "idea", "is", "to", "send", "a", "callback", "to", "the", "child", "which", "will", "be", "call", "to", "give", "the", "data", "back", "a", "complet", "and", "minim", "exampl", "use", "function", ":", "app", "will", "creat", "a", "child", "which", "will", "comput", "a", "random", "number", "and", "send", "it", "back", "directli", "to", "the", "parent", ",", "which", "will", "console.log", "the", "result", "const", "child", "=", "(", "{", "handlerandom", "}", ")", "=", ">", "{", "handlerandom", "(", "math.random", "(", ")", ")", "return", "<", "span", ">", "child", "<", "/span", ">", "}", "const", "app", "=", "(", ")", "=", ">", "<", "child", "handlerandom=", "{", "(", "num", ")", "=", ">", "console.log", "(", "num", ")", "}", "/", ">", "pass", "data", "from", "child", "to", "parent", "compon", "use", "callback", "you", "need", "to", "pass", "from", "parent", "to", "child", "callback", "function", ",", "and", "then", "call", "it", "in", "the", "child", ".", "parent", "compon", ":", "-timemod", "handletimevalu", "=", "(", "timevalu", ")", "=", ">", "{", "this.setst", "(", "{", "pouringdiff", ":", "timevalu", "}", ")", ";", "}", "<", "timeselect", "prepourprehours=", "{", "prepourprehour", "}", "setpourtime=", "{", "this.setpourtim", "}", "isprepour=", "{", "isprepour", "}", "isresident=", "{", "isresid", "}", "ismilitaryformattime=", "{", "ismilitaryformattim", "}", "communitydatetime=", "{", "moment", "(", "communitydt", ")", ".format", "(", "``", "mm/dd/yyyy", "hh", ":", "mm", "a", "''", ")", "}", "onselectpouringtimediff=", "{", "this.handletimevalu", "}", "/", ">", "note", ":", "-", "onselectpouringtimediff=", "{", "this.handletimevalu", "}", "in", "the", "child", "compon", "call", "prop", "when", "requir", "componentdidmount", "(", ")", ":", "void", "{", "//", "todo", "use", "thi", "as", "per", "your", "scenrio", "this.props.onselectpouringtimediff", "(", "pouringdiff", ")", ";", "}", "ok", ",", "i", "'ll", "tri", "and", "make", "thi", "quick", "becaus", "it", "should", "be", "an", "easi", "fix", "...", "i", "'ve", "read", "a", "bunch", "of", "similar", "question", ",", "and", "the", "answer", "seem", "to", "be", "quit", "obviou", ".", "noth", "i", "would", "ever", "have", "to", "look", "up", "in", "the", "first", "place", "!", "but", "...", "i", "am", "have", "an", "error", "that", "i", "can", "not", "fathom", "how", "to", "fix", "or", "whi", "it", "happen", ".", "as", "follow", ":", "class", "nightlifetyp", "extend", "compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "{", "barclubloung", ":", "fals", ",", "seethetown", ":", "true", ",", "eventsentertain", ":", "true", ",", "familyfriendlyonli", ":", "fals", "}", "this.handleonchang", "=", "this.handleonchange.bind", "(", "thi", ")", ";", "}", "handleonchang", "=", "(", "event", ")", "=", ">", "{", "if", "(", "event.target.classnam", "==", "``", "barclubloung", "''", ")", "{", "this.setst", "(", "{", "barclubloung", ":", "event.target.check", "}", ")", ";", "console.log", "(", "event.target.check", ")", "console.log", "(", "this.state.barclubloung", ")", "}", "}", "render", "(", ")", "{", "return", "(", "<", "input", "classname=", "''", "barclubloung", "''", "type='checkbox", "'", "onchange=", "{", "this.handleonchang", "}", "checked=", "{", "this.state.barclubloung", "}", "/", ">", ")", "}", "more", "code", "surround", "thi", "but", "thi", "is", "where", "my", "problem", "lie", ".", "should", "work", ",", "right", "?", "i", "'ve", "also", "tri", "thi", ":", "handleonchang", "=", "(", "event", ")", "=", ">", "{", "if", "(", "event.target.classnam", "==", "``", "barclubloung", "''", ")", "{", "this.setst", "(", "{", "barclubloung", ":", "!", "this.state.barclubloung", "}", ")", ";", "console.log", "(", "event.target.check", ")", "console.log", "(", "this.state.barclubloung", ")", "}", "so", "i", "have", "those", "two", "console.log", "(", ")", "'s", ",", "both", "should", "be", "the", "same", ".", "i", "'m", "liter", "set", "the", "state", "to", "be", "the", "same", "as", "the", "event.target.check", "in", "the", "line", "abov", "it", "!", "but", "it", "alway", "return", "the", "opposit", "of", "what", "it", "should", ".", "same", "goe", "for", "when", "i", "use", "!", "this.state.barclubloung", ";", "if", "it", "start", "fals", ",", "on", "my", "first", "click", "it", "remain", "fals", ",", "even", "though", "whether", "the", "checkbox", "is", "check", "or", "not", "is", "base", "off", "of", "the", "state", "!", "!", "it", "'s", "a", "crazi", "paradox", "and", "i", "have", "no", "idea", "what", "go", "on", ",", "pleas", "help", "!", "reason", "is", "setstat", "is", "asynchron", ",", "you", "ca", "n't", "expect", "the", "updat", "state", "valu", "just", "after", "the", "setstat", ",", "if", "you", "want", "to", "check", "the", "valu", "use", "a", "callback", "method", ".", "pass", "a", "method", "as", "callback", "that", "will", "be", "get", "execut", "after", "the", "setstat", "complet", "it", "task", ".", "whi", "setstat", "is", "asynchron", "?", "thi", "is", "becaus", "setstat", "alter", "the", "state", "and", "caus", "re", "render", ".", "thi", "can", "be", "an", "expens", "oper", "and", "make", "it", "synchron", "might", "leav", "the", "browser", "unrespons", ".", "thu", "the", "setstat", "call", "are", "asynchron", "as", "well", "as", "batch", "for", "better", "ui", "experi", "and", "perform", ".", "from", "doc", ":", "setstat", "(", ")", "doe", "not", "immedi", "mutat", "this.stat", "but", "creat", "a", "pend", "state", "transit", ".", "access", "this.stat", "after", "call", "thi", "method", "can", "potenti", "return", "the", "exist", "valu", ".", "there", "is", "no", "guarante", "of", "synchron", "oper", "of", "call", "to", "setstat", "and", "call", "may", "be", "batch", "for", "perform", "gain", ".", "use", "callback", "method", "with", "setstat", ":", "to", "check", "the", "updat", "state", "valu", "just", "after", "the", "setstat", ",", "use", "a", "callback", "method", "like", "thi", ":", "setstat", "(", "{", "key", ":", "valu", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "'updat", "state", "valu", "'", ",", "this.state.key", ")", "}", ")", "check", "thi", ":", "class", "nightlifetyp", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "{", "barclubloung", ":", "fals", ",", "seethetown", ":", "true", ",", "eventsentertain", ":", "true", ",", "familyfriendlyonli", ":", "fals", "}", "}", "handleonchang", "=", "(", "event", ")", "=", ">", "{", "//", "arrow", "function", "bind", "`", "thi", "`", "let", "valu", "=", "event.target.check", ";", "if", "(", "event.target.classnam", "==", "``", "barclubloung", "''", ")", "{", "this.setst", "(", "{", "barclubloung", ":", "valu", "}", ",", "(", ")", "=", ">", "{", "//here", "console.log", "(", "valu", ")", ";", "console.log", "(", "this.state.barclubloung", ")", ";", "//both", "will", "print", "same", "valu", "}", ")", ";", "}", "}", "render", "(", ")", "{", "return", "(", "<", "input", "classname=", "''", "barclubloung", "''", "type='checkbox", "'", "onchange=", "{", "this.handleonchang", "}", "checked=", "{", "this.state.barclubloung", "}", "/", ">", ")", "}", "}", "reactdom.rend", "(", "<", "nightlifetypes/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.j", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.j", "''", ">", "<", "/script", ">", "<", "div", "id='app'/", ">", "sinc", "setstat", "is", "a", "async", "function", ".", "that", "mean", "after", "call", "setstat", "state", "variabl", "doe", "not", "immedi", "chang", ".", "so", "if", "you", "want", "to", "perform", "other", "action", "immedi", "after", "chang", "the", "state", "you", "should", "use", "callback", "method", "of", "setstat", "insid", "your", "setstat", "updat", "function", ".", "handleonchang", "=", "(", "event", ")", "=", ">", "{", "let", "inputst", "=", "event.target.check", ";", "if", "(", "event.target.classnam", "==", "``", "barclubloung", "''", ")", "{", "this.setst", "(", "{", "barclubloung", ":", "inputst", "}", ",", "(", ")", "=", ">", "{", "//here", "console.log", "(", "this.state.barclubloung", ")", ";", "//here", "you", "can", "call", "other", "function", "which", "use", "thi", "state", "variabl", "//", "}", ")", ";", "}", "}", "thi", "is", "by-design", "due", "to", "perform", "consider", ".", "setstat", "in", "react", "is", "a", "function", "guarante", "to", "re-rend", "compon", ",", "which", "is", "a", "costli", "cpu", "process", ".", "as", "such", ",", "it", "design", "want", "to", "optim", "by", "gather", "multipl", "render", "action", "into", "one", ",", "henc", "setstat", "is", "asynchron", ".", "i", "have", "two", "compon", ".", "parent", "compon", "child", "compon", "i", "wa", "tri", "to", "call", "child", "'s", "method", "from", "parent", ",", "i", "tri", "thi", "way", "but", "could", "n't", "get", "a", "result", "class", "parent", "extend", "compon", "{", "render", "(", ")", "{", "return", "(", "<", "child", ">", "<", "button", "onclick=", "{", "child.getalert", "(", ")", "}", ">", "click", "<", "/button", ">", "<", "/child", ">", ")", ";", "}", "}", "class", "child", "extend", "compon", "{", "getalert", "(", ")", "{", "alert", "(", "'click", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", "ref=", "''", "hello", "''", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "is", "there", "a", "way", "to", "call", "child", "'s", "method", "from", "the", "parent", "?", "note", ":", "child", "and", "parent", "compon", "are", "in", "two", "differ", "file", "first", "off", ",", "let", "me", "express", "that", "thi", "is", "gener", "not", "the", "way", "to", "go", "about", "thing", "in", "react", "land", ".", "usual", "what", "you", "want", "to", "do", "is", "pass", "down", "function", "to", "children", "in", "prop", ",", "and", "pass", "up", "notif", "from", "children", "in", "event", "(", "or", "better", "yet", ":", "dispatch", ")", ".", "but", "if", "you", "must", "expos", "an", "imper", "method", "on", "a", "child", "compon", ",", "you", "can", "use", "ref", ".", "rememb", "thi", "is", "an", "escap", "hatch", "and", "usual", "indic", "a", "better", "design", "is", "avail", ".", "previous", ",", "ref", "were", "onli", "support", "for", "class-bas", "compon", ".", "with", "the", "advent", "of", "react", "hook", ",", "that", "'s", "no", "longer", "the", "case", "use", "hook", "and", "function", "compon", "(", ">", "=", "react", "@", "16.8", ")", "const", "{", "forwardref", ",", "useref", ",", "useimperativehandl", "}", "=", "react", ";", "//", "we", "need", "to", "wrap", "compon", "in", "`", "forwardref", "`", "in", "order", "to", "gain", "//", "access", "to", "the", "ref", "object", "that", "is", "assign", "use", "the", "`", "ref", "`", "prop", ".", "//", "thi", "ref", "is", "pass", "as", "the", "second", "paramet", "to", "the", "function", "compon", ".", "const", "child", "=", "forwardref", "(", "(", "prop", ",", "ref", ")", "=", ">", "{", "//", "the", "compon", "instanc", "will", "be", "extend", "//", "with", "whatev", "you", "return", "from", "the", "callback", "pass", "//", "as", "the", "second", "argument", "useimperativehandl", "(", "ref", ",", "(", ")", "=", ">", "(", "{", "getalert", "(", ")", "{", "alert", "(", "``", "getalert", "from", "child", "''", ")", ";", "}", "}", ")", ")", ";", "return", "<", "h1", ">", "hi", "<", "/h1", ">", ";", "}", ")", ";", "const", "parent", "=", "(", ")", "=", ">", "{", "//", "in", "order", "to", "gain", "access", "to", "the", "child", "compon", "instanc", ",", "//", "you", "need", "to", "assign", "it", "to", "a", "`", "ref", "`", ",", "so", "we", "call", "`", "useref", "(", ")", "`", "to", "get", "one", "const", "childref", "=", "useref", "(", ")", ";", "return", "(", "<", "div", ">", "<", "child", "ref=", "{", "childref", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "childref.current.getalert", "(", ")", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", ";", "reactdom.rend", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "<", "script", "src=", "''", "http", ":", "//unpkg.com/react", "@", "16/umd/react.development.j", "''", "crossorigin", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//unpkg.com/react-dom", "@", "16/umd/react-dom.development.j", "''", "crossorigin", ">", "<", "/script", ">", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "document", "for", "useimperativehandl", "(", ")", "is", "here", ":", "useimperativehandl", "custom", "the", "instanc", "valu", "that", "is", "expos", "to", "parent", "compon", "when", "use", "ref", ".", "use", "class", "compon", "(", ">", "=", "react", "@", "16.4", ")", "const", "{", "compon", "}", "=", "react", ";", "class", "parent", "extend", "compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.child", "=", "react.createref", "(", ")", ";", "}", "onclick", "=", "(", ")", "=", ">", "{", "this.child.current.getalert", "(", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "ref=", "{", "this.child", "}", "/", ">", "<", "button", "onclick=", "{", "this.onclick", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extend", "compon", "{", "getalert", "(", ")", "{", "alert", "(", "'getalert", "from", "child", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "h1", ">", "hello", "<", "/h1", ">", ";", "}", "}", "reactdom.rend", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "<", "script", "src=", "''", "http", ":", "//unpkg.com/react", "@", "16/umd/react.development.j", "''", "crossorigin", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//unpkg.com/react-dom", "@", "16/umd/react-dom.development.j", "''", "crossorigin", ">", "<", "/script", ">", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "legaci", "api", "(", "<", "=", "react", "@", "16.3", ")", "for", "histor", "purpos", ",", "here", "'s", "the", "callback-bas", "style", "you", "'d", "use", "with", "react", "version", "befor", "16.3", ":", "const", "{", "compon", "}", "=", "react", ";", "const", "{", "render", "}", "=", "reactdom", ";", "class", "parent", "extend", "compon", "{", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "ref=", "{", "instanc", "=", ">", "{", "this.child", "=", "instanc", ";", "}", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "this.child.getalert", "(", ")", ";", "}", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extend", "compon", "{", "getalert", "(", ")", "{", "alert", "(", "'click", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "render", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.j", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.j", "''", ">", "<", "/script", ">", "<", "div", "id=", "''", "app", "''", ">", "<", "/div", ">", "you", "can", "use", "anoth", "pattern", "here", ":", "class", "parent", "extend", "compon", "{", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "setclick=", "{", "click", "=", ">", "this.clickchild", "=", "click", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.clickchild", "(", ")", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extend", "compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.getalert", "=", "this.getalert.bind", "(", "thi", ")", ";", "}", "componentdidmount", "(", ")", "{", "this.props.setclick", "(", "this.getalert", ")", ";", "}", "getalert", "(", ")", "{", "alert", "(", "'click", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", "ref=", "''", "hello", "''", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "what", "it", "doe", "is", "to", "set", "the", "parent", "'s", "clickchild", "method", "when", "child", "is", "mount", ".", "in", "thi", "way", "when", "you", "click", "the", "button", "in", "parent", "it", "will", "call", "clickchild", "which", "call", "child", "'s", "getalert", ".", "thi", "also", "work", "if", "your", "child", "is", "wrap", "with", "connect", "(", ")", "so", "you", "do", "n't", "need", "the", "getwrappedinst", "(", ")", "hack", ".", "note", "you", "ca", "n't", "use", "onclick=", "{", "this.clickchild", "}", "in", "parent", "becaus", "when", "parent", "is", "render", "child", "is", "not", "mount", "so", "this.clickchild", "is", "not", "assign", "yet", ".", "use", "onclick=", "{", "(", ")", "=", ">", "this.clickchild", "(", ")", "}", "is", "fine", "becaus", "when", "you", "click", "the", "button", "this.clickchild", "should", "alreadi", "be", "assign", ".", "altern", "method", "with", "useeffect", ":", "parent", ":", "const", "[", "refresh", ",", "dorefresh", "]", "=", "usest", "(", "0", ")", ";", "<", "button", "onclick=", "{", "(", ")", "=", ">", "dorefresh", "(", "prev", "=", ">", "prev", "+", "1", ")", "}", "/", ">", "<", "children", "refresh=", "{", "refresh", "}", "/", ">", "children", ":", "useeffect", "(", "(", ")", "=", ">", "{", "performrefresh", "(", ")", ";", "//children", "function", "of", "interest", "}", ",", "[", "props.refresh", "]", ")", ";", "http", ":", "//facebook.github.io/react/tips/expose-component-functions.html", "for", "more", "answer", "ref", "here", "call", "method", "on", "react", "children", "compon", "by", "look", "into", "the", "ref", "of", "the", "``", "reason", "''", "compon", ",", "you", "'re", "break", "encapsul", "and", "make", "it", "imposs", "to", "refactor", "that", "compon", "without", "care", "examin", "all", "the", "place", "it", "'s", "use", ".", "becaus", "of", "thi", ",", "we", "strongli", "recommend", "treat", "ref", "as", "privat", "to", "a", "compon", ",", "much", "like", "state", ".", "in", "gener", ",", "data", "should", "be", "pass", "down", "the", "tree", "via", "prop", ".", "there", "are", "a", "few", "except", "to", "thi", "(", "such", "as", "call", ".focu", "(", ")", "or", "trigger", "a", "one-tim", "anim", "that", "doe", "n't", "realli", "``", "chang", "''", "the", "state", ")", "but", "ani", "time", "you", "'re", "expos", "a", "method", "call", "``", "set", "''", ",", "prop", "are", "usual", "a", "better", "choic", ".", "tri", "to", "make", "it", "so", "that", "the", "inner", "input", "compon", "worri", "about", "it", "size", "and", "appear", "so", "that", "none", "of", "it", "ancestor", "do", ".", "we", "can", "use", "ref", "in", "anoth", "way", "as-", "we", "are", "go", "to", "creat", "a", "parent", "element", ",", "it", "will", "render", "a", "<", "child/", ">", "compon", ".", "as", "you", "can", "see", ",", "the", "compon", "that", "will", "be", "render", ",", "you", "need", "to", "add", "the", "ref", "attribut", "and", "provid", "a", "name", "for", "it", ".", "then", ",", "the", "triggerchildalert", "function", ",", "locat", "in", "the", "parent", "class", "will", "access", "the", "ref", "properti", "of", "the", "thi", "context", "(", "when", "the", "triggerchildalert", "function", "is", "trigger", "will", "access", "the", "child", "refer", "and", "it", "will", "ha", "all", "the", "function", "of", "the", "child", "element", ")", ".", "class", "parent", "extend", "react.compon", "{", "triggerchildalert", "(", ")", "{", "this.refs.child.callchildmethod", "(", ")", ";", "//", "to", "get", "child", "parent", "return", "value-", "//", "this.valu", "=", "this.refs.child.callchildmethod", "(", ")", ";", "//", "alert", "(", "'return", "value-", "'+this.valu", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "/", "*", "note", "that", "you", "need", "to", "give", "a", "valu", "to", "the", "ref", "paramet", ",", "in", "thi", "case", "child", "*", "/", "}", "<", "child", "ref=", "''", "child", "''", "/", ">", "<", "button", "onclick=", "{", "this.triggerchildalert", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "now", ",", "the", "child", "compon", ",", "as", "theoret", "design", "previous", ",", "will", "look", "like", ":", "class", "child", "extend", "react.compon", "{", "callchildmethod", "(", ")", "{", "alert", "(", "'hello", "world", "'", ")", ";", "//", "to", "return", "some", "valu", "//", "return", "this.state.somevalu", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "here", "is", "the", "sourc", "code-", "hope", "will", "help", "you", "!", "if", "you", "are", "do", "thi", "simpli", "becaus", "you", "want", "the", "child", "to", "provid", "a", "re-us", "trait", "to", "it", "parent", ",", "then", "you", "might", "consid", "do", "that", "use", "render-prop", "instead", ".", "that", "techniqu", "actual", "turn", "the", "structur", "upsid", "down", ".", "the", "child", "now", "wrap", "the", "parent", ",", "so", "i", "have", "renam", "it", "to", "alerttrait", "below", ".", "i", "kept", "the", "name", "parent", "for", "continu", ",", "although", "it", "is", "not", "realli", "a", "parent", "now", ".", "//", "use", "it", "like", "thi", ":", "<", "alerttrait", "rendercomponent=", "{", "parent", "}", "/", ">", "class", "alerttrait", "extend", "compon", "{", "//", "you", "will", "need", "to", "bind", "thi", "function", ",", "if", "it", "use", "'thi", "'", "doalert", "(", ")", "{", "alert", "(", "'click", "'", ")", ";", "}", "render", "(", ")", "{", "return", "this.props.rendercompon", "(", "{", "doalert", ":", "this.doalert", "}", ")", ";", "}", "}", "class", "parent", "extend", "compon", "{", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.props.doalert", "}", ">", "click", "<", "/button", ">", ")", ";", "}", "}", "in", "thi", "case", ",", "the", "alerttrait", "provid", "one", "or", "more", "trait", "which", "it", "pass", "down", "as", "prop", "to", "whatev", "compon", "it", "wa", "given", "in", "it", "rendercompon", "prop", ".", "the", "parent", "receiv", "doalert", "as", "a", "prop", ",", "and", "can", "call", "it", "when", "need", ".", "(", "for", "clariti", ",", "i", "call", "the", "prop", "rendercompon", "in", "the", "abov", "exampl", ".", "but", "in", "the", "react", "doc", "link", "abov", ",", "they", "just", "call", "it", "render", ".", ")", "the", "trait", "compon", "can", "render", "stuff", "surround", "the", "parent", ",", "in", "it", "render", "function", ",", "but", "it", "doe", "not", "render", "anyth", "insid", "the", "parent", ".", "actual", "it", "could", "render", "thing", "insid", "the", "parent", ",", "if", "it", "pass", "anoth", "prop", "(", "e.g", ".", "renderchild", ")", "to", "the", "parent", ",", "which", "the", "parent", "could", "then", "use", "dure", "it", "render", "method", ".", "thi", "is", "somewhat", "differ", "from", "what", "the", "op", "ask", "for", ",", "but", "some", "peopl", "might", "end", "up", "here", "(", "like", "we", "did", ")", "becaus", "they", "want", "to", "creat", "a", "reusabl", "trait", ",", "and", "thought", "that", "a", "child", "compon", "wa", "a", "good", "way", "to", "do", "that", ".", "i", "wa", "n't", "satisfi", "with", "ani", "of", "the", "solut", "present", "here", ".", "there", "is", "actual", "a", "veri", "simpl", "solut", "that", "can", "be", "done", "use", "pure", "javascript", "without", "reli", "upon", "some", "react", "function", "other", "than", "the", "basic", "prop", "object", "-", "and", "it", "give", "you", "the", "benefit", "of", "commun", "in", "either", "direct", "(", "parent", "-", ">", "child", ",", "child", "-", ">", "parent", ")", ".", "you", "need", "to", "pass", "an", "object", "from", "the", "parent", "compon", "to", "the", "child", "compon", ".", "thi", "object", "is", "what", "i", "refer", "to", "as", "a", "``", "bi-direct", "refer", "''", "or", "biref", "for", "short", ".", "basic", ",", "the", "object", "contain", "a", "refer", "to", "method", "in", "the", "parent", "that", "the", "parent", "want", "to", "expos", ".", "and", "the", "child", "compon", "attach", "method", "to", "the", "object", "that", "the", "parent", "can", "call", ".", "someth", "like", "thi", ":", "//", "parent", "compon", ".", "function", "myparentcompon", "(", "prop", ")", "{", "function", "someparentfunct", "(", ")", "{", "//", "the", "child", "compon", "can", "call", "thi", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "function", "insid", "the", "child", "compon", ".", "biref.somechildfunct", "(", ")", ";", "}", "//", "add", "all", "the", "function", "here", "that", "the", "child", "can", "call", ".", "var", "biref", "=", "{", "someparentfunct", ":", "someparentfunct", "}", "return", "<", "div", ">", "<", "mychildcompon", "biref=", "{", "biref", "}", "/", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "//", "child", "compon", "function", "mychildcompon", "(", "prop", ")", "{", "function", "somechildfunct", "(", ")", "{", "//", "the", "parent", "compon", "can", "call", "thi", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "parent", "function", ".", "props.biref.someparentfunct", "(", ")", ";", "}", "//", "add", "all", "the", "child", "function", "to", "props.biref", "that", "you", "want", "the", "parent", "//", "to", "be", "abl", "to", "call", ".", "props.biref.somechildfunct", "=", "somechildfunct", ";", "return", "<", "div", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "the", "other", "advantag", "to", "thi", "solut", "is", "that", "you", "can", "add", "a", "lot", "more", "function", "in", "the", "parent", "and", "child", "while", "pass", "them", "from", "the", "parent", "to", "the", "child", "use", "onli", "a", "singl", "properti", ".", "an", "improv", "over", "the", "code", "abov", "is", "to", "not", "add", "the", "parent", "and", "child", "function", "directli", "to", "the", "biref", "object", "but", "rather", "to", "sub", "member", ".", "parent", "function", "should", "be", "ad", "to", "a", "member", "call", "``", "parent", "''", "while", "the", "child", "function", "should", "be", "ad", "to", "a", "member", "call", "``", "child", "''", ".", "//", "parent", "compon", ".", "function", "myparentcompon", "(", "prop", ")", "{", "function", "someparentfunct", "(", ")", "{", "//", "the", "child", "compon", "can", "call", "thi", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "function", "insid", "the", "child", "compon", ".", "biref.child.somechildfunct", "(", ")", ";", "}", "//", "add", "all", "the", "function", "here", "that", "the", "child", "can", "call", ".", "var", "biref", "=", "{", "parent", ":", "{", "someparentfunct", ":", "someparentfunct", "}", "}", "return", "<", "div", ">", "<", "mychildcompon", "biref=", "{", "biref", "}", "/", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "//", "child", "compon", "function", "mychildcompon", "(", "prop", ")", "{", "function", "somechildfunct", "(", ")", "{", "//", "the", "parent", "compon", "can", "call", "thi", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "parent", "function", ".", "props.biref.parent.someparentfunct", "(", ")", ";", "}", "//", "add", "all", "the", "child", "function", "to", "props.biref", "that", "you", "want", "the", "parent", "//", "to", "be", "abl", "to", "call", ".", "props.biref", "{", "child", ":", "{", "somechildfunct", ":", "somechildfunct", "}", "}", "return", "<", "div", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "by", "place", "parent", "and", "child", "function", "into", "separ", "member", "of", "the", "biref", "object", ",", "you", "'ll", "have", "a", "clean", "separ", "between", "the", "two", "and", "easili", "see", "which", "one", "belong", "to", "parent", "or", "child", ".", "it", "also", "help", "to", "prevent", "a", "child", "compon", "from", "accident", "overwrit", "a", "parent", "function", "if", "the", "same", "function", "appear", "in", "both", ".", "one", "last", "thing", "is", "that", "if", "you", "note", ",", "the", "parent", "compon", "creat", "the", "biref", "object", "with", "var", "wherea", "the", "child", "compon", "access", "it", "through", "the", "prop", "object", ".", "it", "might", "be", "tempt", "to", "not", "defin", "the", "biref", "object", "in", "the", "parent", "and", "access", "it", "from", "it", "parent", "through", "it", "own", "prop", "paramet", "(", "which", "might", "be", "the", "case", "in", "a", "hierarchi", "of", "ui", "element", ")", ".", "thi", "is", "riski", "becaus", "the", "child", "may", "think", "a", "function", "it", "is", "call", "on", "the", "parent", "belong", "to", "the", "parent", "when", "it", "might", "actual", "belong", "to", "a", "grandpar", ".", "there", "'s", "noth", "wrong", "with", "thi", "as", "long", "as", "you", "are", "awar", "of", "it", ".", "unless", "you", "have", "a", "reason", "for", "support", "some", "hierarchi", "beyond", "a", "parent/child", "relationship", ",", "it", "'s", "best", "to", "creat", "the", "biref", "in", "your", "parent", "compon", ".", "i", "hope", "i", "'m", "not", "repeat", "anyth", "from", "abov", "but", "what", "about", "pass", "a", "callback", "prop", "that", "set", "the", "function", "in", "the", "parent", "?", "thi", "work", "and", "is", "pretti", "easi", ".", "(", "ad", "code", "is", "between", "the", "////", "'s", ")", "class", "parent", "extend", "compon", "{", "/////", "getalert", "=", "(", ")", "=", ">", "{", "}", "//", "initi", "valu", "for", "getalert", "setgetalertmethod", "=", "(", "newmethod", ")", "=", ">", "{", "this.getalert", "=", "newmethod", ";", "}", "/////", "render", "(", ")", "{", "return", "(", "<", "child", "setgetalertmethod=", "{", "this.setgetalertmethod", "}", ">", "<", "button", "onclick=", "{", "this.getalert", "}", ">", "click", "<", "/button", ">", "<", "/child", ">", ")", ";", "}", "}", "class", "child", "extend", "compon", "{", "/////", "componentdidmount", "(", ")", "{", "this.props.setgetalertmethod", "(", "this.getalert", ")", ";", "}", "/////", "getalert", "(", ")", "=", ">", "{", "alert", "(", "'click", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", "ref=", "''", "hello", "''", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "you", "can", "achiev", "thi", "easili", "in", "thi", "way", "steps-", "creat", "a", "boolean", "variabl", "in", "the", "state", "in", "the", "parent", "class", ".", "updat", "thi", "when", "you", "want", "to", "call", "a", "function", ".", "creat", "a", "prop", "variabl", "and", "assign", "the", "boolean", "variabl", ".", "from", "the", "child", "compon", "access", "that", "variabl", "use", "prop", "and", "execut", "the", "method", "you", "want", "by", "have", "an", "if", "condit", ".", "class", "child", "extend", "compon", "{", "method=", "(", ")", "=", ">", "{", "--", "your", "method", "bodi", "--", "}", "render", "(", ")", "{", "return", "(", "//check", "whether", "the", "variabl", "ha", "been", "updat", "or", "not", "if", "(", "this.props.updatemethod", ")", "{", "this.method", "(", ")", ";", "}", ")", "}", "}", "class", "parent", "extend", "compon", "{", "constructor", "(", ")", "{", "this.state=", "{", "callmethod", ":", "fals", "}", "}", "render", "(", ")", "{", "return", "(", "//updat", "state", "accord", "to", "your", "requir", "this.setst", "(", "{", "callmethod", ":", "true", "}", "}", "<", "child", "updatemethod=", "{", "this.state.callmethod", "}", ">", "<", "/child", ">", ")", ";", "}", "}", "i", "'m", "use", "useeffect", "hook", "to", "overcom", "the", "headach", "of", "do", "all", "thi", "so", "now", "i", "pass", "a", "variabl", "down", "to", "child", "like", "thi", ":", "<", "parentcompon", ">", "<", "childcompon", "arbitrary=", "{", "valu", "}", "/", ">", "<", "/parentcompon", ">", "useeffect", "(", "(", ")", "=", ">", "callthefunctiontobecal", "(", "valu", ")", ",", "[", "valu", "]", ")", ";", "here", "my", "demo", ":", "http", ":", "//stackblitz.com/edit/react-dgz1e", "?", "file=styles.css", "i", "am", "use", "useeffect", "to", "call", "the", "children", "compon", "'s", "method", ".", "i", "have", "tri", "with", "proxi", "and", "setter_gett", "but", "sor", "far", "useeffect", "seem", "to", "be", "the", "more", "conveni", "way", "to", "call", "a", "child", "method", "from", "parent", ".", "to", "use", "proxi", "and", "setter_gett", "it", "seem", "there", "is", "some", "subtleti", "to", "overcom", "first", ",", "becaus", "the", "element", "firstli", "render", "is", "an", "objectlik", "'s", "element", "through", "the", "ref.curr", "return", "=", ">", "<", "div/", ">", "'s", "specif", ".", "concern", "useeffect", ",", "you", "can", "also", "leverag", "on", "thi", "approach", "to", "set", "the", "parent", "'s", "state", "depend", "on", "what", "you", "want", "to", "do", "with", "the", "children", ".", "in", "the", "demo", "'s", "link", "i", "have", "provid", ",", "you", "will", "find", "my", "full", "reactj", "'", "code", "with", "my", "draftwork", "insid", "'s", "so", "you", "can", "appreci", "the", "workflow", "of", "my", "solut", ".", "here", "i", "am", "provid", "you", "my", "reactj", "'", "snippet", "with", "the", "relev", "code", "onli", ".", ":", "import", "react", ",", "{", "compon", ",", "createref", ",", "forwardref", ",", "usest", ",", "useeffect", "}", "from", "``", "react", "''", ";", "{", "...", "}", "//", "child", "compon", "//", "i", "am", "defin", "here", "a", "forwardref", "'s", "element", "to", "get", "the", "child", "'s", "method", "from", "the", "parent", "//", "through", "the", "ref", "'s", "element", ".", "let", "child", "=", "forwardref", "(", "(", "prop", ",", "ref", ")", "=", ">", "{", "//", "i", "am", "fetch", "the", "parent", "'s", "method", "here", "//", "that", "allow", "me", "to", "connect", "the", "parent", "and", "the", "child", "'s", "compon", "let", "{", "validatechildren", "}", "=", "prop", ";", "//", "i", "am", "initi", "the", "state", "of", "the", "children", "//", "good", "if", "we", "can", "even", "leverag", "on", "the", "function", "children", "'s", "state", "let", "initialst", "=", "{", "one", ":", "``", "hello", "world", "''", ",", "two", ":", "(", ")", "=", ">", "{", "console.log", "(", "``", "i", "am", "access", "child", "method", "from", "parent", ":", "]", ".", "``", ")", ";", "return", "``", "child", "method", "achiev", "''", ";", "}", "}", ";", "//", "usest", "initi", "const", "[", "componentst", ",", "setcomponentst", "]", "=", "usest", "(", "initialst", ")", ";", "//", "useeffect", "will", "allow", "me", "to", "commun", "with", "the", "parent", "//", "through", "a", "lifecycl", "data", "flow", "useeffect", "(", "(", ")", "=", ">", "{", "ref.curr", "=", "{", "componentst", "}", ";", "validatechildren", "(", "ref.current.componentstate.two", ")", ";", "}", ")", ";", "{", "...", "}", "}", ")", ";", "{", "...", "}", "//", "parent", "compon", "class", "app", "extend", "compon", "{", "//", "initi", "the", "ref", "insid", "the", "constructor", "element", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.childref", "=", "createref", "(", ")", ";", "}", "//", "i", "am", "implement", "a", "parent", "'s", "method", "//", "in", "child", "useeffect", "'s", "method", "validatechildren", "=", "childrenmethod", "=", ">", "{", "//", "access", "children", "method", "from", "parent", "childrenmethod", "(", ")", ";", "//", "or", "signal", "children", "is", "readi", "console.log", "(", "``", "children", "activ", "''", ")", ";", "}", ";", "{", "...", "}", "render", "(", ")", "{", "return", "(", "{", "//", "i", "am", "referenc", "the", "children", "//", "also", "i", "am", "implement", "the", "parent", "logic", "connector", "'s", "function", "//", "in", "the", "child", ",", "here", "=", ">", "this.validatechildren", "'s", "function", "}", "<", "child", "ref=", "{", "this.childref", "}", "validatechildren=", "{", "this.validatechildren", "}", "/", ">", "<", "/div", ">", ")", "}", "we", "'re", "happi", "with", "a", "custom", "hook", "we", "call", "usecounterkey", ".", "it", "just", "set", "up", "a", "counterkey", ",", "or", "a", "key", "that", "count", "up", "from", "zero", ".", "the", "function", "it", "return", "reset", "the", "key", "(", "i.e", ".", "increment", ")", ".", "(", "i", "believ", "thi", "is", "the", "most", "idiomat", "way", "in", "react", "to", "reset", "a", "compon", "-", "just", "bump", "the", "key", ".", ")", "howev", "thi", "hook", "also", "work", "in", "ani", "situat", "where", "you", "want", "to", "send", "a", "one-tim", "messag", "to", "the", "client", "to", "do", "someth", ".", "e.g", ".", "we", "use", "it", "to", "focu", "a", "control", "in", "the", "child", "on", "a", "certain", "parent", "event", "-", "it", "just", "autofocus", "anytim", "the", "key", "is", "updat", ".", "(", "if", "more", "prop", "are", "need", "they", "could", "be", "set", "prior", "to", "reset", "the", "key", "so", "they", "'re", "avail", "when", "the", "event", "happen", ".", ")", "thi", "method", "ha", "a", "bit", "of", "a", "learn", "curv", "b/c", "it", "'s", "not", "as", "straightforward", "as", "a", "typic", "event", "handler", ",", "but", "it", "seem", "the", "most", "idiomat", "way", "to", "handl", "thi", "in", "react", "that", "we", "'ve", "found", "(", "sinc", "key", "alreadi", "function", "thi", "way", ")", ".", "def", "open", "to", "feedback", "on", "thi", "method", "but", "it", "is", "work", "well", "!", "//", "main", "helper", "hook", ":", "export", "function", "usecounterkey", "(", ")", "{", "const", "[", "key", ",", "setkey", "]", "=", "usest", "(", "0", ")", ";", "return", "[", "key", ",", "(", ")", "=", ">", "setkey", "(", "prev", "=", ">", "prev", "+", "1", ")", "]", "as", "const", ";", "}", "sampl", "usag", ":", "//", "sampl", "1", "-", "normal", "react", ",", "just", "reset", "a", "control", "by", "chang", "key", "on", "demand", "function", "sample1", "(", ")", "{", "const", "[", "inputlinecounterkey", ",", "resetinputlin", "]", "=", "usecounterkey", "(", ")", ";", "return", "<", ">", "<", "inputlin", "key=", "{", "inputlinecounterkey", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "resetinputlin", "(", ")", "}", "/", ">", "<", ">", ";", "}", "//", "second", "sampl", "-", "anytim", "the", "counterkey", "is", "increment", ",", "child", "call", "focu", "(", ")", "on", "the", "input", "function", "sample2", "(", ")", "{", "const", "[", "amountfocuscounterkey", ",", "focusamountinput", "]", "=", "usecounterkey", "(", ")", ";", "//", "...", "call", "focusamountinput", "in", "some", "hook", "or", "event", "handler", "as", "need", "return", "<", "workoutamountinput", "focuscounterkey=", "{", "amountfocuscounterkey", "}", "/", ">", "}", "function", "workoutamountinput", "(", "prop", ")", "{", "useeffect", "(", "(", ")", "=", ">", "{", "if", "(", "counterkey", ">", "0", ")", "{", "//", "do", "n't", "focu", "initi", "focusamount", "(", ")", ";", "}", "}", ",", "[", "counterkey", "]", ")", ";", "//", "...", "}", "(", "credit", "to", "kent", "dodd", "for", "the", "counterkey", "concept", ".", ")", "you", "can", "make", "inherit", "invers", "(", "look", "it", "up", "here", ":", "http", ":", "//medium.com/", "@", "franleplant/react-higher-order-components-in-depth-cf9032ee6c3", ")", ".", "that", "way", "you", "have", "access", "to", "instanc", "of", "the", "compon", "that", "you", "would", "be", "wrap", "(", "thu", "you", "'ll", "be", "abl", "to", "access", "it", "'s", "function", ")", "i", "think", "that", "the", "most", "basic", "way", "to", "call", "method", "is", "by", "set", "a", "request", "on", "the", "child", "compon", ".", "then", "as", "soon", "as", "the", "child", "handl", "the", "request", ",", "it", "call", "a", "callback", "method", "to", "reset", "the", "request", ".", "the", "reset", "mechan", "is", "necessari", "to", "be", "abl", "to", "send", "the", "same", "request", "multipl", "time", "after", "each", "other", ".", "in", "parent", "compon", "in", "the", "render", "method", "of", "the", "parent", ":", "const", "{", "request", "}", "=", "this.stat", ";", "return", "(", "<", "child", "request=", "{", "request", "}", "onrequesthandled=", "{", "(", ")", "-", ">", "resetrequest", "(", ")", "}", "/", ">", ")", ";", "the", "parent", "need", "2", "method", ",", "to", "commun", "with", "it", "child", "in", "2", "direct", ".", "sendrequest", "(", ")", "{", "const", "request", "=", "{", "param", ":", "``", "valu", "''", "}", ";", "this.setst", "(", "{", "request", "}", ")", ";", "}", "resetrequest", "(", ")", "{", "const", "request", "=", "null", ";", "this.setst", "(", "{", "request", "}", ")", ";", "}", "in", "child", "compon", "the", "child", "updat", "it", "intern", "state", ",", "copi", "the", "request", "from", "the", "prop", ".", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "const", "{", "request", "}", "=", "prop", ";", "this.stat", "=", "{", "request", "}", ";", "}", "static", "getderivedstatefromprop", "(", "prop", ",", "state", ")", "{", "const", "{", "request", "}", "=", "prop", ";", "if", "(", "request", "!", "==", "state.request", ")", "return", "{", "request", "}", ";", "return", "null", ";", "}", "then", "final", "it", "handl", "the", "request", ",", "and", "send", "the", "reset", "to", "the", "parent", ":", "componentdidmount", "(", ")", "{", "const", "{", "request", "}", "=", "this.stat", ";", "//", "todo", "handl", "request", ".", "const", "{", "onrequesthandl", "}", "=", "this.prop", ";", "if", "(", "onrequesthandl", "!", "=", "null", ")", "onrequesthandl", "(", ")", ";", "}", "anoth", "way", "of", "trigger", "a", "child", "function", "from", "parent", "is", "to", "make", "use", "of", "the", "componentdidupd", "function", "in", "child", "compon", ".", "i", "pass", "a", "prop", "triggerchildfunc", "from", "parent", "to", "child", ",", "which", "initi", "is", "null", ".", "the", "valu", "chang", "to", "a", "function", "when", "the", "button", "is", "click", "and", "child", "notic", "that", "chang", "in", "componentdidupd", "and", "call", "it", "own", "intern", "function", ".", "sinc", "prop", "triggerchildfunc", "chang", "to", "a", "function", ",", "we", "also", "get", "a", "callback", "to", "the", "parent", ".", "if", "parent", "do", "n't", "need", "to", "know", "when", "the", "function", "is", "call", "the", "valu", "triggerchildfunc", "could", "for", "exampl", "chang", "from", "null", "to", "true", "instead", ".", "const", "{", "compon", "}", "=", "react", ";", "const", "{", "render", "}", "=", "reactdom", ";", "class", "parent", "extend", "compon", "{", "state", "=", "{", "triggerfunc", ":", "null", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "triggerchildfunc=", "{", "this.state.triggerfunc", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "this.setst", "(", "{", "triggerfunc", ":", "(", ")", "=", ">", "alert", "(", "'callback", "in", "parent", "'", ")", "}", ")", "}", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extend", "compon", "{", "componentdidupd", "(", "prevprop", ")", "{", "if", "(", "this.props.triggerchildfunc", "!", "==", "prevprops.triggerchildfunc", ")", "{", "this.onparenttrigg", "(", ")", ";", "}", "}", "onparenttrigg", "(", ")", "{", "alert", "(", "'parent", "trigger", "me", "'", ")", ";", "//", "let", "'s", "call", "the", "pass", "variabl", "from", "parent", "if", "it", "'s", "a", "function", "if", "(", "this.props.triggerchildfunc", "&", "&", "{", "}", ".tostring.cal", "(", "this.props.triggerchildfunc", ")", "===", "'", "[", "object", "function", "]", "'", ")", "{", "this.props.triggerchildfunc", "(", ")", ";", "}", "}", "render", "(", ")", "{", "return", "(", "<", "h1", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "render", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.j", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.j", "''", ">", "<", "/script", ">", "<", "div", "id='app", "'", ">", "<", "/div", ">", "codepen", ":", "http", ":", "//codepen.io/calsal/pen/nwpxbjv", "?", "editors=1010", "here", "'s", "a", "bug", "?", "to", "look", "out", "for", ":", "i", "concur", "with", "rossipedia", "'s", "solut", "use", "forwardref", ",", "useref", ",", "useimperativehandl", "there", "'s", "some", "misinform", "onlin", "that", "say", "ref", "can", "onli", "be", "creat", "from", "react", "class", "compon", ",", "but", "you", "can", "inde", "use", "function", "compon", "if", "you", "use", "the", "aforement", "hook", "abov", ".", "a", "note", ",", "the", "hook", "onli", "work", "for", "me", "after", "i", "chang", "the", "file", "to", "not", "use", "withrout", "(", ")", "when", "export", "the", "compon", ".", "i.e", ".", "a", "chang", "from", "export", "default", "withrout", "(", "tableconfig", ")", ";", "to", "instead", "be", "export", "default", "tableconfig", ";", "in", "hindsight", "the", "withrout", "(", ")", "is", "not", "need", "for", "such", "a", "compon", "anyway", ",", "but", "usual", "it", "doe", "n't", "hurt", "anyth", "have", "it", "in", ".", "my", "use", "case", "is", "that", "i", "creat", "a", "compon", "to", "creat", "a", "tabl", "to", "handl", "the", "view", "and", "edit", "of", "config", "valu", ",", "and", "i", "want", "to", "be", "abl", "to", "tell", "thi", "child", "compon", "to", "reset", "it", "'s", "state", "valu", "whenev", "the", "parent", "form", "'s", "reset", "button", "wa", "hit", ".", "useref", "(", ")", "would", "n't", "properli", "get", "the", "ref", "or", "ref.curr", "(", "kept", "on", "get", "null", ")", "until", "i", "remov", "withrout", "(", ")", "from", "the", "file", "contain", "my", "child", "compon", "tableconfig", "i", "understand", "that", "react", "tutori", "and", "document", "warn", "in", "no", "uncertain", "term", "that", "state", "should", "not", "be", "directli", "mutat", "and", "that", "everyth", "should", "go", "through", "setstat", ".", "i", "would", "like", "to", "understand", "whi", ",", "exactli", ",", "i", "ca", "n't", "just", "directli", "chang", "state", "and", "then", "(", "in", "the", "same", "function", ")", "call", "this.setst", "(", "{", "}", ")", "just", "to", "trigger", "the", "render", ".", "e.g", ".", ":", "the", "below", "code", "seem", "to", "work", "just", "fine", ":", "const", "react", "=", "requir", "(", "'react", "'", ")", ";", "const", "app", "=", "react.createclass", "(", "{", "getinitialst", ":", "function", "(", ")", "{", "return", "{", "some", ":", "{", "rather", ":", "{", "deepli", ":", "{", "embed", ":", "{", "stuff", ":", "1", "}", "}", "}", "}", "}", ";", "}", ",", "updatecount", ":", "function", "(", ")", "{", "this.state.some.rather.deeply.embedded.stuff++", ";", "this.setst", "(", "{", "}", ")", ";", "//", "just", "to", "trigger", "the", "render", "...", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "div", ">", "counter", "valu", ":", "{", "this.state.some.rather.deeply.embedded.stuff", "}", "<", "br", ">", "<", "/br", ">", "<", "button", "onclick=", "{", "this.updatecount", "}", ">", "inc", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "export", "default", "app", ";", "i", "am", "all", "for", "follow", "convent", "but", "i", "would", "like", "to", "enhanc", "my", "further", "understand", "of", "how", "reactj", "actual", "work", "and", "what", "can", "go", "wrong", "or", "is", "it", "sub-optim", "with", "the", "abov", "code", ".", "the", "note", "under", "the", "this.setst", "document", "basic", "identifi", "two", "gotcha", ":", "that", "if", "you", "mutat", "state", "directli", "and", "then", "subsequ", "call", "this.setst", "thi", "may", "replac", "(", "overwrit", "?", ")", "the", "mutat", "you", "made", ".", "i", "do", "n't", "see", "how", "thi", "can", "happen", "in", "the", "abov", "code", ".", "that", "setstat", "may", "mutat", "this.stat", "effect", "in", "an", "asynchron", "/", "defer", "way", "and", "so", "when", "access", "this.stat", "right", "after", "call", "this.setst", "you", "are", "not", "guarante", "to", "access", "the", "final", "mutat", "state", ".", "i", "get", "that", ",", "by", "thi", "is", "not", "an", "issu", "if", "this.setst", "is", "the", "last", "call", "of", "the", "updat", "function", ".", "the", "react", "doc", "for", "setstat", "have", "thi", "to", "say", ":", "never", "mutat", "this.stat", "directli", ",", "as", "call", "setstat", "(", ")", "afterward", "may", "replac", "the", "mutat", "you", "made", ".", "treat", "this.stat", "as", "if", "it", "were", "immut", ".", "setstat", "(", ")", "doe", "not", "immedi", "mutat", "this.stat", "but", "creat", "a", "pend", "state", "transit", ".", "access", "this.stat", "after", "call", "thi", "method", "can", "potenti", "return", "the", "exist", "valu", ".", "there", "is", "no", "guarante", "of", "synchron", "oper", "of", "call", "to", "setstat", "and", "call", "may", "be", "batch", "for", "perform", "gain", ".", "setstat", "(", ")", "will", "alway", "trigger", "a", "re-rend", "unless", "condit", "render", "logic", "is", "implement", "in", "shouldcomponentupd", "(", ")", ".", "if", "mutabl", "object", "are", "be", "use", "and", "the", "logic", "can", "not", "be", "implement", "in", "shouldcomponentupd", "(", ")", ",", "call", "setstat", "(", ")", "onli", "when", "the", "new", "state", "differ", "from", "the", "previou", "state", "will", "avoid", "unnecessari", "re-rend", ".", "basic", ",", "if", "you", "modifi", "this.stat", "directli", ",", "you", "creat", "a", "situat", "where", "those", "modif", "might", "get", "overwritten", ".", "relat", "to", "your", "extend", "question", "1", ")", "and", "2", ")", ",", "setstat", "(", ")", "is", "not", "immedi", ".", "it", "queue", "a", "state", "transit", "base", "on", "what", "it", "think", "is", "go", "on", "which", "may", "not", "includ", "the", "direct", "chang", "to", "this.stat", ".", "sinc", "it", "'s", "queu", "rather", "than", "appli", "immedi", ",", "it", "'s", "entir", "possibl", "that", "someth", "is", "modifi", "in", "between", "such", "that", "your", "direct", "chang", "get", "overwritten", ".", "if", "noth", "els", ",", "you", "might", "be", "better", "off", "just", "consid", "that", "not", "directli", "modifi", "this.stat", "can", "be", "seen", "as", "good", "practic", ".", "you", "may", "know", "person", "that", "your", "code", "interact", "with", "react", "in", "such", "a", "way", "that", "these", "over-writ", "or", "other", "issu", "ca", "n't", "happen", "but", "you", "'re", "creat", "a", "situat", "where", "other", "develop", "or", "futur", "updat", "can", "suddenli", "find", "themselv", "with", "weird", "or", "subtl", "issu", ".", "thi", "answer", "is", "to", "provid", "enough", "inform", "to", "not", "change/mut", "the", "state", "directli", "in", "react", ".", "react", "follow", "unidirect", "data", "flow", ".", "mean", ",", "the", "data", "flow", "insid", "react", "should", "and", "will", "be", "expect", "to", "be", "in", "a", "circular", "path", ".", "react", "'s", "data", "flow", "without", "flux", "to", "make", "react", "work", "like", "thi", ",", "develop", "made", "the", "react", "similar", "to", "function", "program", ".", "the", "thumb", "rule", "of", "function", "program", "is", "immut", ".", "let", "me", "explain", "it", "loud", "and", "clear", ".", "how", "doe", "the", "unidirect", "flow", "work", "?", "state", "are", "a", "data", "store", "which", "contain", "the", "data", "of", "a", "compon", ".", "the", "view", "of", "a", "compon", "render", "base", "on", "the", "state", ".", "when", "the", "view", "need", "to", "chang", "someth", "on", "the", "screen", ",", "that", "valu", "should", "be", "suppli", "from", "the", "store", ".", "to", "make", "thi", "happen", ",", "react", "provid", "setstat", "(", ")", "function", "which", "take", "in", "an", "object", "of", "new", "state", "and", "doe", "an", "compar", "and", "merg", "(", "similar", "to", "object.assign", "(", ")", ")", "over", "the", "previou", "state", "and", "add", "the", "new", "state", "to", "the", "state", "data", "store", ".", "whenev", "the", "data", "in", "the", "state", "store", "chang", ",", "react", "will", "trigger", "an", "re-rend", "with", "the", "new", "state", "which", "the", "view", "consum", "and", "show", "it", "on", "the", "screen", ".", "thi", "cycl", "will", "continu", "throughout", "the", "compon", "'s", "lifetim", ".", "if", "you", "see", "the", "abov", "step", ",", "it", "clearli", "show", "a", "lot", "of", "thing", "are", "happen", "behind", "when", "you", "chang", "the", "state", ".", "so", ",", "when", "you", "mutat", "the", "state", "directli", "and", "call", "setstat", "(", ")", "with", "an", "empti", "object", ".", "the", "previou", "state", "will", "be", "pollut", "with", "your", "mutat", ".", "due", "to", "which", ",", "the", "shallow", "compar", "and", "merg", "of", "two", "state", "will", "be", "disturb", "or", "wo", "n't", "happen", ",", "becaus", "you", "'ll", "have", "onli", "one", "state", "now", ".", "thi", "will", "disrupt", "all", "the", "react", "'s", "lifecycl", "method", ".", "as", "a", "result", ",", "your", "app", "will", "behav", "abnorm", "or", "even", "crash", ".", "most", "of", "the", "time", ",", "it", "wo", "n't", "affect", "your", "app", "becaus", "all", "the", "app", "which", "we", "use", "for", "test", "thi", "are", "pretti", "small", ".", "and", "anoth", "downsid", "of", "mutat", "of", "object", "and", "array", "in", "javascript", "is", ",", "when", "you", "assign", "an", "object", "or", "an", "array", ",", "you", "'re", "just", "make", "a", "refer", "of", "that", "object", "or", "that", "array", ".", "when", "you", "mutat", "them", ",", "all", "the", "refer", "to", "that", "object", "or", "that", "array", "will", "be", "affect", ".", "react", "handl", "thi", "in", "a", "intellig", "way", "in", "the", "background", "and", "simpli", "give", "us", "an", "api", "to", "make", "it", "work", ".", "most", "common", "error", "done", "when", "handl", "state", "in", "react", "//origin", "state", "this.stat", "=", "{", "a", ":", "[", "1,2,3,4,5", "]", "}", "//chang", "the", "state", "in", "react", "//need", "to", "add", "'", "6", "'", "in", "the", "array", "//bad", "approach", "const", "b", "=", "this.state.a.push", "(", "6", ")", "this.setst", "(", "{", "a", ":", "b", "}", ")", "in", "the", "abov", "exampl", ",", "this.state.a.push", "(", "6", ")", "will", "mutat", "the", "state", "directli", ".", "assign", "it", "to", "anoth", "variabl", "and", "call", "setstat", "is", "same", "as", "what", "'s", "shown", "below", ".", "as", "we", "mutat", "the", "state", "anyway", ",", "there", "'s", "no", "point", "assign", "it", "to", "anoth", "variabl", "and", "call", "setstat", "with", "that", "variabl", ".", "//same", "as", "this.state.a.push", "(", "6", ")", "this.setst", "(", "{", "}", ")", "most", "of", "the", "peopl", "doe", "thi", ".", "thi", "is", "so", "wrong", ".", "thi", "break", "the", "beauti", "of", "react", "and", "it", "'ll", "make", "you", "a", "bad", "programm", ".", "so", ",", "what", "'s", "the", "best", "way", "to", "handl", "state", "in", "react", "?", "let", "me", "explain", ".", "when", "you", "need", "to", "chang", "'someth", "'", "in", "the", "exist", "state", ",", "first", "get", "a", "copi", "of", "that", "'someth", "'", "from", "the", "current", "state", ".", "//origin", "state", "this.stat", "=", "{", "a", ":", "[", "1,2,3,4,5", "]", "}", "//chang", "the", "state", "in", "react", "//need", "to", "add", "'", "6", "'", "in", "the", "array", "//creat", "a", "copi", "of", "this.state.a", "//you", "can", "use", "es6", "'s", "destructur", "or", "loadash", "'s", "_.clone", "(", ")", "const", "currentstatecopi", "=", "[", "...", "this.state.a", "]", "now", ",", "mutat", "currentstatecopi", "wo", "n't", "mutat", "the", "origin", "state", ".", "do", "oper", "over", "currentstatecopi", "and", "set", "it", "as", "the", "new", "state", "use", "setstat", "(", ")", ".", "currentstatecopy.push", "(", "6", ")", "this.stat", "(", "{", "a", ":", "currentstatecopi", "}", ")", "thi", "is", "beautifi", ",", "right", "?", "by", "do", "thi", ",", "all", "the", "refer", "of", "this.state.a", "wo", "n't", "get", "affect", "until", "we", "use", "setstat", ".", "thi", "give", "you", "control", "over", "your", "code", "and", "thi", "'ll", "help", "you", "write", "eleg", "test", "and", "make", "you", "confid", "about", "the", "perform", "of", "the", "code", "in", "product", ".", "to", "answer", "your", "question", ",", "whi", "ca", "n't", "i", "directli", "modifi", "a", "compon", "'s", "state", "?", "ye", ",", "you", "can", ".", "but", ",", "you", "need", "to", "face", "the", "follow", "consequ", ".", "when", "you", "scale", ",", "you", "'ll", "be", "write", "unmanag", "code", ".", "you", "'ll", "lose", "control", "of", "state", "across", "compon", ".", "instead", "of", "use", "react", ",", "you", "'ll", "be", "write", "custom", "code", "over", "react", ".", "immut", "is", "not", "necessari", "thing", "becaus", "javascript", "is", "singl", "thread", ".", "but", ",", "it", "'s", "a", "good", "to", "follow", "practic", "which", "will", "help", "you", "in", "the", "long", "run", ".", "ps", ".", "i", "'ve", "written", "about", "10000", "line", "of", "mutabl", "react", "js", "code", ".", "if", "it", "break", "now", ",", "i", "do", "n't", "know", "where", "to", "look", "into", "becaus", "all", "the", "valu", "are", "mutat", "somewher", ".", "when", "i", "realiz", "thi", ",", "i", "start", "write", "immut", "code", ".", "trust", "me", "!", "that", "'s", "the", "best", "thing", "you", "can", "do", "it", "to", "a", "product", "or", "an", "app", ".", "hope", "thi", "help", "!", "the", "simplest", "answer", "to", "``", "whi", "ca", "n't", "i", "directli", "modifi", "a", "compon", "'s", "state", ":", "is", "all", "about", "updat", "phase", ".", "when", "we", "updat", "the", "state", "of", "a", "compon", "all", "it", "'s", "children", "are", "go", "to", "be", "render", "as", "well", ".", "or", "our", "entir", "compon", "tree", "render", ".", "but", "when", "i", "say", "our", "entir", "compon", "tree", "is", "render", "that", "doesn", "\u2019", "t", "mean", "that", "the", "entir", "dom", "is", "updat", ".", "when", "a", "compon", "is", "render", "we", "basic", "get", "a", "react", "element", ",", "so", "that", "is", "updat", "our", "virtual", "dom", ".", "react", "will", "then", "look", "at", "the", "virtual", "dom", ",", "it", "also", "ha", "a", "copi", "of", "the", "old", "virtual", "dom", ",", "that", "is", "whi", "we", "shouldn", "\u2019", "t", "updat", "the", "state", "directli", ",", "so", "we", "can", "have", "two", "differ", "object", "refer", "in", "memori", ",", "we", "have", "the", "old", "virtual", "dom", "as", "well", "as", "the", "new", "virtual", "dom", ".", "then", "react", "will", "figur", "out", "what", "is", "chang", "and", "base", "on", "that", "it", "will", "updat", "the", "real", "dom", "accordingli", ".", "hope", "it", "help", ".", "to", "avoid", "everi", "time", "to", "creat", "a", "copi", "of", "this.state.el", "you", "can", "use", "updat", "with", "$", "set", "or", "$", "push", "or", "mani", "other", "from", "immutability-help", "e.g", ".", ":", "import", "updat", "from", "'immutability-help", "'", ";", "const", "newdata", "=", "updat", "(", "mydata", ",", "{", "x", ":", "{", "y", ":", "{", "z", ":", "{", "$", "set", ":", "7", "}", "}", "}", ",", "a", ":", "{", "b", ":", "{", "$", "push", ":", "[", "9", "]", "}", "}", "}", ")", ";", "setstat", "trigger", "re", "render", "of", "the", "components.when", "we", "want", "to", "updat", "state", "again", "and", "again", "we", "must", "need", "to", "setstat", "otherwis", "it", "doe", "n't", "work", "correctli", ".", "my", "current", "understand", "is", "base", "on", "thi", "and", "thi", "answer", ":", "if", "you", "do", "n't", "use", "shouldcomponentupd", "or", "ani", "other", "lifecycl", "method", "(", "like", "componentwillreceiveprop", ",", "componentwillupd", ",", "and", "componentdidupd", ")", "where", "you", "compar", "the", "old", "and", "new", "props/stat", "then", "it", "fine", "to", "mutat", "state", "and", "then", "call", "setstat", "(", ")", ",", "otherwis", "it", "is", "not", "fine", ".", "i", "am", "develop", "an", "applic", "in", "which", "i", "check", "if", "the", "user", "is", "not", "loggedin", ".", "i", "have", "to", "display", "the", "login", "form", ",", "els", "dispatch", "an", "action", "that", "would", "chang", "the", "rout", "and", "load", "other", "compon", ".", "here", "is", "my", "code", ":", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "//", "dispatch", "an", "action", "to", "chang", "the", "rout", "}", "//", "return", "login", "compon", "<", "login", "/", ">", "}", "how", "can", "i", "achiev", "thi", "as", "i", "can", "not", "chang", "state", "insid", "the", "render", "function", ".", "consid", "you", "are", "use", "react-rout", "v4", "use", "your", "compon", "with", "withrout", "and", "use", "history.push", "from", "prop", "to", "chang", "the", "rout", ".", "you", "need", "to", "make", "use", "of", "withrout", "onli", "when", "your", "compon", "is", "not", "receiv", "the", "router", "prop", ",", "thi", "may", "happen", "in", "case", "when", "your", "compon", "is", "a", "nest", "child", "of", "a", "compon", "render", "by", "the", "router", "and", "you", "have", "n't", "pass", "the", "router", "prop", "to", "it", "or", "when", "the", "compon", "is", "not", "link", "to", "the", "router", "at", "all", "and", "is", "render", "as", "a", "separ", "compon", "from", "the", "rout", ".", "import", "{", "withrout", "}", "from", "'react-rout", "'", ";", "class", "app", "extend", "react.compon", "{", "...", "componendidmount", "(", ")", "{", "//", "get", "isloggedin", "from", "localstorag", "or", "api", "call", "if", "(", "isloggedin", ")", "{", "//", "dispatch", "an", "action", "to", "chang", "the", "rout", "this.props.history.push", "(", "'/home", "'", ")", ";", "}", "}", "render", "(", ")", "{", "//", "return", "login", "compon", "return", "<", "login", "/", ">", "}", "}", "export", "default", "withrout", "(", "app", ")", ";", "import", "note", "if", "you", "are", "use", "withrout", "to", "prevent", "updat", "from", "be", "block", "by", "shouldcomponentupd", ",", "it", "is", "import", "that", "withrout", "wrap", "the", "compon", "that", "implement", "shouldcomponentupd", ".", "for", "exampl", ",", "when", "use", "redux", ":", "//", "thi", "get", "around", "shouldcomponentupd", "withrout", "(", "connect", "(", "...", ")", "(", "mycompon", ")", ")", "//", "thi", "doe", "not", "connect", "(", "...", ")", "(", "withrout", "(", "mycompon", ")", ")", "or", "you", "could", "use", "redirect", "import", "{", "withrout", "}", "from", "'react-rout", "'", ";", "class", "app", "extend", "react.compon", "{", "...", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "return", "<", "redirect", "to=", "''", "/home", "''", "/", ">", "}", "//", "return", "login", "compon", "return", "<", "login", "/", ">", "}", "}", "with", "react-rout", "v2", "or", "react-rout", "v3", ",", "you", "can", "make", "use", "of", "context", "to", "dynam", "chang", "the", "rout", "like", "class", "app", "extend", "react.compon", "{", "...", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "//", "dispatch", "an", "action", "to", "chang", "the", "rout", "this.context.router.push", "(", "'/home", "'", ")", ";", "}", "//", "return", "login", "compon", "return", "<", "login", "/", ">", "}", "}", "app.contexttyp", "=", "{", "router", ":", "react.proptypes.object.isrequir", "}", "export", "default", "app", ";", "or", "use", "import", "{", "browserhistori", "}", "from", "'react-rout", "'", ";", "browserhistory.push", "(", "'/some/path", "'", ")", ";", "in", "react-rout", "version", "4", ":", "import", "react", "from", "'react", "'", "import", "{", "browserrout", "as", "router", ",", "rout", ",", "redirect", "}", "from", "'react-router-dom", "'", "const", "exampl", "=", "(", ")", "=", ">", "(", "if", "(", "isloggedin", ")", "{", "<", "othercompon", "/", ">", "}", "els", "{", "<", "router", ">", "<", "redirect", "push", "to=", "''", "/login", "''", "/", ">", "<", "rout", "path=", "''", "/login", "''", "component=", "{", "login", "}", "/", ">", "<", "/router", ">", "}", ")", "const", "login", "=", "(", ")", "=", ">", "(", "<", "h1", ">", "form", "compon", "<", "/h1", ">", "...", ")", "export", "default", "exampl", ";", "anoth", "altern", "is", "to", "handl", "thi", "use", "thunk-styl", "asynchron", "action", "(", "which", "are", "safe/allow", "to", "have", "side-effect", ")", ".", "if", "you", "use", "thunk", ",", "you", "can", "inject", "the", "same", "histori", "object", "into", "both", "your", "<", "router", ">", "compon", "and", "thunk", "action", "use", "thunk.withextraargu", ",", "like", "thi", ":", "import", "react", "from", "'react", "'", "import", "{", "browserrout", "as", "router", ",", "rout", ",", "redirect", "}", "from", "'react-router-dom", "'", "import", "{", "createbrowserhistori", "}", "from", "``", "histori", "''", "import", "{", "applymiddlewar", ",", "createstor", "}", "from", "``", "redux", "''", "import", "thunk", "from", "``", "redux-thunk", "''", "const", "histori", "=", "createbrowserhistori", "(", ")", "const", "middlewar", "=", "applymiddlewar", "(", "thunk.withextraargu", "(", "{", "histori", "}", ")", ")", "const", "store", "=", "createstor", "(", "appreduc", ",", "middlewar", ")", "render", "(", "<", "provid", "store=", "{", "store", "}", "<", "router", "history=", "{", "histori", "}", ">", "<", "rout", "path=", "''", "*", "''", "component=", "{", "catchal", "}", "/", ">", "<", "/router", "<", "/provid", ">", ",", "appdiv", ")", "then", "in", "your", "action-cr", ",", "you", "will", "have", "a", "histori", "instanc", "that", "is", "safe", "to", "use", "with", "reactrout", ",", "so", "you", "can", "just", "trigger", "a", "regular", "redux", "event", "if", "you", "'re", "not", "log", "in", ":", "//", "meanwhil", "...", "in", "action-creators.j", "export", "const", "notloggedin", "=", "(", ")", "=", ">", "{", "return", "(", "dispatch", ",", "getstat", ",", "{", "histori", "}", ")", "=", ">", "{", "history.push", "(", "`", "/login", "`", ")", "}", "}", "anoth", "advantag", "of", "thi", "is", "that", "the", "url", "is", "easier", "to", "handl", ",", "now", ",", "so", "we", "can", "put", "redirect", "info", "on", "the", "queri", "string", ",", "etc", ".", "you", "can", "tri", "still", "do", "thi", "check", "in", "your", "render", "method", ",", "but", "if", "it", "caus", "problem", ",", "you", "might", "consid", "do", "it", "in", "componentdidmount", ",", "or", "elsewher", "in", "the", "lifecycl", "(", "although", "also", "i", "understand", "the", "desir", "to", "stick", "with", "stateless", "function", "compeon", "!", ")", "you", "can", "still", "use", "redux", "and", "mapdispatchtoprop", "to", "inject", "the", "action", "creator", "into", "your", "compton", ",", "so", "your", "compon", "is", "still", "onli", "loos", "connect", "to", "redux", ".", "those", "who", "are", "face", "issu", "in", "implement", "thi", "on", "react-rout", "v4", ".", "here", "is", "a", "work", "solut", "for", "navig", "through", "the", "react", "app", "programmat", ".", "history.j", "import", "createhistori", "from", "'history/createbrowserhistori", "'", "export", "default", "createhistori", "(", ")", "app.j", "or", "route.jsx", ".", "pass", "histori", "as", "a", "prop", "to", "your", "router", ".", "import", "{", "router", ",", "rout", "}", "from", "'react-router-dom", "'", "import", "histori", "from", "'./histori", "'", "...", "<", "router", "history=", "{", "histori", "}", ">", "<", "rout", "path=", "''", "/test", "''", "component=", "{", "test", "}", "/", ">", "<", "/router", ">", "you", "can", "use", "push", "(", ")", "to", "navig", ".", "import", "histori", "from", "'./histori", "'", "...", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "history.push", "(", "'/test", "'", ")", "//", "thi", "should", "chang", "the", "url", "and", "re-rend", "test", "compon", "}", "//", "return", "login", "compon", "<", "login", "/", ">", "}", "all", "thank", "to", "thi", "comment", ":", "http", ":", "//github.com/reacttraining/react-router/issues/3498", "#", "issuecomment-301057248", "thi", "is", "my", "handl", "loggedin", ".", "react-rout", "v4", "privaterout", "is", "allow", "enter", "path", "if", "user", "is", "loggedin", "and", "save", "the", "token", "to", "localstorg", "function", "privaterout", "(", "{", "compon", ":", "compon", ",", "...", "rest", "}", ")", "{", "return", "(", "<", "rout", "{", "...", "rest", "}", "render=", "{", "prop", "=", ">", "(", "localstorage.token", ")", "?", "<", "compon", "{", "...", "prop", "}", "/", ">", ":", "(", "<", "redirect", "to=", "{", "{", "pathnam", ":", "'/signin", "'", ",", "state", ":", "{", "from", ":", "props.loc", "}", ",", "}", "}", "/", ">", ")", "}", "/", ">", ")", ";", "}", "defin", "all", "path", "in", "your", "app", "in", "here", "export", "default", "(", "<", "main", ">", "<", "switch", ">", "<", "rout", "exact", "path=", "''", "/signin", "''", "component=", "{", "signin", "}", "/", ">", "<", "rout", "exact", "path=", "''", "/signup", "''", "component=", "{", "signup", "}", "/", ">", "<", "privaterout", "path=", "''", "/", "''", "component=", "{", "home", "}", "/", ">", "<", "/switch", ">", "<", "/main", ">", ")", ";", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "this.props.redirect", "?", "<", "redirect", "to=", "''", "/", "''", "/", ">", ":", "''", "}", "<", "div", ">", "add", "here", "compon", "code", "<", "/div", ">", "<", "/div", ">", ")", ";", "}", "i", "would", "suggest", "you", "to", "use", "connected-react-rout", "http", ":", "//github.com/supasate/connected-react-rout", "which", "help", "to", "perform", "navig", "even", "from", "reducers/act", "if", "you", "want", ".", "it", "is", "well", "document", "and", "easi", "to", "configur", "i", "wa", "abl", "to", "use", "histori", "within", "stateless", "function", "compon", ",", "use", "withrout", "follow", "way", "(", "need", "to", "ignor", "typescript", "warn", ")", ":", "import", "{", "withrout", "}", "from", "'react-router-dom", "'", ";", "...", "type", "prop", "=", "{", "myprop", ":", "boolean", "}", ";", "//", "@", "ts-ignor", "export", "const", "mycompon", ":", "fc", "<", "prop", ">", "=", "withrout", "(", "(", "{", "myprop", ",", "histori", "}", ")", "=", ">", "{", "...", "}", ")", "i", "have", "just", "found", "that", "in", "react", "this.setst", "(", ")", "function", "in", "ani", "compon", "is", "asynchron", "or", "is", "call", "after", "the", "complet", "of", "the", "function", "that", "it", "wa", "call", "in", ".", "now", "i", "search", "and", "found", "thi", "blog", "(", "setstat", "(", ")", "state", "mutat", "oper", "may", "be", "synchron", "in", "reactj", ")", "here", "he", "found", "that", "setstat", "is", "async", "(", "call", "when", "stack", "is", "empti", ")", "or", "sync", "(", "call", "as", "soon", "as", "call", ")", "depend", "on", "how", "the", "chang", "of", "state", "wa", "trigger", ".", "now", "these", "two", "thing", "are", "hard", "to", "digest", "in", "the", "blog", "the", "setstat", "function", "is", "call", "insid", "a", "function", "updatest", ",", "but", "what", "trigger", "the", "updatest", "function", "is", "not", "someth", "that", "a", "call", "function", "would", "know", "about", ".", "whi", "would", "they", "make", "setstat", "async", "as", "js", "is", "singl", "thread", "languag", "and", "thi", "setstat", "is", "not", "a", "webapi", "or", "server", "call", "so", "ha", "to", "be", "done", "on", "js", "'s", "thread", "onli", ".", "are", "they", "do", "thi", "so", "that", "re-rend", "doe", "not", "stop", "all", "the", "event", "listen", "and", "stuff", ",", "or", "there", "is", "some", "other", "design", "issu", ".", "you", "can", "call", "a", "function", "after", "the", "state", "valu", "ha", "updat", ":", "this.setst", "(", "{", "foo", ":", "'bar", "'", "}", ",", "(", ")", "=", ">", "{", "//", "do", "someth", "here", ".", "}", ")", ";", "also", ",", "if", "you", "have", "lot", "of", "state", "to", "updat", "at", "onc", ",", "group", "them", "all", "within", "the", "same", "setstat", ":", "instead", "of", ":", "this.setst", "(", "{", "foo", ":", "``", "one", "''", "}", ",", "(", ")", "=", ">", "{", "this.setst", "(", "{", "bar", ":", "``", "two", "''", "}", ")", ";", "}", ")", ";", "just", "do", "thi", ":", "this.setst", "(", "{", "foo", ":", "``", "one", "''", ",", "bar", ":", "``", "two", "''", "}", ")", ";", "1", ")", "setstat", "action", "are", "asynchron", "and", "are", "batch", "for", "perform", "gain", ".", "thi", "is", "explain", "in", "the", "document", "of", "setstat", ".", "setstat", "(", ")", "doe", "not", "immedi", "mutat", "this.stat", "but", "creat", "a", "pend", "state", "transit", ".", "access", "this.stat", "after", "call", "thi", "method", "can", "potenti", "return", "the", "exist", "valu", ".", "there", "is", "no", "guarante", "of", "synchron", "oper", "of", "call", "to", "setstat", "and", "call", "may", "be", "batch", "for", "perform", "gain", ".", "2", ")", "whi", "would", "they", "make", "setstat", "async", "as", "js", "is", "a", "singl", "thread", "languag", "and", "thi", "setstat", "is", "not", "a", "webapi", "or", "server", "call", "?", "thi", "is", "becaus", "setstat", "alter", "the", "state", "and", "caus", "rerend", ".", "thi", "can", "be", "an", "expens", "oper", "and", "make", "it", "synchron", "might", "leav", "the", "browser", "unrespons", ".", "thu", "the", "setstat", "call", "are", "asynchron", "as", "well", "as", "batch", "for", "better", "ui", "experi", "and", "perform", ".", "i", "know", "thi", "question", "is", "old", ",", "but", "it", "ha", "been", "caus", "a", "lot", "of", "confus", "for", "mani", "reactj", "user", "for", "a", "long", "time", ",", "includ", "me", ".", "recent", "dan", "abramov", "(", "from", "the", "react", "team", ")", "just", "wrote", "up", "a", "great", "explan", "as", "to", "whi", "the", "natur", "of", "setstat", "is", "async", ":", "http", ":", "//github.com/facebook/react/issues/11527", "#", "issuecomment-360199710", "setstat", "is", "meant", "to", "be", "asynchron", ",", "and", "there", "are", "a", "few", "realli", "good", "reason", "for", "that", "in", "the", "link", "explan", "by", "dan", "abramov", ".", "thi", "doe", "n't", "mean", "it", "will", "alway", "be", "asynchron", "-", "it", "mainli", "mean", "that", "you", "just", "ca", "n't", "depend", "on", "it", "be", "synchron", ".", "reactj", "take", "into", "consider", "mani", "variabl", "in", "the", "scenario", "that", "you", "'re", "chang", "the", "state", "in", ",", "to", "decid", "when", "the", "state", "should", "actual", "be", "updat", "and", "your", "compon", "rerend", ".", "a", "simpl", "exampl", "to", "demonstr", "thi", ",", "is", "that", "if", "you", "call", "setstat", "as", "a", "reaction", "to", "a", "user", "action", ",", "then", "the", "state", "will", "probabl", "be", "updat", "immedi", "(", "although", ",", "again", ",", "you", "ca", "n't", "count", "on", "it", ")", ",", "so", "the", "user", "wo", "n't", "feel", "ani", "delay", ",", "but", "if", "you", "call", "setstat", "in", "reaction", "to", "an", "ajax", "call", "respons", "or", "some", "other", "event", "that", "is", "n't", "trigger", "by", "the", "user", ",", "then", "the", "state", "might", "be", "updat", "with", "a", "slight", "delay", ",", "sinc", "the", "user", "wo", "n't", "realli", "feel", "thi", "delay", ",", "and", "it", "will", "improv", "perform", "by", "wait", "to", "batch", "multipl", "state", "updat", "togeth", "and", "rerend", "the", "dom", "fewer", "time", ".", "good", "articl", "here", "http", ":", "//github.com/vasanthk/react-bits/blob/master/patterns/27.passing-function-to-setstate.md", "//", "assum", "this.state.count", "===", "0", "this.setst", "(", "{", "count", ":", "this.state.count", "+", "1", "}", ")", ";", "this.setst", "(", "{", "count", ":", "this.state.count", "+", "1", "}", ")", ";", "this.setst", "(", "{", "count", ":", "this.state.count", "+", "1", "}", ")", ";", "//", "this.state.count", "===", "1", ",", "not", "3", "solut", "this.setst", "(", "(", "prevstat", ",", "prop", ")", "=", ">", "(", "{", "count", ":", "prevstate.count", "+", "props.incr", "}", ")", ")", ";", "or", "pass", "callback", "this.setst", "(", "{", ".....", "}", ",", "callback", ")", "http", ":", "//medium.com/javascript-scene/setstate-gate-abc10a9b2d82", "http", ":", "//medium.freecodecamp.org/functional-setstate-is-the-future-of-react-374f30401b6b", "you", "can", "use", "the", "follow", "wrap", "to", "make", "sync", "call", "this.setst", "(", "(", "state", "=", ">", "{", "return", "{", "someth", "}", "}", ")", "imagin", "increment", "a", "counter", "in", "some", "compon", ":", "class", "somecompon", "extend", "compon", "{", "state", "=", "{", "updatedbydiv", ":", "``", ",", "updatedbybtn", ":", "``", ",", "counter", ":", "0", "}", "divcounthandl", "=", "(", ")", "=", ">", "{", "this.setst", "(", "{", "updatedbydiv", ":", "'div", "'", ",", "counter", ":", "this.state.count", "+", "1", "}", ")", ";", "console.log", "(", "'divcounthandl", "execut", "'", ")", ";", "}", "btncounthandl", "=", "(", ")", "=", ">", "{", "this.setst", "(", "{", "updatedbybtn", ":", "'button", "'", ",", "counter", ":", "this.state.count", "+", "1", "}", ")", ";", "console.log", "(", "'btncounthandl", "execut", "'", ")", ";", "}", "...", "...", "render", "(", ")", "{", "return", "(", "...", "//", "a", "parent", "div", "<", "div", "onclick=", "{", "this.divcounthandl", "}", ">", "//", "a", "child", "button", "<", "button", "onclick=", "{", "this.btncounthandl", "}", ">", "increment", "count", "<", "/button", ">", "<", "/div", ">", "...", ")", "}", "}", "there", "is", "a", "count", "handler", "attach", "to", "both", "the", "parent", "and", "the", "child", "compon", ".", "thi", "is", "done", "purpos", "so", "we", "can", "execut", "the", "setstat", "(", ")", "twice", "within", "the", "same", "click", "event", "bubbl", "context", ",", "but", "from", "within", "2", "differ", "handler", ".", "as", "we", "would", "imagin", ",", "a", "singl", "click", "event", "on", "the", "button", "would", "now", "trigger", "both", "these", "handler", "sinc", "the", "event", "bubbl", "from", "target", "to", "the", "outermost", "contain", "dure", "the", "bubbl", "phase", ".", "therefor", "the", "btncounthandl", "(", ")", "execut", "first", ",", "expect", "to", "increment", "the", "count", "to", "1", "and", "then", "the", "divcounthandl", "(", ")", "execut", ",", "expect", "to", "increment", "the", "count", "to", "2.", "howev", "the", "count", "onli", "increment", "to", "1", "as", "you", "can", "inspect", "in", "react", "develop", "tool", ".", "thi", "prove", "that", "react", "queue", "all", "the", "setstat", "call", "come", "back", "to", "thi", "queue", "after", "execut", "the", "last", "method", "in", "the", "context", "(", "the", "divcounthandl", "in", "thi", "case", ")", "merg", "all", "the", "object", "mutat", "happen", "within", "multipl", "setstat", "call", "in", "the", "same", "context", "(", "all", "method", "call", "within", "a", "singl", "event", "phase", "is", "same", "context", "for", "e.g", ".", ")", "into", "one", "singl", "object", "mutat", "syntax", "(", "merg", "make", "sens", "becaus", "thi", "is", "whi", "we", "can", "updat", "the", "state", "properti", "independ", "in", "setstat", "(", ")", "in", "the", "first", "place", ")", "and", "pass", "it", "into", "one", "singl", "setstat", "(", ")", "to", "prevent", "re-rend", "due", "to", "multipl", "setstat", "(", ")", "call", "(", "thi", "is", "a", "veri", "primit", "descript", "of", "batch", ")", ".", "result", "code", "run", "by", "react", ":", "this.setst", "(", "{", "updatedbydiv", ":", "'div", "'", ",", "updatedbybtn", ":", "'button", "'", ",", "counter", ":", "this.state.count", "+", "1", "}", ")", "to", "stop", "thi", "behaviour", ",", "instead", "of", "pass", "object", "as", "argument", "to", "the", "setstat", "method", ",", "callback", "are", "pass", ".", "divcounthandl", "=", "(", ")", "=", ">", "{", "this.setst", "(", "(", "prevstat", ",", "prop", ")", "=", ">", "{", "return", "{", "updatedbydiv", ":", "'div", "'", ",", "counter", ":", "prevstate.count", "+", "1", "}", ";", "}", ")", ";", "console.log", "(", "'divcounthandl", "execut", "'", ")", ";", "}", "btncounthandl", "=", "(", ")", "=", ">", "{", "this.setst", "(", "(", "prevstat", ",", "prop", ")", "=", ">", "{", "return", "{", "updatedbybtn", ":", "'button", "'", ",", "counter", ":", "prevstate.count", "+", "1", "}", ";", "}", ")", ";", "console.log", "(", "'btncounthandl", "execut", "'", ")", ";", "}", "after", "the", "last", "method", "finish", "execut", "and", "when", "react", "return", "to", "process", "the", "setstat", "queue", ",", "it", "simpli", "call", "the", "callback", "for", "each", "setstat", "queu", ",", "pass", "in", "the", "previou", "compon", "state", ".", "thi", "way", "react", "ensur", "that", "the", "last", "callback", "in", "the", "queue", "get", "to", "updat", "the", "state", "that", "all", "of", "it", "previou", "counterpart", "have", "laid", "hand", "on", ".", "ye", ",", "setstat", "(", ")", "is", "asynchron", ".", "from", "the", "link", ":", "http", ":", "//reactjs.org/docs/react-component.html", "#", "setstat", "react", "doe", "not", "guarante", "that", "the", "state", "chang", "are", "appli", "immedi", ".", "setstat", "(", ")", "doe", "not", "alway", "immedi", "updat", "the", "compon", ".", "think", "of", "setstat", "(", ")", "as", "a", "request", "rather", "than", "an", "immedi", "command", "to", "updat", "the", "compon", ".", "becaus", "they", "think", "from", "the", "link", ":", "http", ":", "//github.com/facebook/react/issues/11527", "#", "issuecomment-360199710", "...", "we", "agre", "that", "setstat", "(", ")", "re-rend", "synchron", "would", "be", "ineffici", "in", "mani", "case", "asynchron", "setstat", "(", ")", "make", "life", "veri", "difficult", "for", "those", "get", "start", "and", "even", "experienc", "unfortun", ":", "-", "unexpect", "render", "issu", ":", "delay", "render", "or", "no", "render", "(", "base", "on", "program", "logic", ")", "-", "pass", "paramet", "is", "a", "big", "deal", "among", "other", "issu", ".", "below", "exampl", "help", ":", "//", "call", "domytask1", "-", "here", "we", "set", "state", "//", "then", "after", "state", "is", "updat", "...", "//", "call", "to", "domytask2", "to", "proceed", "further", "in", "program", "constructor", "(", "prop", ")", "{", "//", "..", "//", "thi", "bind", "is", "necessari", "to", "make", "`", "thi", "`", "work", "in", "the", "callback", "this.domytask1", "=", "this.domytask1.bind", "(", "thi", ")", ";", "this.domytask2", "=", "this.domytask2.bind", "(", "thi", ")", ";", "}", "function", "domytask1", "(", "myparam1", ")", "{", "//", "..", "this.setst", "(", "{", "mystate1", ":", "'myvalue1", "'", ",", "mystate2", ":", "'myvalue2", "'", "//", "...", "}", ",", "(", ")", "=", ">", "{", "this.domytask2", "(", "myparam1", ")", ";", "}", ")", ";", "}", "function", "domytask2", "(", "myparam2", ")", "{", "//", "..", "}", "hope", "that", "help", ".", "i", "'m", "new", "to", "use", "es6", "class", "with", "react", ",", "previous", "i", "'ve", "been", "bind", "my", "method", "to", "the", "current", "object", "(", "show", "in", "first", "exampl", ")", ",", "but", "doe", "es6", "allow", "me", "to", "perman", "bind", "a", "class", "function", "to", "a", "class", "instanc", "with", "arrow", "?", "(", "use", "when", "pass", "as", "a", "callback", "function", ".", ")", "i", "get", "error", "when", "i", "tri", "to", "use", "them", "as", "you", "can", "with", "coffeescript", ":", "class", "someclass", "extend", "react.compon", "{", "//", "instead", "of", "thi", "constructor", "(", ")", "{", "this.handleinputchang", "=", "this.handleinputchange.bind", "(", "thi", ")", "}", "//", "can", "i", "somehow", "do", "thi", "?", "am", "i", "just", "get", "the", "syntax", "wrong", "?", "handleinputchang", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmad", ":", "'", ",", "val", ")", ";", "}", "so", "that", "if", "i", "were", "to", "pass", "someclass.handleinputchang", "to", ",", "for", "instanc", "settimeout", ",", "it", "would", "be", "scope", "to", "the", "class", "instanc", ",", "and", "not", "the", "window", "object", ".", "your", "syntax", "is", "slightli", "off", ",", "just", "miss", "an", "equal", "sign", "after", "the", "properti", "name", ".", "class", "someclass", "extend", "react.compon", "{", "handleinputchang", "=", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmad", ":", "'", ",", "val", ")", ";", "}", "}", "thi", "is", "an", "experiment", "featur", ".", "you", "will", "need", "to", "enabl", "experiment", "featur", "in", "babel", "to", "get", "thi", "to", "compil", ".", "here", "is", "a", "demo", "with", "experiment", "enabl", ".", "to", "use", "experiment", "featur", "in", "babel", "you", "can", "instal", "the", "relev", "plugin", "from", "here", ".", "for", "thi", "specif", "featur", ",", "you", "need", "the", "transform-class-properti", "plugin", ":", "{", "``", "plugin", "''", ":", "[", "``", "transform-class-properti", "''", "]", "}", "you", "can", "read", "more", "about", "the", "propos", "for", "class", "field", "and", "static", "properti", "here", "no", ",", "if", "you", "want", "to", "creat", "bound", ",", "instance-specif", "method", "you", "will", "have", "to", "do", "that", "in", "the", "constructor", ".", "howev", ",", "you", "can", "use", "arrow", "function", "for", "that", ",", "instead", "of", "use", ".bind", "on", "a", "prototyp", "method", ":", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.handleinputchang", "=", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmad", ":", "'", ",", "val", ",", "thi", ")", ";", "}", ";", "\u2026", "}", "}", "there", "is", "an", "propos", "which", "might", "allow", "you", "to", "omit", "the", "constructor", "(", ")", "and", "directli", "put", "the", "assign", "in", "the", "class", "scope", "with", "the", "same", "function", ",", "but", "i", "would", "n't", "recommend", "to", "use", "that", "as", "it", "'s", "highli", "experiment", ".", "altern", ",", "you", "can", "alway", "use", ".bind", ",", "which", "allow", "you", "to", "declar", "the", "method", "on", "the", "prototyp", "and", "then", "bind", "it", "to", "the", "instanc", "in", "the", "constructor", ".", "thi", "approach", "ha", "greater", "flexibl", "as", "it", "allow", "modifi", "the", "method", "from", "the", "outsid", "of", "your", "class", ".", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.handleinputchang", "=", "this.handleinputchange.bind", "(", "thi", ")", ";", "\u2026", "}", "handleinputchang", "(", "val", ")", "{", "console.log", "(", "'selectionmad", ":", "'", ",", "val", ",", "thi", ")", ";", "}", "}", "i", "know", "thi", "question", "ha", "been", "suffici", "answer", ",", "but", "i", "just", "have", "a", "small", "contribut", "to", "make", "(", "for", "those", "who", "do", "n't", "want", "to", "use", "the", "experiment", "featur", ")", ".", "becaus", "of", "the", "problem", "of", "have", "to", "bind", "multipl", "function", "bind", "in", "the", "constructor", "and", "make", "it", "look", "messi", ",", "i", "came", "up", "with", "a", "util", "method", "that", "onc", "bound", "and", "call", "in", "the", "constructor", ",", "doe", "all", "the", "necessari", "method", "bind", "for", "you", "automat", ".", "assum", "i", "have", "thi", "class", "with", "the", "constructor", ":", "//src/components/peteditor.jsx", "import", "react", "from", "'react", "'", ";", "class", "peteditor", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "props.currentpet", "||", "{", "tag", ":", "[", "]", ",", "photourl", ":", "[", "]", "}", ";", "this.taginput", "=", "null", ";", "this.htmlnod", "=", "null", ";", "this.removetag", "=", "this.removetag.bind", "(", "thi", ")", ";", "this.handlechang", "=", "this.handlechange.bind", "(", "thi", ")", ";", "this.modifyst", "=", "this.modifystate.bind", "(", "thi", ")", ";", "this.handlekeyup", "=", "this.handlekeyup.bind", "(", "thi", ")", ";", "this.addtag", "=", "this.addtag.bind", "(", "thi", ")", ";", "this.removetag", "=", "this.removetag.bind", "(", "thi", ")", ";", "this.savepet", "=", "this.savepet.bind", "(", "thi", ")", ";", "this.addphotoinput", "=", "this.addphotoinput.bind", "(", "thi", ")", ";", "this.handleselect", "=", "this.handleselect.bind", "(", "thi", ")", ";", "}", "//", "...", "actual", "method", "declar", "omit", "}", "it", "look", "messi", ",", "doe", "n't", "it", "?", "now", "i", "creat", "thi", "util", "method", "//src/utils/index.j", "/", "*", "*", "*", "nb", ":", "to", "use", "thi", "method", ",", "you", "need", "to", "bind", "it", "to", "the", "object", "instanc", "call", "it", "*", "/", "export", "function", "bindmethodstoself", "(", "objclass", ",", "othermethodstoignore=", "[", "]", ")", "{", "const", "self", "=", "thi", ";", "object.getownpropertynam", "(", "objclass.prototyp", ")", ".foreach", "(", "method", "=", ">", "{", "//skip", "constructor", ",", "render", "and", "ani", "overrid", "of", "lifecycl", "method", "if", "(", "method.startswith", "(", "'compon", "'", ")", "||", "method==='constructor", "'", "||", "method==='rend", "'", ")", "return", ";", "//ani", "other", "method", "you", "do", "n't", "want", "bound", "to", "self", "if", "(", "othermethodstoignore.indexof", "(", "method", ")", ">", "-1", ")", "return", ";", "//bind", "all", "other", "method", "to", "class", "instanc", "self", "[", "method", "]", "=", "self", "[", "method", "]", ".bind", "(", "self", ")", ";", "}", ")", ";", "}", "all", "i", "now", "need", "to", "do", "is", "import", "that", "util", ",", "and", "add", "a", "call", "to", "my", "constructor", ",", "and", "i", "do", "n't", "need", "to", "bind", "each", "new", "method", "in", "the", "constructor", "anymor", ".", "new", "constructor", "now", "look", "clean", ",", "like", "thi", ":", "//src/components/peteditor.jsx", "import", "react", "from", "'react", "'", ";", "import", "{", "bindmethodstoself", "}", "from", "'", "..", "/util", "'", ";", "class", "peteditor", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "props.currentpet", "||", "{", "tag", ":", "[", "]", ",", "photourl", ":", "[", "]", "}", ";", "this.taginput", "=", "null", ";", "this.htmlnod", "=", "null", ";", "bindmethodstoself.bind", "(", "thi", ")", "(", "peteditor", ")", ";", "}", "//", "...", "}", "you", "are", "use", "arrow", "function", "and", "also", "bind", "it", "in", "constructor", ".", "so", "you", "no", "need", "to", "do", "bind", "when", "you", "use", "arrow", "function", "class", "someclass", "extend", "react.compon", "{", "handleinputchang", "=", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmad", ":", "'", ",", "val", ")", ";", "}", "}", "or", "you", "need", "to", "bind", "a", "function", "onli", "in", "constructor", "when", "you", "use", "normal", "function", "like", "below", "class", "someclass", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.handleinputchang", "=", "this.handleinputchange.bind", "(", "thi", ")", ";", "}", "handleinputchang", "(", "val", ")", "{", "console.log", "(", "'selectionmad", ":", "'", ",", "val", ")", ";", "}", "}", "also", "bind", "a", "function", "directli", "in", "render", "is", "not", "recommend", ".", "it", "should", "alway", "be", "in", "constructor", "i", "'m", "tri", "to", "do", "someth", "like", "the", "follow", "in", "react", "jsx", "(", "where", "objectrow", "is", "a", "separ", "compon", ")", ":", "<", "tbodi", ">", "for", "(", "var", "i=0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "<", "objectrow/", ">", "}", "<", "/tbodi", ">", "i", "realiz", "and", "understand", "whi", "thi", "is", "n't", "valid", "jsx", ",", "sinc", "jsx", "map", "to", "function", "call", ".", "howev", ",", "come", "from", "templat", "land", "and", "be", "new", "to", "jsx", ",", "i", "am", "unsur", "how", "i", "would", "achiev", "the", "abov", "(", "ad", "a", "compon", "multipl", "time", ")", ".", "think", "of", "it", "like", "you", "'re", "just", "call", "javascript", "function", ".", "you", "ca", "n't", "use", "a", "for", "loop", "where", "the", "argument", "to", "a", "function", "call", "would", "go", ":", "return", "tbodi", "(", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "objectrow", "(", ")", "}", ")", "see", "how", "the", "function", "tbodi", "is", "be", "pass", "a", "for", "loop", "as", "an", "argument", "\u2013", "lead", "to", "a", "syntax", "error", ".", "but", "you", "can", "make", "an", "array", ",", "and", "then", "pass", "that", "in", "as", "an", "argument", ":", "var", "row", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "rows.push", "(", "objectrow", "(", ")", ")", ";", "}", "return", "tbodi", "(", "row", ")", ";", "you", "can", "basic", "use", "the", "same", "structur", "when", "work", "with", "jsx", ":", "var", "row", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "//", "note", ":", "we", "are", "ad", "a", "key", "prop", "here", "to", "allow", "react", "to", "uniqu", "identifi", "each", "//", "element", "in", "thi", "array", ".", "see", ":", "http", ":", "//reactjs.org/docs/lists-and-keys.html", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "<", "tbodi", ">", "{", "row", "}", "<", "/tbodi", ">", ";", "incident", ",", "my", "javascript", "exampl", "is", "almost", "exactli", "what", "that", "exampl", "of", "jsx", "transform", "into", ".", "play", "around", "with", "babel", "repl", "to", "get", "a", "feel", "for", "how", "jsx", "work", ".", "not", "sure", "if", "thi", "will", "work", "for", "your", "situat", ",", "but", "often", "map", "is", "a", "good", "answer", ".", "if", "thi", "wa", "your", "code", "with", "the", "for", "loop", ":", "<", "tbodi", ">", "for", "(", "var", "i=0", ";", "i", "<", "objects.length", ";", "i++", ")", "{", "<", "objectrow", "obj=", "{", "object", "[", "i", "]", "}", "key=", "{", "i", "}", ">", "}", "<", "/tbodi", ">", "you", "could", "write", "it", "like", "thi", "with", "map", ":", "<", "tbodi", ">", "{", "objects.map", "(", "function", "(", "object", ",", "i", ")", "{", "return", "<", "objectrow", "obj=", "{", "object", "}", "key=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", "es6", "syntax", ":", "<", "tbodi", ">", "{", "objects.map", "(", "(", "object", ",", "i", ")", "=", ">", "<", "objectrow", "obj=", "{", "object", "}", "key=", "{", "i", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "if", "you", "do", "n't", "alreadi", "have", "an", "array", "to", "map", "(", ")", "like", "@", "fakerainbrigand", "'s", "answer", ",", "and", "want", "to", "inlin", "thi", "so", "the", "sourc", "layout", "correspond", "to", "the", "output", "closer", "than", "@", "sophiealpert", "'s", "answer", ":", "with", "es2015", "(", "es6", ")", "syntax", "(", "spread", "and", "arrow", "function", ")", "http", ":", "//plnkr.co/edit/mfqfwodvy8dkqqokiegv", "?", "p=preview", "<", "tbodi", ">", "{", "[", "...", "array", "(", "10", ")", "]", ".map", "(", "(", "x", ",", "i", ")", "=", ">", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "re", ":", "transpil", "with", "babel", ",", "it", "caveat", "page", "say", "that", "array.from", "is", "requir", "for", "spread", ",", "but", "at", "present", "(", "v5.8.23", ")", "that", "doe", "not", "seem", "to", "be", "the", "case", "when", "spread", "an", "actual", "array", ".", "i", "have", "a", "document", "issu", "open", "to", "clarifi", "that", ".", "but", "use", "at", "your", "own", "risk", "or", "polyfil", ".", "vanilla", "es5", "array.appli", "<", "tbodi", ">", "{", "array.appli", "(", "0", ",", "array", "(", "10", ")", ")", ".map", "(", "function", "(", "x", ",", "i", ")", "{", "return", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", "inlin", "iif", "http", ":", "//plnkr.co/edit/4kqjdtzd4w69g8suu2ht", "?", "p=preview", "<", "tbodi", ">", "{", "(", "function", "(", "row", ",", "i", ",", "len", ")", "{", "while", "(", "++i", "<", "=", "len", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "return", "row", ";", "}", ")", "(", "[", "]", ",", "0", ",", "10", ")", "}", "<", "/tbodi", ">", "combin", "of", "techniqu", "from", "other", "answer", "keep", "the", "sourc", "layout", "correspond", "to", "the", "output", ",", "but", "make", "the", "inlin", "part", "more", "compact", ":", "render", ":", "function", "(", ")", "{", "var", "row", "=", "[", "]", ",", "i", "=", "0", ",", "len", "=", "10", ";", "while", "(", "++i", "<", "=", "len", ")", "rows.push", "(", "i", ")", ";", "return", "(", "<", "tbodi", ">", "{", "rows.map", "(", "function", "(", "i", ")", "{", "return", "<", "objectrow", "key=", "{", "i", "}", "index=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbodi", ">", ")", ";", "}", "with", "es2015", "syntax", "&", "array", "method", "with", "array.prototype.fil", "you", "could", "do", "thi", "as", "an", "altern", "to", "use", "spread", "as", "illustr", "abov", ":", "<", "tbodi", ">", "{", "array", "(", "10", ")", ".fill", "(", "1", ")", ".map", "(", "(", "el", ",", "i", ")", "=", ">", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "(", "i", "think", "you", "could", "actual", "omit", "ani", "argument", "to", "fill", "(", ")", ",", "but", "i", "'m", "not", "100", "%", "on", "that", ".", ")", "thank", "to", "@", "fakerainbrigand", "for", "correct", "my", "mistak", "in", "an", "earlier", "version", "of", "the", "fill", "(", ")", "solut", "(", "see", "revis", ")", ".", "key", "in", "all", "case", "the", "key", "attr", "allevi", "a", "warn", "with", "the", "develop", "build", ",", "but", "is", "n't", "access", "in", "the", "child", ".", "you", "can", "pass", "an", "extra", "attr", "if", "you", "want", "the", "index", "avail", "in", "the", "child", ".", "see", "list", "and", "key", "for", "discuss", ".", "simpli", "use", "map", "array", "method", "with", "es6", "syntax", ":", "<", "tbodi", ">", "{", "items.map", "(", "item", "=", ">", "<", "objectrow", "key=", "{", "item.id", "}", "name=", "{", "item.nam", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "do", "n't", "forget", "the", "key", "properti", ".", "use", "array", "map", "function", "is", "a", "veri", "common", "way", "to", "loop", "through", "an", "array", "of", "element", "and", "creat", "compon", "accord", "to", "them", "in", "react", ",", "thi", "is", "a", "great", "way", "to", "do", "a", "loop", "which", "is", "a", "pretti", "effici", "and", "tidi", "way", "to", "do", "your", "loop", "in", "jsx", ",", "it", "'s", "not", "the", "onli", "way", "to", "do", "it", ",", "but", "the", "prefer", "way", ".", "also", ",", "do", "n't", "forget", "have", "a", "uniqu", "key", "for", "each", "iter", "as", "requir", ".", "map", "function", "creat", "a", "uniqu", "index", "from", "0", "but", "it", "'s", "not", "recommend", "use", "the", "produc", "index", "but", "if", "your", "valu", "is", "uniqu", "or", "if", "there", "is", "a", "uniqu", "key", ",", "you", "can", "use", "them", ":", "<", "tbodi", ">", "{", "numrows.map", "(", "x=", ">", "<", "objectrow", "key=", "{", "x.id", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "also", ",", "few", "line", "from", "mdn", "if", "you", "not", "familiar", "with", "map", "function", "on", "array", ":", "map", "call", "a", "provid", "callback", "function", "onc", "for", "each", "element", "in", "an", "array", ",", "in", "order", ",", "and", "construct", "a", "new", "array", "from", "the", "result", ".", "callback", "is", "invok", "onli", "for", "index", "of", "the", "array", "which", "have", "assign", "valu", ",", "includ", "undefin", ".", "it", "is", "not", "call", "for", "miss", "element", "of", "the", "array", "(", "that", "is", ",", "index", "that", "have", "never", "been", "set", ",", "which", "have", "been", "delet", "or", "which", "have", "never", "been", "assign", "a", "valu", ")", ".", "callback", "is", "invok", "with", "three", "argument", ":", "the", "valu", "of", "the", "element", ",", "the", "index", "of", "the", "element", ",", "and", "the", "array", "object", "be", "travers", ".", "if", "a", "thisarg", "paramet", "is", "provid", "to", "the", "map", ",", "it", "will", "be", "use", "as", "callback", "'s", "thi", "valu", ".", "otherwis", ",", "the", "valu", "undefin", "will", "be", "use", "as", "it", "thi", "valu", ".", "thi", "valu", "ultim", "observ", "by", "the", "callback", "is", "determin", "accord", "to", "the", "usual", "rule", "for", "determin", "the", "thi", "seen", "by", "a", "function", ".", "map", "doe", "not", "mutat", "the", "array", "on", "which", "it", "is", "call", "(", "although", "callback", ",", "if", "invok", ",", "may", "do", "so", ")", ".", "if", "you", "'re", "alreadi", "use", "lodash", ",", "the", "_.time", "function", "is", "handi", ".", "import", "react", ",", "{", "compon", "}", "from", "``", "react", "''", ";", "import", "select", "from", "``", "./select", "''", ";", "import", "_", "from", "``", "lodash", "''", ";", "export", "default", "class", "app", "extend", "compon", "{", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "contain", "''", ">", "<", "ol", ">", "{", "_.time", "(", "3", ",", "(", "i", ")", "=", ">", "(", "<", "li", "key=", "{", "i", "}", ">", "<", "select", "onselect=", "{", "this.onselect", "}", ">", "<", "option", "value=", "''", "1", "''", ">", "bacon", "<", "/option", ">", "<", "option", "value=", "''", "2", "''", ">", "cheez", "<", "/option", ">", "<", "/select", ">", "<", "/li", ">", ")", ")", "}", "<", "/ol", ">", "<", "/div", ">", ")", ";", "}", "}", "you", "can", "also", "extract", "outsid", "the", "return", "block", ":", "render", ":", "function", "(", ")", "{", "var", "row", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "(", "<", "tbodi", ">", "{", "row", "}", "<", "/tbodi", ">", ")", ";", "}", "i", "know", "thi", "is", "an", "old", "thread", ",", "but", "you", "might", "want", "to", "checkout", "react", "templat", ",", "which", "doe", "let", "you", "use", "jsx-style", "templat", "in", "react", ",", "with", "a", "few", "direct", "(", "such", "as", "rt-repeat", ")", ".", "your", "exampl", ",", "if", "you", "use", "react-templ", ",", "would", "be", ":", "<", "tbodi", ">", "<", "objectrow", "rt-repeat=", "''", "obj", "in", "object", "''", "/", ">", "<", "/tbodi", ">", "there", "are", "multipl", "way", "to", "go", "about", "do", "thi", ".", "jsx", "eventu", "get", "compil", "to", "javascript", ",", "so", "as", "long", "as", "you", "'re", "write", "valid", "javascript", ",", "you", "'ll", "be", "good", ".", "my", "answer", "aim", "to", "consolid", "all", "the", "wonder", "way", "alreadi", "present", "here", ":", "if", "you", "do", "not", "have", "an", "array", "of", "object", ",", "simpli", "the", "number", "of", "row", ":", "within", "the", "return", "block", ",", "creat", "an", "array", "and", "use", "array.prototype.map", ":", "render", "(", ")", "{", "return", "(", "<", "tbodi", ">", "{", "array", "(", "numrow", ")", ".fill", "(", "null", ")", ".map", "(", "(", "valu", ",", "index", ")", "=", ">", "(", "<", "objectrow", "key=", "{", "index", "}", ">", ")", ")", "}", "<", "/tbodi", ">", ")", ";", "}", "outsid", "the", "return", "block", ",", "simpli", "use", "a", "normal", "javascript", "for-loop", ":", "render", "(", ")", "{", "let", "row", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "(", "<", "tbodi", ">", "{", "row", "}", "<", "/tbodi", ">", ")", ";", "}", "immedi", "invok", "function", "express", ":", "render", "(", ")", "{", "return", "(", "<", "tbodi", ">", "{", "(", ")", "=", ">", "{", "let", "row", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "row", ";", "}", "}", "<", "/tbodi", ">", ")", ";", "}", "if", "you", "have", "an", "array", "of", "object", "within", "the", "return", "block", ",", ".map", "(", ")", "each", "object", "to", "a", "<", "objectrow", ">", "compon", ":", "render", "(", ")", "{", "return", "(", "<", "tbodi", ">", "{", "objectrows.map", "(", "(", "row", ",", "index", ")", "=", ">", "(", "<", "objectrow", "key=", "{", "index", "}", "data=", "{", "row", "}", "/", ">", ")", ")", "}", "<", "/tbodi", ">", ")", ";", "}", "outsid", "the", "return", "block", ",", "simpli", "use", "a", "normal", "javascript", "for-loop", ":", "render", "(", ")", "{", "let", "row", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "objectrows.length", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "data=", "{", "objectrow", "[", "i", "]", "}", "/", ">", ")", ";", "}", "return", "(", "<", "tbodi", ">", "{", "row", "}", "<", "/tbodi", ">", ")", ";", "}", "immedi", "invok", "function", "express", ":", "render", "(", ")", "{", "return", "(", "<", "tbodi", ">", "{", "(", "(", ")", "=", ">", "{", "const", "row", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "objectrows.length", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "data=", "{", "objectrow", "[", "i", "]", "}", "/", ">", ")", ";", "}", "return", "row", ";", "}", ")", "(", ")", "}", "<", "/tbodi", ">", ")", ";", "}", "if", "numrow", "is", "a", "array", ",", "and", "it", "'s", "veri", "simpl", ".", "<", "tbodi", ">", "{", "numrows.map", "(", "item", "=", ">", "<", "objectrow", "/", ">", ")", "}", "<", "/tbodi", ">", "array", "data", "type", "in", "react", "is", "veri", "better", ",", "array", "can", "back", "new", "array", ",", "and", "support", "filter", ",", "reduc", "etc", ".", "there", "are", "sever", "answer", "point", "to", "use", "the", "map", "statement", ".", "here", "is", "a", "complet", "exampl", "use", "an", "iter", "within", "the", "featurelist", "compon", "to", "list", "featur", "compon", "base", "on", "a", "json", "data", "structur", "call", "featur", ".", "const", "featurelist", "=", "(", "{", "featur", ",", "onclickfeatur", ",", "onclicklik", "}", ")", "=", ">", "(", "<", "div", "classname=", "''", "feature-list", "''", ">", "{", "features.map", "(", "featur", "=", ">", "<", "featur", "key=", "{", "feature.id", "}", "{", "...", "featur", "}", "onclickfeature=", "{", "(", ")", "=", ">", "onclickfeatur", "(", "feature.id", ")", "}", "onclicklikes=", "{", "(", ")", "=", ">", "onclicklik", "(", "feature.id", ")", "}", "/", ">", ")", "}", "<", "/div", ">", ")", ";", "you", "can", "view", "the", "complet", "featurelist", "code", "on", "github", ".", "the", "featur", "fixtur", "is", "list", "here", ".", "to", "loop", "for", "a", "number", "of", "time", "and", "return", ",", "you", "can", "achiev", "it", "with", "the", "help", "of", "from", "and", "map", ":", "<", "tbodi", ">", "{", "array.from", "(", "array", "(", "i", ")", ")", ".map", "(", "(", ")", "=", ">", "<", "objectrow", "/", ">", ")", "}", "<", "/tbodi", ">", "where", "i", "=", "number", "of", "time", "if", "you", "want", "to", "assign", "uniqu", "key", "id", "into", "the", "render", "compon", ",", "you", "can", "use", "react.children.toarray", "as", "propos", "in", "the", "react", "document", "react.children.toarray", "return", "the", "children", "opaqu", "data", "structur", "as", "a", "flat", "array", "with", "key", "assign", "to", "each", "child", ".", "use", "if", "you", "want", "to", "manipul", "collect", "of", "children", "in", "your", "render", "method", ",", "especi", "if", "you", "want", "to", "reorder", "or", "slice", "this.props.children", "befor", "pass", "it", "down", ".", "note", ":", "react.children.toarray", "(", ")", "chang", "key", "to", "preserv", "the", "semant", "of", "nest", "array", "when", "flatten", "list", "of", "children", ".", "that", "is", ",", "toarray", "prefix", "each", "key", "in", "the", "return", "array", "so", "that", "each", "element", "\u2019", "s", "key", "is", "scope", "to", "the", "input", "array", "contain", "it", ".", "<", "tbodi", ">", "{", "react.children.toarray", "(", "array.from", "(", "array", "(", "i", ")", ")", ".map", "(", "(", ")", "=", ">", "<", "objectrow", "/", ">", ")", ")", "}", "<", "/tbodi", ">", "let", "us", "say", "we", "have", "an", "array", "of", "item", "in", "your", "state", ":", "[", "{", "name", ":", "``", "item1", "''", ",", "id", ":", "1", "}", ",", "{", "name", ":", "``", "item2", "''", ",", "id", ":", "2", "}", ",", "{", "name", ":", "``", "item3", "''", ",", "id", ":", "3", "}", "]", "<", "tbodi", ">", "{", "this.state.items.map", "(", "(", "item", ")", "=", ">", "{", "<", "objectrow", "key=", "{", "item.id", "}", "name=", "{", "item.nam", "}", "/", ">", "}", ")", "}", "<", "/tbodi", ">", "if", "you", "opt", "to", "convert", "thi", "insid", "return", "(", ")", "of", "render", "method", ",", "easiest", "option", "would", "be", "use", "map", "(", ")", "method", ".", "map", "your", "array", "into", "jsx", "syntax", "use", "map", "(", ")", "function", ",", "as", "shown", "below", "(", "es6", "syntax", "is", "use", ")", ".", "insid", "parent", "compon", ":", "<", "tbodi", ">", "{", "objectarray.map", "(", "object", "=", ">", "<", "objectrow", "key=", "{", "object.id", "}", "object=", "{", "object.valu", "}", ">", ")", "}", "<", "/tbodi", ">", "pleas", "note", "the", "key", "attribut", "ad", "to", "your", "child", "compon", ".", "if", "you", "did", "n't", "provid", "a", "key", "attribut", ",", "you", "can", "see", "the", "follow", "warn", "on", "your", "consol", ".", "warn", ":", "each", "child", "in", "an", "array", "or", "iter", "should", "have", "a", "uniqu", "``", "key", "''", "prop", ".", "note", ":", "one", "common", "mistak", "peopl", "do", "is", "use", "index", "as", "key", "when", "iter", ",", "use", "index", "of", "the", "element", "as", "a", "key", "is", "an", "anti-pattern", "and", "you", "can", "read", "more", "about", "it", "here", ".", "in", "short", ",", "if", "it", "'s", "not", "a", "static", "list", "never", "use", "index", "as", "key", ".", "now", "at", "the", "objectrow", "compon", ",", "you", "can", "access", "the", "object", "from", "it", "properti", ".", "insid", "objectrow", "compon", "const", "{", "object", "}", "=", "this.prop", "or", "const", "object", "=", "this.props.object", "thi", "should", "fetch", "you", "the", "object", "you", "pass", "from", "parent", "compon", "to", "the", "variabl", "object", "in", "objectrow", "compon", ".", "now", "you", "can", "spit", "out", "the", "valu", "in", "that", "object", "accord", "to", "your", "purpos", ".", "refer", ":", "map", "(", ")", "method", "in", "javascript", "ecma", "script", "6", "or", "es6", "an", "es2015", "/", "babel", "possibl", "is", "use", "a", "gener", "function", "to", "creat", "an", "array", "of", "jsx", ":", "function", "*", "jsxloop", "(", "time", ",", "callback", ")", "{", "for", "(", "var", "i", "=", "0", ";", "i", "<", "time", ";", "++i", ")", "yield", "callback", "(", "i", ")", ";", "}", "...", "<", "tbodi", ">", "{", "[", "...", "jsxloop", "(", "numrow", ",", "i", "=", ">", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "]", "}", "<", "/tbodi", ">", "...", "or", "you", "can", "also", "prepar", "an", "array", "of", "object", "and", "map", "it", "to", "a", "function", "to", "have", "the", "desir", "output", ".", "i", "prefer", "thi", ",", "becaus", "it", "help", "me", "to", "maintain", "the", "good", "practic", "of", "code", "with", "no", "logic", "insid", "the", "return", "of", "render", ".", "render", "(", ")", "{", "const", "mapitem", "=", "[", "]", ";", "for", "(", "let", "i", "=0", ";", "i", "<", "item.length", ";", "i++", ")", "mapitem.push", "(", "i", ")", ";", "const", "singleitem", "=", ">", "(", "item", ",", "index", ")", "{", "//", "item", "the", "singl", "item", "in", "the", "array", "//", "the", "index", "of", "the", "item", "in", "the", "array", "//", "can", "implement", "ani", "logic", "here", "return", "(", "<", "objectrow/", ">", ")", "}", "return", "(", "<", "tbodi", ">", "{", "mapitem.map", "(", "singleitem", ")", "}", "<", "/tbodi", ">", ")", "}", "simpli", "use", ".map", "(", ")", "to", "loop", "through", "your", "collect", "and", "return", "<", "objectrow", ">", "item", "with", "prop", "from", "each", "iter", ".", "assum", "object", "is", "an", "array", "somewher", "...", "<", "tbodi", ">", "{", "objects.map", "(", "(", "obj", ",", "index", ")", "=", ">", "<", "objectrow", "obj=", "{", "obj", "}", "key=", "{", "index", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "es2015", "array.from", "with", "the", "map", "function", "+", "key", "if", "you", "have", "noth", "to", ".map", "(", ")", "you", "can", "use", "array.from", "(", ")", "with", "the", "map", "function", "to", "repeat", "element", ":", "<", "tbodi", ">", "{", "array.from", "(", "{", "length", ":", "5", "}", ",", "(", "valu", ",", "key", ")", "=", ">", "<", "objectrow", "key=", "{", "key", "}", "/", ">", ")", "}", "<", "/tbodi", ">", "i", "use", "thi", ":", "griditem", "=", "this.state.applications.map", "(", "app", "=", ">", "<", "applicationitem", "key=", "{", "app.id", "}", "app=", "{", "app", "}", "/", ">", ")", ";", "ps", ":", "never", "forget", "the", "key", "or", "you", "will", "have", "a", "lot", "of", "warn", "!", "i", "tend", "to", "favor", "an", "approach", "where", "program", "logic", "happen", "outsid", "the", "return", "valu", "of", "render", ".", "thi", "help", "keep", "what", "is", "actual", "render", "easi", "to", "grok", ".", "so", "i", "'d", "probabl", "do", "someth", "like", ":", "import", "_", "from", "'lodash", "'", ";", "...", "const", "tablebodi", "=", "(", "{", "object", "}", ")", "=", ">", "{", "const", "objectrow", "=", "objects.map", "(", "obj", "=", ">", "<", "objectrow", "object=", "{", "obj", "}", "/", ">", ")", ";", "return", "<", "tbodi", ">", "{", "objectrow", "}", "<", "/tbodi", ">", ";", "}", "admittedli", "thi", "is", "such", "a", "small", "amount", "of", "code", "that", "inlin", "it", "might", "work", "fine", ".", "you", "can", "of", "cours", "solv", "with", "a", ".map", "as", "suggest", "by", "the", "other", "answer", ".", "if", "you", "alreadi", "use", "babel", ",", "you", "could", "think", "about", "use", "jsx-control-stat", "they", "requir", "a", "littl", "of", "set", ",", "but", "i", "think", "it", "'s", "worth", "in", "term", "of", "readabl", "(", "especi", "for", "non-react", "develop", ")", ".", "if", "you", "use", "a", "linter", ",", "there", "'s", "also", "eslint-plugin-jsx-control-stat", "your", "jsx", "code", "will", "compil", "into", "pure", "javascript", "code", ",", "ani", "tag", "will", "be", "replac", "by", "reactel", "object", ".", "in", "javascript", ",", "you", "can", "not", "call", "a", "function", "multipl", "time", "to", "collect", "their", "return", "variabl", ".", "it", "is", "illeg", ",", "the", "onli", "way", "is", "to", "use", "an", "array", "to", "store", "the", "function", "return", "variabl", ".", "or", "you", "can", "use", "array.prototype.map", "which", "is", "avail", "sinc", "javascript", "es5", "to", "handl", "thi", "situat", ".", "mayb", "we", "can", "write", "other", "compil", "to", "recreat", "a", "new", "jsx", "syntax", "to", "implement", "a", "repeat", "function", "just", "like", "angular", "'s", "ng-repeat", ".", "thi", "can", "be", "done", "in", "multpl", "way", ".", "as", "suggest", "abov", ",", "befor", "return", "store", "all", "element", "in", "the", "array", "loop", "insid", "return", "method", "1", "let", "contain", "=", "[", "]", ";", "let", "arr", "=", "[", "1,2,3", "]", "//can", "be", "anyth", "array", ",", "object", "arr.foreach", "(", "(", "val", ",", "index", ")", "=", ">", "{", "container.push", "(", "<", "div", "key=", "{", "index", "}", ">", "val", "<", "/div", ">", ")", "/", "*", "*", "*", "1.", "all", "loop", "gener", "element", "requir", "a", "key", "*", "2.", "onli", "one", "parent", "element", "can", "be", "place", "in", "array", "*", "e.g", ".", "container.push", "(", "<", "div", "key=", "{", "index", "}", ">", "val", "<", "/div", ">", "<", "div", ">", "thi", "will", "throw", "error", "<", "/div", ">", ")", "*", "*", "/", "}", ")", ";", "return", "(", "<", "div", ">", "<", "div", ">", "ani", "thing", "goe", "here", "<", "/div", ">", "<", "div", ">", "{", "contain", "}", "<", "/div", ">", "<", "/div", ">", ")", "method", "2", "return", "(", "<", "div", ">", "<", "div", ">", "ani", "thing", "goe", "here", "<", "/div", ">", "<", "div", ">", "{", "(", "(", ")", "=", ">", "{", "let", "contain", "=", "[", "]", ";", "let", "arr", "=", "[", "1,2,3", "]", "//can", "be", "anyth", "array", ",", "object", "arr.foreach", "(", "(", "val", ",", "index", ")", "=", ">", "{", "container.push", "(", "<", "div", "key=", "{", "index", "}", ">", "val", "<", "/div", ">", ")", "}", ")", ";", "return", "contain", ";", "}", ")", "(", ")", "}", "<", "/div", ">", "<", "/div", ">", ")", "here", "'s", "a", "simpl", "solut", "to", "it", ".", "var", "object_row", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "object_rows.push", "(", "<", "objectrow", "/", ">", ")", ";", "}", "<", "tbodi", ">", "{", "object_row", "}", "<", "/tbodi", ">", ";", "no", "map", "and", "complex", "code", "requir", ".", "you", "just", "need", "to", "push", "the", "row", "to", "the", "array", "and", "return", "the", "valu", "to", "render", "it", ".", "sinc", "you", "are", "write", "javascript", "syntax", "insid", "jsx", "code", ",", "you", "need", "to", "wrap", "your", "javascript", "in", "curli", "brace", ".", "row", "=", "(", ")", "=", ">", "{", "var", "row", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow/", ">", ")", ";", "}", "return", "row", ";", "}", "<", "tbodi", ">", "{", "this.row", "(", ")", "}", "<", "/tbodi", ">", "you", "can", "also", "use", "a", "self-invok", "function", ":", "return", "<", "tbodi", ">", "{", "(", "(", ")", "=", ">", "{", "let", "row", "=", "[", "]", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrow", ";", "i++", ")", "{", "row.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "return", "row", "}", ")", "(", ")", "}", "<", "/tbodi", ">", "here", "is", "a", "sampl", "from", "react", "doc", ":", "javascript", "express", "as", "children", "function", "item", "(", "prop", ")", "{", "return", "<", "li", ">", "{", "props.messag", "}", "<", "/li", ">", ";", "}", "function", "todolist", "(", ")", "{", "const", "todo", "=", "[", "'finish", "doc", "'", ",", "'submit", "pr", "'", ",", "'nag", "dan", "to", "review", "'", "]", ";", "return", "(", "<", "ul", ">", "{", "todos.map", "(", "(", "messag", ")", "=", ">", "<", "item", "key=", "{", "messag", "}", "message=", "{", "messag", "}", "/", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "as", "your", "case", ",", "i", "suggest", "write", "like", "thi", ":", "function", "render", "(", ")", "{", "return", "(", "<", "tbodi", ">", "{", "numrows.map", "(", "(", "roe", ",", "index", ")", "=", ">", "<", "objectrow", "key=", "{", "index", "}", "/", ">", ")", "}", "<", "/tbodi", ">", ")", ";", "}", "pleas", "notic", "the", "key", "is", "veri", "import", ",", "becaus", "react", "use", "key", "to", "differ", "data", "in", "array", ".", "i", "use", "it", "like", "<", "tbodi", ">", "{", "numrow", "?", "(", "numrows.map", "(", "obj", "=", ">", "{", "return", "<", "objectrow", "/", ">", "}", ")", ")", ":", "null", "}", "<", "/tbodi", ">", "you", "can", "do", "someth", "like", ":", "let", "foo", "=", "[", "1", ",", "undefined,3", "]", "{", "foo.map", "(", "e", "=", ">", "!", "!", "e", "?", "<", "object", "/", ">", ":", "null", ")", "}", "great", "question", ".", "what", "i", "do", "when", "i", "want", "to", "add", "a", "certain", "number", "of", "compon", "is", "use", "a", "helper", "function", ".", "defin", "a", "function", "that", "return", "jsx", ":", "const", "myexampl", "=", "(", ")", "=", ">", "{", "let", "myarray", "=", "[", "]", "for", "(", "let", "i", "=", "0", ";", "i", "<", "5", ";", "i++", ")", "{", "myarray.push", "(", "<", "mycomponent/", ">", ")", "}", "return", "myarray", "}", "//", "...", "in", "jsx", "<", "tbodi", ">", "{", "myexampl", "(", ")", "}", "<", "/tbodi", ">", "when", "a", "react", "compon", "state", "chang", ",", "the", "render", "method", "is", "call", ".", "henc", "for", "ani", "state", "chang", ",", "an", "action", "can", "be", "perform", "in", "the", "render", "method", "bodi", ".", "is", "there", "a", "particular", "use", "case", "for", "the", "setstat", "callback", "then", "?", "ye", "there", "is", ",", "sinc", "setstat", "work", "in", "an", "asynchron", "way", ".", "that", "mean", "after", "call", "setstat", "the", "this.stat", "variabl", "is", "not", "immedi", "chang", ".", "so", "if", "you", "want", "to", "perform", "an", "action", "immedi", "after", "set", "state", "on", "a", "state", "variabl", "and", "then", "return", "a", "result", ",", "a", "callback", "will", "be", "use", "consid", "the", "exampl", "below", "....", "changetitl", ":", "function", "changetitl", "(", "event", ")", "{", "this.setst", "(", "{", "titl", ":", "event.target.valu", "}", ")", ";", "this.validatetitl", "(", ")", ";", "}", ",", "validatetitl", ":", "function", "validatetitl", "(", ")", "{", "if", "(", "this.state.title.length", "===", "0", ")", "{", "this.setst", "(", "{", "titleerror", ":", "``", "titl", "ca", "n't", "be", "blank", "''", "}", ")", ";", "}", "}", ",", "....", "the", "abov", "code", "may", "not", "work", "as", "expect", "sinc", "the", "titl", "variabl", "may", "not", "have", "mutat", "befor", "valid", "is", "perform", "on", "it", ".", "now", "you", "may", "wonder", "that", "we", "can", "perform", "the", "valid", "in", "the", "render", "(", ")", "function", "itself", "but", "it", "would", "be", "better", "and", "a", "cleaner", "way", "if", "we", "can", "handl", "thi", "in", "the", "changetitl", "function", "itself", "sinc", "that", "would", "make", "your", "code", "more", "organis", "and", "understand", "in", "thi", "case", "callback", "is", "use", "....", "changetitl", ":", "function", "changetitl", "(", "event", ")", "{", "this.setst", "(", "{", "titl", ":", "event.target.valu", "}", ",", "function", "(", ")", "{", "this.validatetitl", "(", ")", ";", "}", ")", ";", "}", ",", "validatetitl", ":", "function", "validatetitl", "(", ")", "{", "if", "(", "this.state.title.length", "===", "0", ")", "{", "this.setst", "(", "{", "titleerror", ":", "``", "titl", "ca", "n't", "be", "blank", "''", "}", ")", ";", "}", "}", ",", "....", "anoth", "exampl", "will", "be", "when", "you", "want", "to", "dispatch", "and", "action", "when", "the", "state", "chang", ".", "you", "will", "want", "to", "do", "it", "in", "a", "callback", "and", "not", "the", "render", "(", ")", "as", "it", "will", "be", "call", "everytim", "rerend", "occur", "and", "henc", "mani", "such", "scenario", "are", "possibl", "where", "you", "will", "need", "callback", ".", "anoth", "case", "is", "a", "api", "call", "a", "case", "may", "aris", "when", "you", "need", "to", "make", "an", "api", "call", "base", "on", "a", "particular", "state", "chang", ",", "if", "you", "do", "that", "in", "the", "render", "method", ",", "it", "will", "be", "call", "on", "everi", "render", "onstat", "chang", "or", "becaus", "some", "prop", "pass", "down", "to", "the", "child", "compon", "chang", ".", "in", "thi", "case", "you", "would", "want", "to", "use", "a", "setstat", "callback", "to", "pass", "the", "updat", "state", "valu", "to", "the", "api", "call", "....", "changetitl", ":", "function", "(", "event", ")", "{", "this.setst", "(", "{", "titl", ":", "event.target.valu", "}", ",", "(", ")", "=", ">", "this.apicallfunct", "(", ")", ")", ";", "}", ",", "apicallfunct", ":", "function", "(", ")", "{", "//", "call", "api", "with", "the", "updat", "valu", "}", "....", "this.setst", "(", "{", "name", ":", "'valu", "'", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "this.state.nam", ")", ";", "}", ")", ";", "the", "1.", "usecas", "which", "come", "into", "my", "mind", ",", "is", "an", "api", "call", ",", "which", "should't", "go", "into", "the", "render", ",", "becaus", "it", "will", "run", "for", "each", "state", "chang", ".", "and", "the", "api", "call", "should", "be", "onli", "perform", "on", "special", "state", "chang", ",", "and", "not", "on", "everi", "render", ".", "changesearchparam", "=", "(", "param", ")", "=", ">", "{", "this.setst", "(", "{", "param", "}", ",", "this.performsearch", ")", "}", "performsearch", "=", "(", ")", "=", ">", "{", "api.search", "(", "this.state.param", ",", "(", "result", ")", "=", ">", "{", "this.setst", "(", "{", "result", "}", ")", "}", ")", ";", "}", "henc", "for", "ani", "state", "chang", ",", "an", "action", "can", "be", "perform", "in", "the", "render", "method", "bodi", ".", "veri", "bad", "practic", ",", "becaus", "the", "render-method", "should", "be", "pure", ",", "it", "mean", "no", "action", ",", "state", "chang", ",", "api", "call", ",", "should", "be", "perform", ",", "just", "composit", "your", "view", "and", "return", "it", ".", "action", "should", "be", "perform", "on", "some", "event", "onli", ".", "render", "is", "not", "an", "event", ",", "but", "componentdidmount", "for", "exampl", ".", "consid", "setstat", "call", "this.setst", "(", "{", "counter", ":", "this.state.count", "+", "1", "}", ")", "idea", "setstat", "may", "be", "call", "in", "async", "function", "so", "you", "can", "not", "reli", "on", "thi", ".", "if", "the", "abov", "call", "wa", "made", "insid", "a", "async", "function", "thi", "will", "refer", "to", "state", "of", "compon", "at", "that", "point", "of", "time", "but", "we", "expect", "thi", "to", "refer", "to", "properti", "insid", "state", "at", "time", "setstat", "call", "or", "begin", "of", "async", "task", ".", "and", "as", "task", "wa", "async", "call", "thu", "that", "properti", "may", "have", "chang", "in", "time", "be", ".", "thu", "it", "is", "unreli", "to", "use", "thi", "keyword", "to", "refer", "to", "some", "properti", "of", "state", "thu", "we", "use", "callback", "function", "whose", "argument", "are", "previousst", "and", "prop", "which", "mean", "when", "async", "task", "wa", "done", "and", "it", "wa", "time", "to", "updat", "state", "use", "setstat", "call", "prevstat", "will", "refer", "to", "state", "now", "when", "setstat", "ha", "not", "start", "yet", ".", "ensur", "reliabl", "that", "nextstat", "would", "not", "be", "corrupt", ".", "wrong", "code", ":", "would", "lead", "to", "corrupt", "of", "data", "this.setst", "(", "{", "counter", ":", "this.state.counter+1", "}", ")", ";", "correct", "code", "with", "setstat", "have", "call", "back", "function", ":", "this.setst", "(", "(", "prevstat", ",", "prop", ")", "=", ">", "{", "return", "{", "counter", ":", "prevstate.counter+1", "}", ";", "}", ")", ";", "thu", "whenev", "we", "need", "to", "updat", "our", "current", "state", "to", "next", "state", "base", "on", "valu", "poss", "by", "properti", "just", "now", "and", "all", "thi", "is", "happen", "in", "async", "fashion", "it", "is", "good", "idea", "to", "use", "setstat", "as", "callback", "function", ".", "i", "have", "tri", "to", "explain", "it", "in", "codepen", "here", "code", "pen", "what", "doe", "the", "...", "do", "in", "thi", "react", "(", "use", "jsx", ")", "code", "and", "what", "is", "it", "call", "?", "<", "modal", "{", "...", "this.prop", "}", "title='mod", "head", "'", "animation=", "{", "fals", "}", ">", "that", "'s", "properti", "spread", "notat", ".", "it", "wa", "ad", "in", "es2018", "(", "spread", "for", "arrays/iter", "wa", "earlier", ",", "es2015", ")", ",", "but", "it", "'s", "been", "support", "in", "react", "project", "for", "a", "long", "time", "via", "transpil", "(", "as", "``", "jsx", "spread", "attribut", "''", "even", "though", "you", "could", "do", "it", "elsewher", ",", "too", ",", "not", "just", "attribut", ")", ".", "{", "...", "this.prop", "}", "spread", "out", "the", "``", "own", "''", "enumer", "properti", "in", "prop", "as", "discret", "properti", "on", "the", "modal", "element", "you", "'re", "creat", ".", "for", "instanc", ",", "if", "this.prop", "contain", "a", ":", "1", "and", "b", ":", "2", ",", "then", "<", "modal", "{", "...", "this.prop", "}", "title='mod", "head", "'", "animation=", "{", "fals", "}", ">", "would", "be", "the", "same", "as", "<", "modal", "a=", "{", "this.props.a", "}", "b=", "{", "this.props.b", "}", "title='mod", "head", "'", "animation=", "{", "fals", "}", ">", "but", "it", "'s", "dynam", ",", "so", "whatev", "``", "own", "''", "properti", "are", "in", "prop", "are", "includ", ".", "sinc", "children", "is", "an", "``", "own", "''", "properti", "in", "prop", ",", "spread", "will", "includ", "it", ".", "so", "if", "the", "compon", "where", "thi", "appear", "had", "child", "element", ",", "they", "'ll", "be", "pass", "on", "to", "modal", ".", "put", "child", "element", "between", "the", "open", "tag", "and", "close", "tag", "is", "just", "syntact", "sugar", "\u2014", "the", "good", "kind", "\u2014", "for", "put", "a", "children", "properti", "in", "the", "open", "tag", ".", "exampl", ":", "class", "exampl", "extend", "react.compon", "{", "render", "(", ")", "{", "const", "{", "classnam", ",", "children", "}", "=", "this.prop", ";", "return", "(", "<", "div", "classname=", "{", "classnam", "}", ">", "{", "children", "}", "<", "/div", ">", ")", ";", "}", "}", "reactdom.rend", "(", "[", "<", "exampl", "classname=", "''", "first", "''", ">", "<", "span", ">", "child", "in", "first", "<", "/span", ">", "<", "/exampl", ">", ",", "<", "exampl", "classname=", "''", "second", "''", "children=", "{", "<", "span", ">", "child", "in", "second", "<", "/span", ">", "}", "/", ">", "]", ",", "document.getelementbyid", "(", "``", "root", "''", ")", ")", ";", ".first", "{", "color", ":", "green", ";", "}", ".second", "{", "color", ":", "blue", ";", "}", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.j", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "http", ":", "//cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.j", "''", ">", "<", "/script", ">", "spread", "notat", "is", "handi", "not", "onli", "for", "that", "use", "case", ",", "but", "for", "creat", "a", "new", "object", "with", "most", "(", "or", "all", ")", "of", "the", "properti", "of", "an", "exist", "object", "\u2014", "which", "come", "up", "a", "lot", "when", "you", "'re", "updat", "state", ",", "sinc", "you", "ca", "n't", "modifi", "state", "directli", ":", "this.setst", "(", "prevstat", "=", ">", "{", "return", "{", "foo", ":", "{", "...", "prevstate.foo", ",", "a", ":", "``", "updat", "''", "}", "}", ";", "}", ")", ";", "that", "replac", "this.state.foo", "with", "a", "new", "object", "with", "all", "the", "same", "properti", "as", "foo", "except", "the", "a", "properti", ",", "which", "becom", "``", "updat", "''", ":", "const", "obj", "=", "{", "foo", ":", "{", "a", ":", "1", ",", "b", ":", "2", ",", "c", ":", "3", "}", "}", ";", "console.log", "(", "``", "origin", "''", ",", "obj.foo", ")", ";", "//", "creat", "a", "new", "object", "and", "assign", "it", "to", "`", "obj.foo", "`", "obj.foo", "=", "{", "...", "obj.foo", ",", "a", ":", "``", "updat", "''", "}", ";", "console.log", "(", "``", "updat", "''", ",", "obj.foo", ")", ";", ".as-console-wrapp", "{", "max-height", ":", "100", "%", "!", "import", ";", "}", "as", "you", "know", "...", "are", "call", "spread", "attribut", "which", "the", "name", "repres", "it", "allow", "an", "express", "to", "be", "expand", ".", "var", "part", "=", "[", "'two", "'", ",", "'three", "'", "]", ";", "var", "number", "=", "[", "'one", "'", ",", "...", "part", ",", "'four", "'", ",", "'five", "'", "]", ";", "//", "[", "``", "one", "''", ",", "``", "two", "''", ",", "``", "three", "''", ",", "``", "four", "''", ",", "``", "five", "''", "]", "and", "in", "thi", "case", "(", "i", "'m", "gon", "na", "simplifi", "it", ")", ".", "//just", "assum", "we", "have", "an", "object", "like", "thi", ":", "var", "person=", "{", "name", ":", "'alex", "'", ",", "age", ":", "35", "}", "thi", ":", "<", "modal", "{", "...", "person", "}", "title='mod", "head", "'", "animation=", "{", "fals", "}", "/", ">", "is", "equal", "to", "<", "modal", "name=", "{", "person.nam", "}", "age=", "{", "person.ag", "}", "title='mod", "head", "'", "animation=", "{", "fals", "}", "/", ">", "so", "in", "short", ",", "it", "'s", "a", "neat", "short-cut", ",", "we", "can", "say", ".", "the", "three", "dot", "repres", "the", "spread", "oper", "in", "es6", ".", "it", "allow", "us", "to", "do", "quit", "a", "few", "thing", "in", "javascript", ":", "concaten", "array", "var", "shootergam", "=", "[", "'call", "of", "duti", "'", ",", "'far", "cri", "'", ",", "'resid", "evil", "'", "]", ";", "var", "racinggam", "=", "[", "'need", "for", "speed", "'", ",", "'gran", "turismo", "'", ",", "'burnout", "'", "]", ";", "var", "game", "=", "[", "...", "shootergam", ",", "...", "racinggam", "]", ";", "console.log", "(", "game", ")", "//", "[", "'call", "of", "duti", "'", ",", "'far", "cri", "'", ",", "'resid", "evil", "'", ",", "'need", "for", "speed", "'", ",", "'gran", "turismo", "'", ",", "'burnout", "'", "]", "destructur", "an", "array", "var", "shootergam", "=", "[", "'call", "of", "duti", "'", ",", "'far", "cri", "'", ",", "'resid", "evil", "'", "]", ";", "var", "[", "first", ",", "...", "remain", "]", "=", "shootergam", ";", "console.log", "(", "first", ")", ";", "//call", "of", "duti", "console.log", "(", "remain", ")", ";", "//", "[", "'far", "cri", "'", ",", "'resid", "evil", "'", "]", "combin", "two", "object", "var", "mycrush", "=", "{", "firstnam", ":", "'selena", "'", ",", "middlenam", ":", "'mari", "'", "}", ";", "var", "lastnam", "=", "'mi", "last", "name", "'", ";", "var", "mywif", "=", "{", "...", "mycrush", ",", "lastnam", "}", "console.log", "(", "mywif", ")", ";", "//", "{", "firstnam", ":", "'selena", "'", ",", "//", "middlenam", ":", "'mari", "'", ",", "//", "lastnam", ":", "'mi", "last", "name", "'", "}", "there", "'s", "anoth", "use", "for", "the", "three", "dot", "which", "is", "known", "as", "rest", "paramet", "and", "it", "make", "it", "possibl", "to", "take", "all", "of", "the", "argument", "to", "a", "function", "in", "as", "one", "array", ".", "function", "argument", "as", "array", "function", "fun1", "(", "...", "param", ")", "{", "}", "the", "three", "dot", "in", "javascript", "are", "spread", "/", "rest", "oper", ".", "spread", "oper", "the", "spread", "syntax", "allow", "an", "express", "to", "be", "expand", "in", "place", "where", "multipl", "argument", "are", "expect", ".", "myfunct", "(", "...", "iterableobj", ")", ";", "[", "...", "iterableobj", ",", "4", ",", "5", ",", "6", "]", "[", "...", "array", "(", "10", ")", "]", "rest", "paramet", "the", "rest", "paramet", "syntax", "is", "use", "for", "function", "with", "variabl", "number", "of", "argument", ".", "function", "(", "a", ",", "b", ",", "...", "thearg", ")", "{", "//", "...", "}", "the", "spread", "/", "rest", "oper", "for", "array", "wa", "introduc", "in", "es6", ".", "there", "'s", "a", "state", "2", "propos", "for", "object", "spread", "/", "rest", "properti", ".", "typescript", "also", "support", "the", "spread", "syntax", "and", "can", "transpil", "that", "into", "older", "version", "of", "ecmascript", "with", "minor", "issu", ".", "thi", "is", "a", "featur", "of", "es6", ",", "which", "is", "use", "in", "react", "as", "well", ".", "look", "at", "the", "below", "exampl", ":", "function", "sum", "(", "x", ",", "y", ",", "z", ")", "{", "return", "x", "+", "y", "+", "z", ";", "}", "console.log", "(", "sum", "(", "1,2,3", ")", ")", ";", "//6", "thi", "way", "is", "fine", "if", "we", "have", "a", "maximum", "of", "3", "paramet", ".", "but", ",", "what", "if", "we", "need", "to", "add", "for", "exampl", "110", "paramet", ".", "should", "we", "defin", "them", "all", "and", "add", "them", "one", "by", "one", "?", "of", "cours", "there", "is", "an", "easier", "way", "to", "do", ",", "which", "is", "call", "spread", ".", "instead", "of", "pass", "all", "those", "paramet", "you", "write", ":", "function", "(", "...", "number", ")", "{", "}", "we", "have", "no", "idea", "how", "mani", "paramet", "we", "have", ",", "but", "we", "know", "there", "are", "heap", "of", "those", ".", "base", "on", "es6", ",", "we", "can", "rewrit", "the", "abov", "function", "as", "below", "and", "use", "the", "spread", "and", "map", "between", "them", "to", "make", "it", "as", "easi", "as", "a", "piec", "of", "cake", ":", "let", "sum", "=", "(", "...", "number", ")", "=", ">", "{", "return", "numbers.reduc", "(", "(", "prev", ",", "current", ")", "=", ">", "prev", "+", "current", ")", ";", "}", "console.log", "(", "sum", "(", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", ",", "7", ",", "8", ",", "9", ")", ")", ";", "//45", "it", "'s", "just", "defin", "prop", "in", "a", "differ", "way", "in", "jsx", "for", "you", "!", "it", "'s", "use", "...", "array", "and", "object", "oper", "in", "es6", "(", "object", "one", "not", "fulli", "support", "yet", ")", ",", "so", "basic", "if", "you", "alreadi", "defin", "your", "prop", ",", "you", "can", "pass", "it", "to", "your", "element", "thi", "way", ".", "so", "in", "your", "case", ",", "the", "code", "should", "be", "someth", "like", "thi", ":", "function", "youra", "(", ")", "{", "const", "prop", "=", "{", "name='alireza", "'", ",", "age='35", "'", "}", ";", "<", "modal", "{", "...", "prop", "}", "title='mod", "head", "'", "animation=", "{", "fals", "}", "/", ">", "}", "so", "the", "prop", "you", "defin", ",", "now", "separ", "and", "can", "be", "reus", "if", "necessari", ".", "it", "'s", "equal", "to", ":", "function", "youra", "(", ")", "{", "<", "modal", "name='alireza", "'", "age='35", "'", "title='mod", "head", "'", "animation=", "{", "fals", "}", "/", ">", "}", "these", "are", "the", "quot", "from", "react", "team", "about", "spread", "oper", "in", "jsx", ":", "jsx", "spread", "attribut", "if", "you", "know", "all", "the", "properti", "that", "you", "want", "to", "place", "on", "a", "compon", "ahead", "of", "time", ",", "it", "is", "easi", "to", "use", "jsx", ":", "var", "compon", "=", "<", "compon", "foo=", "{", "x", "}", "bar=", "{", "y", "}", "/", ">", ";", "mutat", "prop", "is", "bad", "if", "you", "do", "n't", "know", "which", "properti", "you", "want", "to", "set", ",", "you", "might", "be", "tempt", "to", "add", "them", "onto", "the", "object", "later", ":", "var", "compon", "=", "<", "compon", "/", ">", ";", "component.props.foo", "=", "x", ";", "//", "bad", "component.props.bar", "=", "y", ";", "//", "also", "bad", "thi", "is", "an", "anti-pattern", "becaus", "it", "mean", "that", "we", "ca", "n't", "help", "you", "check", "the", "right", "proptyp", "until", "way", "later", ".", "thi", "mean", "that", "your", "proptyp", "error", "end", "up", "with", "a", "cryptic", "stack", "trace", ".", "the", "prop", "should", "be", "consid", "immut", ".", "mutat", "the", "prop", "object", "somewher", "els", "could", "caus", "unexpect", "consequ", "so", "ideal", "it", "would", "be", "a", "frozen", "object", "at", "thi", "point", ".", "spread", "attribut", "now", "you", "can", "use", "a", "new", "featur", "of", "jsx", "call", "spread", "attribut", ":", "var", "prop", "=", "{", "}", ";", "props.foo", "=", "x", ";", "props.bar", "=", "y", ";", "var", "compon", "=", "<", "compon", "{", "...", "prop", "}", "/", ">", ";", "the", "properti", "of", "the", "object", "that", "you", "pass", "in", "are", "copi", "onto", "the", "compon", "'s", "prop", ".", "you", "can", "use", "thi", "multipl", "time", "or", "combin", "it", "with", "other", "attribut", ".", "the", "specif", "order", "is", "import", ".", "later", "attribut", "overrid", "previou", "one", ".", "var", "prop", "=", "{", "foo", ":", "'default", "'", "}", ";", "var", "compon", "=", "<", "compon", "{", "...", "prop", "}", "foo=", "{", "'overrid", "'", "}", "/", ">", ";", "console.log", "(", "component.props.foo", ")", ";", "//", "'overrid", "'", "what", "'s", "with", "the", "weird", "...", "notat", "?", "the", "...", "oper", "(", "or", "spread", "oper", ")", "is", "alreadi", "support", "for", "array", "in", "es6", ".", "there", "is", "also", "an", "ecmascript", "propos", "for", "object", "rest", "and", "spread", "properti", ".", "we", "'re", "take", "advantag", "of", "these", "support", "and", "develop", "standard", "in", "order", "to", "provid", "a", "cleaner", "syntax", "in", "jsx", ".", "for", "those", "who", "come", "from", "the", "python", "world", ",", "jsx", "spread", "attribut", "are", "equival", "to", "unpack", "argument", "list", "(", "the", "python", "*", "*", "-oper", ")", ".", "i", "'m", "awar", "thi", "is", "a", "jsx", "question", ",", "but", "work", "with", "analog", "sometim", "help", "to", "get", "it", "faster", ".", "three", "dot", "...", "repres", "spread", "oper", "or", "rest", "paramet", ",", "it", "allow", "an", "array", "express", "or", "string", "or", "anyth", "which", "can", "be", "iter", "to", "be", "expand", "in", "place", "where", "zero", "or", "more", "argument", "for", "function", "call", "or", "element", "for", "array", "are", "expect", ".", "merg", "two", "array", "var", "arr1", "=", "[", "1,2,3", "]", ";", "var", "arr2", "=", "[", "4,5,6", "]", ";", "arr1", "=", "[", "...", "arr1", ",", "...", "arr2", "]", ";", "console.log", "(", "arr1", ")", ";", "//", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "copi", "array", ":", "var", "arr", "=", "[", "1", ",", "2", ",", "3", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "console.log", "(", "arr", ")", ";", "//", "[", "1", ",", "2", ",", "3", "]", "note", ":", "spread", "syntax", "effect", "goe", "one", "level", "deep", "while", "copi", "an", "array", ".", "therefor", ",", "it", "may", "be", "unsuit", "for", "copi", "multidimension", "array", "as", "the", "follow", "exampl", "show", "(", "it", "'s", "the", "same", "with", "object.assign", "(", ")", "and", "spread", "syntax", ")", ".", "add", "valu", "of", "one", "array", "to", "other", "at", "specif", "index", "e.g", "3", ":", "var", "arr1", "=", "[", "4,5", "]", "var", "arr2", "=", "[", "1,2,3", ",", "...", "arr1,6", "]", "console.log", "(", "arr2", ")", ";", "//", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "when", "call", "a", "constructor", "with", "new", ":", "var", "datefield", "=", "[", "1970", ",", "0", ",", "1", "]", ";", "//", "1", "jan", "1970", "var", "d", "=", "new", "date", "(", "...", "datefield", ")", ";", "console.log", "(", "d", ")", ";", "spread", "in", "object", "liter", ":", "var", "obj1", "=", "{", "foo", ":", "'bar", "'", ",", "x", ":", "42", "}", ";", "var", "obj2", "=", "{", "foo", ":", "'baz", "'", ",", "y", ":", "13", "}", ";", "var", "clonedobj", "=", "{", "...", "obj1", "}", ";", "console.log", "(", "clonedobj", ")", ";", "//", "{", "foo", ":", "``", "bar", "''", ",", "x", ":", "42", "}", "var", "mergedobj", "=", "{", "...", "obj1", ",", "...", "obj2", "}", ";", "console.log", "(", "mergedobj", ")", ";", "//", "{", "foo", ":", "``", "baz", "''", ",", "x", ":", "42", ",", "y", ":", "13", "}", "note", "that", "foo", "properti", "of", "obj1", "ha", "been", "overwritten", "by", "obj2", "foo", "properti", "as", "a", "rest", "paramet", "syntax", "which", "allow", "us", "to", "repres", "an", "indefinit", "number", "of", "argument", "as", "an", "array", ":", "function", "sum", "(", "...", "thearg", ")", "{", "return", "theargs.reduc", "(", "(", "previou", ",", "current", ")", "=", ">", "{", "return", "previou", "+", "current", ";", "}", ")", ";", "}", "console.log", "(", "sum", "(", "1", ",", "2", ",", "3", ")", ")", ";", "//6", "console.log", "(", "sum", "(", "1", ",", "2", ",", "3", ",", "4", ")", ")", ";", "//10", "note", ":", "spread", "syntax", "(", "other", "than", "in", "the", "case", "of", "spread", "properti", ")", "can", "be", "appli", "onli", "to", "iter", "object", ":", "so", "follow", "will", "throw", "error", "var", "obj", "=", "{", "'key1", "'", ":", "'value1", "'", "}", ";", "var", "array", "=", "[", "...", "obj", "]", ";", "//", "typeerror", ":", "obj", "is", "not", "iter", "reference1", "reference2", "the", "...", "(", "spread", "oper", ")", "is", "use", "in", "react", "to", ":", "provid", "a", "neat", "way", "to", "pass", "prop", "from", "parent", "to", "child", "compon", ".", "e.g", "given", "these", "prop", "in", "a", "parent", "compon", ",", "this.prop", "=", "{", "usernam", ":", "``", "danm", "''", ",", "email", ":", "``", "dan", "@", "mail.com", "''", "}", "they", "could", "be", "pass", "in", "the", "follow", "manner", "to", "the", "child", ",", "<", "childcompon", "{", "...", "this.prop", "}", "/", ">", "which", "is", "similar", "to", "thi", "<", "childcompon", "username=", "{", "this.props.usernam", "}", "email=", "{", "this.props.email", "}", "/", ">", "but", "way", "cleaner", ".", "kudo", "to", "brandon", "morelli", ".", "he", "explain", "perfectli", "here", ",", "but", "link", "may", "die", "so", "i", "am", "just", "past", "the", "content", "below", ":", "the", "spread", "syntax", "is", "simpli", "three", "dot", ":", "...", "it", "allow", "an", "iter", "to", "expand", "in", "place", "where", "0+", "argument", "are", "expect", ".", "definit", "are", "tough", "without", "context", ".", "let", "'s", "explor", "some", "differ", "use", "case", "to", "help", "understand", "what", "thi", "mean", ".", "exampl", "#", "1", "\u2014", "insert", "array", "take", "a", "look", "at", "the", "code", "below", ".", "in", "thi", "code", ",", "we", "don", "\u2019", "t", "use", "the", "spread", "syntax", ":", "var", "mid", "=", "[", "3", ",", "4", "]", ";", "var", "arr", "=", "[", "1", ",", "2", ",", "mid", ",", "5", ",", "6", "]", ";", "console.log", "(", "arr", ")", ";", "abov", ",", "we", "\u2019", "ve", "creat", "an", "array", "name", "mid", ".", "we", "then", "creat", "a", "second", "array", "which", "contain", "our", "mid", "array", ".", "final", ",", "we", "log", "out", "the", "result", ".", "what", "do", "you", "expect", "arr", "to", "print", "?", "click", "run", "abov", "to", "see", "what", "happen", ".", "here", "is", "the", "output", ":", "[", "1", ",", "2", ",", "[", "3", ",", "4", "]", ",", "5", ",", "6", "]", "is", "that", "the", "result", "you", "expect", "?", "by", "insert", "the", "mid", "array", "into", "the", "arr", "array", ",", "we", "\u2019", "ve", "end", "up", "with", "an", "array", "within", "an", "array", ".", "that", "\u2019", "s", "fine", "if", "that", "wa", "the", "goal", ".", "but", "what", "if", "you", "want", "onli", "a", "singl", "array", "with", "the", "valu", "of", "1", "through", "6", "?", "to", "accomplish", "thi", ",", "we", "can", "use", "the", "spread", "syntax", "!", "rememb", ",", "the", "spread", "syntax", "allow", "the", "element", "of", "our", "array", "to", "expand", ".", "let", "look", "at", "the", "code", "below", ".", "everyth", "is", "the", "same", "\u2014", "except", "we", "\u2019", "re", "now", "use", "the", "spread", "syntax", "to", "insert", "the", "mid", "array", "into", "the", "arr", "array", ":", "var", "mid", "=", "[", "3", ",", "4", "]", ";", "var", "arr", "=", "[", "1", ",", "2", ",", "...", "mid", ",", "5", ",", "6", "]", ";", "console.log", "(", "arr", ")", ";", "and", "when", "you", "hit", "the", "run", "button", ",", "here", "\u2019", "s", "the", "result", ":", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "awesom", "!", "rememb", "the", "spread", "syntax", "definit", "you", "just", "read", "abov", "?", "here", "\u2019", "s", "where", "it", "come", "into", "play", ".", "as", "you", "can", "see", ",", "when", "we", "creat", "the", "arr", "array", "and", "use", "the", "spread", "oper", "on", "the", "mid", "array", ",", "instead", "of", "just", "be", "insert", ",", "the", "mid", "array", "expand", ".", "thi", "expans", "mean", "that", "each", "and", "everi", "element", "in", "the", "mid", "array", "is", "insert", "into", "the", "arr", "array", ".", "instead", "of", "nest", "array", ",", "the", "result", "is", "a", "singl", "array", "of", "number", "rang", "from", "1", "to", "6.", "exampl", "#", "2", "\u2014", "math", "javascript", "ha", "a", "built", "in", "math", "object", "that", "allow", "us", "to", "do", "some", "fun", "math", "calcul", ".", "in", "thi", "exampl", "we", "\u2019", "ll", "be", "look", "at", "math.max", "(", ")", ".", "if", "you", "\u2019", "re", "unfamiliar", ",", "math.max", "(", ")", "return", "the", "largest", "of", "zero", "or", "more", "number", ".", "here", "are", "a", "few", "exampl", ":", "math.max", "(", ")", ";", "//", "-infin", "math.max", "(", "1", ",", "2", ",", "3", ")", ";", "//", "3", "math.max", "(", "100", ",", "3", ",", "4", ")", ";", "//", "100", "as", "you", "can", "see", ",", "if", "you", "want", "to", "find", "the", "maximum", "valu", "of", "multipl", "number", ",", "math.max", "(", ")", "requir", "multipl", "paramet", ".", "you", "unfortun", "can", "\u2019", "t", "simpli", "use", "a", "singl", "array", "as", "input", ".", "befor", "the", "spread", "syntax", ",", "the", "easiest", "way", "to", "use", "math.max", "(", ")", "on", "an", "array", "is", "to", "use", ".appli", "(", ")", "var", "arr", "=", "[", "2", ",", "4", ",", "8", ",", "6", ",", "0", "]", ";", "function", "max", "(", "arr", ")", "{", "return", "math.max.appli", "(", "null", ",", "arr", ")", ";", "}", "console.log", "(", "max", "(", "arr", ")", ")", ";", "it", "work", ",", "it", "\u2019", "s", "just", "realli", "annoy", ".", "now", "take", "a", "look", "at", "how", "we", "do", "the", "same", "exact", "thing", "with", "the", "spread", "syntax", ":", "var", "arr", "=", "[", "2", ",", "4", ",", "8", ",", "6", ",", "0", "]", ";", "var", "max", "=", "math.max", "(", "...", "arr", ")", ";", "console.log", "(", "max", ")", ";", "instead", "of", "have", "to", "creat", "a", "function", "and", "util", "the", "appli", "method", "to", "return", "the", "result", "of", "math.max", "(", ")", ",", "we", "onli", "need", "two", "line", "of", "code", "!", "the", "spread", "syntax", "expand", "our", "array", "element", "and", "input", "each", "element", "in", "our", "array", "individu", "into", "the", "math.max", "(", ")", "method", "!", "exampl", "#", "3", "\u2014", "copi", "an", "array", "in", "javascript", ",", "you", "can", "\u2019", "t", "just", "copi", "an", "array", "by", "set", "a", "new", "variabl", "equal", "to", "alreadi", "exist", "array", ".", "consid", "the", "follow", "code", "exampl", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "arr", ";", "console.log", "(", "arr2", ")", ";", "when", "you", "press", "run", ",", "you", "\u2019", "ll", "get", "the", "follow", "output", ":", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", "now", ",", "at", "first", "glanc", ",", "it", "look", "like", "it", "work", "\u2014", "it", "look", "like", "we", "\u2019", "ve", "copi", "the", "valu", "of", "arr", "into", "arr2", ".", "but", "that", "\u2019", "s", "not", "what", "ha", "happen", ".", "you", "see", ",", "when", "work", "with", "object", "in", "javascript", "(", "array", "are", "a", "type", "of", "object", ")", "we", "assign", "by", "refer", ",", "not", "by", "valu", ".", "thi", "mean", "that", "arr2", "ha", "been", "assign", "to", "the", "same", "refer", "as", "arr", ".", "in", "other", "word", ",", "anyth", "we", "do", "to", "arr2", "will", "also", "affect", "the", "origin", "arr", "array", "(", "and", "vice", "versa", ")", ".", "take", "a", "look", "below", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "arr", ";", "arr2.push", "(", "'d", "'", ")", ";", "console.log", "(", "arr", ")", ";", "abov", ",", "we", "\u2019", "ve", "push", "a", "new", "element", "d", "into", "arr2", ".", "yet", ",", "when", "we", "log", "out", "the", "valu", "of", "arr", ",", "you", "\u2019", "ll", "see", "that", "the", "d", "valu", "wa", "also", "ad", "to", "that", "array", ":", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", ",", "'d", "'", "]", "no", "need", "to", "fear", "though", "!", "we", "can", "use", "the", "spread", "oper", "!", "consid", "the", "code", "below", ".", "it", "\u2019", "s", "almost", "the", "same", "as", "abov", ".", "instead", "though", ",", "we", "\u2019", "ve", "use", "the", "spread", "oper", "within", "a", "pair", "of", "squar", "bracket", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "console.log", "(", "arr2", ")", ";", "hit", "run", ",", "and", "you", "\u2019", "ll", "see", "the", "expect", "output", ":", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", "abov", ",", "the", "array", "valu", "in", "arr", "expand", "to", "becom", "individu", "element", "which", "were", "then", "assign", "to", "arr2", ".", "we", "can", "now", "chang", "the", "arr2", "array", "as", "much", "as", "we", "\u2019", "d", "like", "with", "no", "consequ", "on", "the", "origin", "arr", "array", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "arr2.push", "(", "'d", "'", ")", ";", "console.log", "(", "arr", ")", ";", "again", ",", "the", "reason", "thi", "work", "is", "becaus", "the", "valu", "of", "arr", "is", "expand", "to", "fill", "the", "bracket", "of", "our", "arr2", "array", "definit", ".", "thu", ",", "we", "are", "set", "arr2", "to", "equal", "the", "individu", "valu", "of", "arr", "instead", "of", "the", "refer", "to", "arr", "like", "we", "did", "in", "the", "first", "exampl", ".", "bonu", "exampl", "\u2014", "string", "to", "array", "as", "a", "fun", "final", "exampl", ",", "you", "can", "use", "the", "spread", "syntax", "to", "convert", "a", "string", "into", "an", "array", ".", "simpli", "use", "the", "spread", "syntax", "within", "a", "pair", "of", "squar", "bracket", ":", "var", "str", "=", "``", "hello", "''", ";", "var", "char", "=", "[", "...", "str", "]", ";", "console.log", "(", "char", ")", ";", "the", "three", "dot", "(", "...", ")", "are", "call", "the", "spread", "oper", ",", "and", "thi", "is", "conceptu", "similar", "to", "the", "es6", "array", "spread", "oper", ",", "jsx", "take", "advantag", "of", "these", "support", "and", "develop", "standard", "in", "order", "to", "provid", "a", "cleaner", "syntax", "in", "jsx", "spread", "properti", "in", "object", "initi", "copi", "own", "enumer", "properti", "from", "a", "provid", "object", "onto", "the", "newli", "creat", "object", ".", "let", "n", "=", "{", "x", ",", "y", ",", "...", "z", "}", ";", "n", ";", "//", "{", "x", ":", "1", ",", "y", ":", "2", ",", "a", ":", "3", ",", "b", ":", "4", "}", "refer", ":", "1", ")", "http", ":", "//github.com/sebmarkbage/ecmascript-rest-spread", "#", "spread-properti", "2", ")", "http", ":", "//facebook.github.io/react/docs/jsx-spread.html", "...", "(", "three", "dot", "in", "javascript", ")", "is", "call", "the", "spread", "syntax", "or", "spread", "oper", ".", "thi", "allow", "an", "iter", "such", "as", "an", "array", "express", "or", "string", "to", "be", "expand", "or", "an", "object", "express", "to", "be", "expand", "wherev", "place", ".", "thi", "is", "not", "specif", "to", "react", ".", "it", "is", "a", "javascript", "oper", ".", "all", "these", "answer", "here", "are", "help", ",", "but", "i", "want", "to", "list", "down", "the", "mostli", "use", "practic", "use", "case", "of", "the", "spread", "syntax", "(", "spread", "oper", ")", ".", "1.", "combin", "array", "(", "concaten", "array", ")", "there", "are", "a", "varieti", "of", "way", "to", "combin", "array", ",", "but", "the", "spread", "oper", "allow", "you", "to", "place", "thi", "at", "ani", "place", "in", "an", "array", ".", "if", "you", "'d", "like", "to", "combin", "two", "array", "and", "place", "element", "at", "ani", "point", "within", "the", "array", ",", "you", "can", "do", "as", "follow", ":", "var", "arr1", "=", "[", "'two", "'", ",", "'three", "'", "]", ";", "var", "arr2", "=", "[", "'one", "'", ",", "...", "arr1", ",", "'four", "'", ",", "'five", "'", "]", ";", "//", "arr2", "=", "[", "``", "one", "''", ",", "``", "two", "''", ",", "``", "three", "''", ",", "``", "four", "''", ",", "``", "five", "''", "]", "2.", "copi", "array", "when", "we", "want", "a", "copi", "of", "an", "array", ",", "we", "use", "to", "have", "the", "array.prototypr.slic", "(", ")", "method", ".", "but", ",", "you", "can", "do", "the", "same", "with", "the", "spread", "oper", ".", "var", "arr", "=", "[", "1,2,3", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "//", "arr2", "=", "[", "1,2,3", "]", "3.", "call", "function", "without", "appli", "in", "es5", ",", "to", "pass", "an", "array", "of", "two", "number", "to", "the", "dostuff", "(", ")", "function", ",", "you", "often", "use", "the", "function.prototype.appli", "(", ")", "method", "as", "follow", ":", "function", "dostuff", "(", "x", ",", "y", ",", "z", ")", "{", "}", "var", "arg", "=", "[", "0", ",", "1", ",", "2", "]", ";", "//", "call", "the", "function", ",", "pass", "arg", "dostuff.appli", "(", "null", ",", "arg", ")", ";", "howev", ",", "by", "use", "the", "spread", "oper", ",", "you", "can", "pass", "an", "array", "into", "the", "function", ".", "dostuff", "(", "...", "arg", ")", ";", "4.", "destructur", "array", "you", "can", "use", "destructur", "and", "the", "rest", "oper", "togeth", "to", "extract", "the", "inform", "into", "variabl", "as", "you", "'d", "like", "them", ":", "let", "{", "x", ",", "y", ",", "...", "z", "}", "=", "{", "x", ":", "1", ",", "y", ":", "2", ",", "a", ":", "3", ",", "b", ":", "4", "}", ";", "console.log", "(", "x", ")", ";", "//", "1", "console.log", "(", "y", ")", ";", "//", "2", "console.log", "(", "z", ")", ";", "//", "{", "a", ":", "3", ",", "b", ":", "4", "}", "5.", "function", "argument", "as", "rest", "paramet", "es6", "also", "ha", "the", "three", "dot", "(", "...", ")", "which", "is", "a", "rest", "paramet", "that", "collect", "all", "remain", "argument", "of", "a", "function", "into", "an", "array", ".", "function", "f", "(", "a", ",", "b", ",", "...", "arg", ")", "{", "console.log", "(", "arg", ")", ";", "}", "f", "(", "1,2,3,4,5", ")", ";", "//", "[", "3", ",", "4", ",", "5", "]", "6.", "use", "math", "function", "ani", "function", "where", "spread", "is", "use", "as", "the", "argument", "can", "be", "use", "by", "function", "that", "can", "accept", "ani", "number", "of", "argument", ".", "let", "number", "=", "[", "9", ",", "4", ",", "7", ",", "1", "]", ";", "math.min", "(", "...", "number", ")", ";", "//", "1", "7.", "combin", "two", "object", "you", "can", "use", "the", "spread", "oper", "to", "combin", "two", "object", ".", "thi", "is", "an", "easi", "and", "cleaner", "way", "to", "do", "it", ".", "var", "cartyp", "=", "{", "model", ":", "'toyota", "'", ",", "yom", ":", "'1995", "'", "}", ";", "var", "carfuel", "=", "'petrol", "'", ";", "var", "cardata", "=", "{", "...", "cartyp", ",", "carfuel", "}", "console.log", "(", "cardata", ")", ";", "//", "{", "//", "model", ":", "'toyota", "'", ",", "//", "yom", ":", "'1995", "'", ",", "//", "carfuel", "=", "'petrol", "'", "//", "}", "8.", "separ", "a", "string", "into", "separ", "charact", "you", "can", "use", "the", "spread", "oper", "to", "spread", "a", "string", "into", "separ", "charact", ".", "let", "char", "=", "[", "'", "a", "'", ",", "...", "'bc", "'", ",", "'d", "'", "]", ";", "console.log", "(", "char", ")", ";", "//", "[", "``", "a", "''", ",", "``", "b", "''", ",", "``", "c", "''", ",", "``", "d", "''", "]", "you", "can", "think", "of", "more", "way", "to", "use", "the", "spread", "oper", ".", "what", "i", "have", "list", "here", "are", "the", "popular", "use", "case", "of", "it", ".", "the", "mean", "of", "...", "depend", "on", "where", "you", "use", "it", "in", "the", "code", ",", "use", "for", "spreading/copi", "the", "array/object", "-", "it", "help", "to", "copi", "array/object", "and", "also", "add", "new", "array", "values/add", "new", "properti", "to", "object", ",", "which", "is", "option", ".", "const", "number", "=", "[", "1,2,3", "]", ";", "const", "newnumb", "=", "[", "...", "number", ",", "4", "]", ";", "console.log", "(", "newnumb", ")", "//print", "[", "1,2,3,4", "]", "const", "person", "=", "{", "name", ":", "'max", "'", "}", ";", "const", "newperson", "=", "{", "...", "person", ",", "age:28", "}", ";", "console.log", "(", "newperson", ")", ";", "//print", "{", "name", ":", "'max", "'", ",", "age:28", "}", "use", "for", "merg", "the", "function", "argument", "into", "a", "singl", "array", "-", "you", "can", "then", "use", "array", "function", "on", "it", ".", "const", "filter", "=", "(", "...", "arg", ")", "=", ">", "{", "return", "args.filt", "(", "el", "=", ">", "el", "===1", ")", ";", "}", "console.log", "(", "filter", "(", "1,2,3", ")", ")", ";", "//print", "[", "1", "]", "thi", "a", "spread", "oper", "...", "for", "exampl", "if", "you", "have", "an", "array", "first=", "[", "1,2,3,4,5", "]", "and", "anoth", "second=", "[", "6,7,8", "]", ".", "[", "...", "first", ",", "...", "second", "]", "//result", "is", "[", "1,2,3,4,5,6,7,8", "]", "the", "same", "can", "also", "be", "done", "with", "json", "object", ".", "in", "a", "short", ",", "the", "three", "dot", "...", "is", "a", "spread", "oper", "in", "es6", "(", "es2015", ")", ".", "spread", "oper", "will", "fetch", "all", "the", "data", ".", "let", "a", "=", "[", "1", ",", "2", ",", "3", ",", "4", "]", ";", "let", "b", "=", "[", "...", "a", ",", "4", ",", "5", ",", "6", "]", ";", "let", "c", "=", "[", "7,8", ",", "...", "a", "]", ";", "console.log", "(", "b", ")", ";", "will", "give", "the", "result", "[", "1,2,3,4,5,6", "]", "console.log", "(", "c", ")", ";", "will", "give", "the", "result", "[", "7,8,1,2,3,4", "]", "spread", "attribut", "use", "to", "pass", "the", "multipl", "properti", "in", "a", "simpl", "way", "{", "...", "this.prop", "}", "is", "hold", "the", "properti", "of", "this.prop", "use", "of", "the", "{", "...", "}", "spread", "oper", "with", "below", "prop", "this.prop", "=", "{", "firstnam", ":", "'dan", "'", ",", "lastnam", ":", "'abramov", "'", ",", "citi", ":", "'new", "york", "'", ",", "countri", ":", "'usa", "'", "}", "without", "{", "...", "}", "spread", "<", "child", "firstname=", "{", "this.props.firstnam", "}", "lastname=", "{", "this.props.lastnam", "}", "city=", "{", "this.props.c", "}", "country=", "{", "this.props.countri", "}", ">", "with", "{", "...", "}", "spread", "<", "child", "{", "...", "this.prop", "}", "/", ">", "dan", "abramov", "'s", "tweet", "about", "spread", "oper", "(", "creator", "of", "redux", ")", "is", "usual", "call", "spread", "oper", ",", "it", "is", "use", "to", "expand", "wherev", "is", "requir", "exampl", "const", "somestyl", "=", "{", "margin:10", ",", "background", ":", "#", "somehexa", "}", "you", "can", "use", "thi", "where", "ever", "you", "requir", "it", "more", "about", "spread", "oper", "spread", "syntax", ".", "...", "thi", "syntax", "is", "part", "of", "es6", "and", "not", "someth", "which", "you", "can", "use", "onli", "in", "react.it", "can", "be", "use", "in", "two", "differ", "way", ";", "as", "a", "spread", "oper", "or", "as", "a", "rest", "parameter.y", "can", "find", "more", "from", "thi", "articl", ":", "http", ":", "//www.techiediaries.com/react-spread-operator-props-setstate/", "what", "you", "have", "mention", "in", "the", "question", "is", "someth", "like", "thi", ",", "let", "'s", "assum", "like", "thi", ",", "function", "hellous", "(", ")", "{", "return", "<", "hello", "name=", "''", "abc", "''", "city=", "''", "xyz", "''", "/", ">", ";", "}", "with", "the", "use", "of", "spread", "oper", "you", "can", "pass", "prop", "to", "the", "compon", "like", "thi", ".", "function", "hellous", "(", ")", "{", "const", "prop", "=", "{", "name", ":", "'abc", "'", ",", "citi", ":", "'xyz", "'", "}", ";", "return", "<", "hello", "{", "...", "prop", "}", "/", ">", ";", "}", "it", "is", "common", "practic", "to", "pass", "prop", "around", "in", "a", "react", "applic", ".", "in", "do", "thi", "we", "abl", "to", "appli", "state", "chang", "to", "the", "child", "compon", "regardless", "of", "whether", "it", "is", "pure", "or", "impur", "(", "stateless", "or", "state", ")", ".", "there", "are", "time", "when", "the", "best", "approach", ",", "when", "pass", "in", "prop", ",", "is", "to", "pass", "in", "singular", "properti", "or", "an", "entir", "object", "of", "properti", ".", "with", "the", "support", "for", "array", "in", "es6", "we", "were", "given", "the", "``", "...", "''", "notat", "and", "with", "thi", "we", "are", "now", "abl", "to", "achiev", "pass", "an", "entir", "object", "to", "a", "child", ".", "the", "typic", "process", "of", "pass", "prop", "to", "a", "child", "is", "note", "with", "thi", "syntax", ":", "var", "compon", "=", "<", "compon", "foo=", "{", "x", "}", "bar=", "{", "y", "}", "/", ">", ";", "thi", "is", "fine", "to", "use", "when", "the", "number", "of", "prop", "is", "minim", "but", "becom", "unmanag", "when", "the", "prop", "number", "get", "too", "much", "higher", ".", "a", "problem", "with", "thi", "method", "occur", "when", "you", "do", "not", "know", "the", "properti", "need", "within", "a", "child", "compon", "and", "the", "typic", "javascript", "method", "is", "to", "simpl", "set", "those", "properti", "and", "bind", "to", "the", "object", "later", ".", "thi", "caus", "issu", "with", "proptyp", "check", "and", "cryptic", "stack", "trace", "error", "that", "are", "not", "help", "and", "caus", "delay", "in", "debug", ".", "the", "follow", "is", "an", "exampl", "of", "thi", "practic", ",", "and", "what", "not", "to", "do", ":", "var", "compon", "=", "<", "compon", "/", ">", ";", "component.props.foo", "=", "x", ";", "//", "bad", "component.props.bar", "=", "y", ";", "thi", "same", "result", "can", "be", "achiev", "but", "with", "more", "appropri", "success", "by", "do", "thi", ":", "var", "prop", "=", "{", "}", ";", "props.foo", "=", "x", ";", "props.bar", "=", "y", ";", "var", "compon", "=", "compon", "(", "prop", ")", ";", "//", "where", "did", "my", "jsx", "go", "?", "but", "doe", "not", "use", "jsx", "spread", "or", "jsx", "so", "to", "loop", "thi", "back", "into", "the", "equat", "we", "can", "now", "do", "someth", "like", "thi", ":", "var", "prop", "=", "{", "}", ";", "props.foo", "=", "x", ";", "props.bar", "=", "y", ";", "var", "compon", "=", "<", "compon", "{", "...", "prop", "}", "/", ">", ";", "the", "properti", "includ", "in", "``", "...", "prop", "''", "are", "foo", ":", "x", ",", "bar", ":", "y.", "thi", "can", "be", "combin", "with", "other", "attribut", "to", "overrid", "the", "properti", "of", "``", "...", "prop", "''", "use", "thi", "syntax", ":", "var", "prop", "=", "{", "foo", ":", "'default", "'", "}", ";", "var", "compon", "=", "<", "compon", "{", "...", "prop", "}", "foo=", "{", "'overrid", "'", "}", "/", ">", ";", "console.log", "(", "component.props.foo", ")", ";", "//", "'overrid", "'", "in", "addit", "we", "can", "copi", "other", "properti", "object", "onto", "each", "other", "or", "combin", "them", "in", "thi", "manner", ":", "var", "oldobj", "=", "{", "foo", ":", "'hello", "'", ",", "bar", ":", "'world", "'", "}", ";", "var", "newobj", "=", "{", "...", "oldobj", ",", "foo", ":", "'hi", "'", "}", ";", "console.log", "(", "newobj.foo", ")", ";", "//", "'hi", "'", ";", "console.log", "(", "newobj.bar", ")", ";", "//", "'world", "'", ";", "or", "merg", "two", "differ", "object", "like", "thi", "(", "thi", "is", "not", "yet", "avail", "in", "all", "react", "version", ")", ":", "var", "ab", "=", "{", "...", "a", ",", "...", "b", "}", ";", "//", "merg", "(", "a", ",", "b", ")", "anoth", "way", "of", "explain", "thi", ",", "accord", "to", "facebook", "'s", "react/doc", "site", "is", ":", "if", "you", "alreadi", "have", "``", "prop", "''", "as", "an", "object", ",", "and", "you", "want", "to", "pass", "it", "in", "jsx", ",", "you", "can", "use", "``", "...", "''", "as", "a", "spread", "oper", "to", "pass", "the", "whole", "prop", "object", ".", "the", "follow", "two", "exampl", "are", "equival", ":", "function", "app1", "(", ")", "{", "return", "<", "greet", "firstname=", "''", "ben", "''", "lastname=", "''", "hector", "''", "/", ">", ";", "}", "function", "app2", "(", ")", "{", "const", "prop", "=", "{", "firstnam", ":", "'ben", "'", ",", "lastnam", ":", "'hector", "'", "}", ";", "return", "<", "greet", "{", "...", "prop", "}", "/", ">", ";", "}", "spread", "attribut", "can", "be", "use", "when", "you", "are", "build", "gener", "contain", ".", "howev", ",", "they", "can", "also", "make", "your", "code", "messi", "by", "make", "it", "easi", "to", "pass", "a", "lot", "of", "irrelev", "prop", "to", "compon", "that", "do", "n't", "care", "about", "them", ".", "thi", "syntax", "should", "be", "use", "sparingli", ".", "it", "call", "spread", "oper", ".", "for", "eg", "let", "hello=", "{", "name", ":", "``", ",", "msg", ":", "''", "}", "let", "hello1=", "{", "...", "hello", "}", "now", "hello", "object", "properti", "is", "copi", "to", "hello1", ".", "it", "is", "call", "spread", "syntax", "in", "javascript", ".", "it", "use", "for", "destructur", "an", "array", "or", "object", "in", "javascript", ".", "exampl", ":", "const", "obja", "=", "{", "a", ":", "1", ",", "b", ":", "2", ",", "c", ":", "3", "}", "const", "objb", "=", "{", "...", "obja", ",", "d", ":", "1", "}", "/", "*", "result", "of", "objb", "will", "be", "{", "a", ":", "1", ",", "b", ":", "2", ",", "c", ":", "3", ",", "d", ":", "1", "}", "*", "/", "console.log", "(", "objb", ")", "const", "objc", "=", "{", "....", "obja", ",", "a", ":", "3", "}", "/", "*", "result", "of", "objc", "will", "be", "{", "a", ":", "3", ",", "b", ":", "2", ",", "c", ":", "3", ",", "d", ":", "1", "}", "*", "/", "console.log", "(", "objc", ")", "you", "can", "do", "it", "same", "result", "with", "object.assign", "(", ")", "function", "in", "javascript", ".", "refer", ":", "spread", "syntax", "thi", "will", "be", "compil", "into", ":", "react.createel", "(", "modal", ",", "{", "...", "this.prop", ",", "titl", ":", "``", "modal", "head", "''", ",", "anim", ":", "fals", "}", ",", "child0", ",", "child1", ",", "child2", ",", "...", ")", "where", "it", "give", "more", "two", "properti", "titl", "&", "anim", "beyond", "the", "prop", "the", "host", "element", "ha", ".", "...", "is", "the", "es6", "oper", "call", "spread", ".", "see", "http", ":", "//developer.mozilla.org/en-us/docs/web/javascript/reference/operators/spread_syntax", "spread", "oper", "(", "tripl", "oper", ")", "introduc", "in", "ecama", "script", "6", "(", "es6", ")", ".ecama", "script", "(", "es6", ")", "is", "a", "wrapper", "of", "javascript", ".", "spread", "oper", "enumer", "properti", "in", "prop", ".", "this.prop", "=", "{", "firstnam", ":", "'dan", "'", ",", "lastnam", ":", "'abramov", "'", ",", "citi", ":", "'new", "york", "'", ",", "countri", ":", "'usa", "'", "}", "{", "...", "this.prop", "}", "=", "{", "firstnam", ":", "'dan", "'", ",", "lastnam", ":", "'abramov", "'", ",", "citi", ":", "'new", "york", "'", ",", "countri", ":", "'usa", "'", "}", "but", "the", "main", "featur", "spread", "oper", "is", "use", "for", "a", "refer", "type", ".", "for", "exampl", "let", "person=", "{", "name", ":", "'alex", "'", ",", "age", ":", "35", "}", "person1=", "person", ";", "person1.nam", "=", "``", "raheel", "''", ";", "console.log", "(", "person.nam", ")", ";", "//", "output", ":", "raheel", "thi", "is", "call", "refer", "type", ",", "one", "object", "affect", "other", "object", "becaus", "they", "are", "shareabl", "in", "memori", ".", "if", "you", "get", "valu", "independ", "mean", "spread", "memori", "both", "use", "spread", "oper", ".", "let", "person=", "{", "name", ":", "'alex", "'", ",", "age", ":", "35", "}", "person2", "=", "{", "...", "person", "}", ";", "person2.nam", "=", "``", "shahzad", "''", ";", "console.log", "(", "person.nam", ")", ";", "//", "output", ":", "alex", "if", "you", "have", "an", "array", "of", "element", "and", "you", "want", "to", "display", "the", "element", "you", "just", "use", "...", "arrayema", "and", "it", "will", "iter", "over", "all", "the", "element", "const", "profil", "=", "{", "firstnam", ":", "``", "kazi", "''", ",", "lastnam", ":", "``", "ahsan", "''", "}", "const", "profileupd", "=", "{", "firstnam", ":", "``", "kazi", "''", ",", "lastnam", ":", "``", "ahsan", "''", "}", "const", "newprofil", "=", "{", "...", "profil", ",", "...", "profileupd", "}", "hope", "thi", "help", "someon", ".", "these", "three", "dot", "are", "call", "spread", "oper", ".", "spread", "oper", "help", "us", "to", "creat", "a", "copi", "state", "or", "prop", "in", "react", ".", "use", "spread", "oper", "in", "react", "state", "const", "[", "mystat", ",", "setmyst", "]", "=", "usest", "(", "{", "variable1", ":", "'test", "'", ",", "variable2", ":", "``", ",", "variable3", ":", "``", "}", ")", ";", "setmyst", "(", "{", "...", "mystat", ",", "variable2", ":", "'new", "valu", "here", "'", "}", ")", ";", "in", "the", "abov", "code", "spread", "oper", "will", "maintain", "a", "copi", "of", "current", "state", "and", "we", "will", "also", "add", "new", "valu", "at", "same", "time", ",", "if", "we", "do", "n't", "do", "thi", "then", "state", "will", "have", "onli", "valu", "of", "variable2", "spread", "oper", "help", "us", "to", "write", "optim", "code", "thi", "is", "a", "new", "featur", "in", "es6/harmoni", ".", "it", "is", "call", "the", "spread", "oper", ".", "it", "let", "you", "either", "separ", "the", "constitu", "part", "of", "an", "array/object", ",", "or", "take", "multipl", "items/paramet", "and", "glue", "them", "togeth", ".", "here", "is", "an", "exampl", ":", "let", "array", "=", "[", "1,2,3", "]", "let", "array2", "=", "[", "...", "array", "]", "//", "array2", "is", "now", "fill", "with", "the", "item", "from", "array", "and", "with", "an", "object/key", ":", "//", "let", "pass", "an", "object", "as", "prop", "to", "a", "react", "compon", "let", "myparamet", "=", "{", "mykey", ":", "5", ",", "myotherkey", ":", "7", "}", "let", "compon", "=", "<", "mycompon", "{", "...", "myparamet", "}", "/", ">", "//", "thi", "is", "equal", "to", "<", "mycompon", "mykey=5", "myotherkey=7", "/", ">", "what", "'s", "realli", "cool", "is", "you", "can", "use", "it", "to", "mean", "``", "the", "rest", "of", "the", "valu", "''", ".", "const", "myfunc", "=", "(", "value1", ",", "value2", ",", "...", "valu", ")", "{", "//", "some", "code", "}", "myfunc", "(", "1", ",", "2", ",", "3", ",", "4", ",", "5", ")", "//", "when", "myfunc", "is", "call", ",", "the", "rest", "of", "the", "variabl", "are", "place", "into", "the", "``", "valu", "''", "array", "for", "someon", "who", "want", "to", "understand", "thi", "simpl", "and", "fast", ":", "first", "of", "all", ",", "thi", "is", "not", "a", "syntax", "onli", "to", "react", ".", "thi", "is", "a", "syntax", "from", "es6", "call", "spread", "syntax", "which", "iter", "(", "merg", ",", "add", "..", "etc", ")", "array", "and", "object", ".", "read", "more", "about", "here", "so", "answer", "to", "the", "question", ":", "let", "'s", "imagin", "you", "have", "thi", "tag", ":", "<", "usertag", "name=", "''", "supun", "''", "age=", "''", "66", "''", "gender=", "''", "male", "''", "/", ">", "and", "you", "do", "thi", ":", "const", "user", "=", "{", "``", "name", "''", "=", ">", "''", "joe", "''", ",", "``", "age", "''", "=", ">", "''", "50", "''", "``", "test", "''", "=", ">", "''", "test-val", "''", "}", ";", "<", "usertag", "name=", "''", "supun", "''", "gender=", "''", "male", "''", "{", "...", "user", "}", "age=", "''", "66", "''", "/", ">", "then", "the", "tag", "will", "equal", "thi", ":", "<", "usertag", "name=", "''", "joe", "''", "gender=", "''", "male", "''", "test=", "''", "test-val", "''", "age=", "''", "66", "''", "/", ">", "so", "what", "happen", "wa", "when", "you", "use", "spread", "syntax", "in", "a", "react", "tag", "it", "take", "tag", "'s", "attribut", "as", "object", "attribut", "which", "merg", "(", "replac", "if", "it", "exist", ")", "with", "the", "given", "object", "user", ".", "also", ",", "you", "might", "have", "notic", "one", "thing", "that", "it", "onli", "replac", "befor", "attribut", ",", "not", "after", "attribut", ".", "so", "in", "thi", "exampl", "age", "remain", "as", "it", "is", ".", "hope", "thi", "help", ":", ")", "those", "are", "call", "spread", ".", "just", "as", "the", "name", "impli", ".", "it", "mean", "it", "'s", "put", "whatev", "the", "valu", "of", "it", "in", "those", "array", "or", "object", ".", "such", "as", ":", "let", "a", "=", "[", "1", ",", "2", ",", "3", "]", ";", "let", "b", "=", "[", "...", "a", ",", "4", ",", "5", ",", "6", "]", ";", "console.log", "(", "b", ")", ";", ">", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "i", "'m", "tri", "to", "find", "the", "proper", "way", "to", "defin", "some", "compon", "which", "could", "be", "use", "in", "a", "gener", "way", ":", "<", "parent", ">", "<", "child", "value=", "''", "1", "''", ">", "<", "child", "value=", "''", "2", "''", ">", "<", "/parent", ">", "there", "is", "a", "logic", "go", "on", "for", "render", "between", "parent", "and", "children", "compon", "of", "cours", ",", "you", "can", "imagin", "<", "select", ">", "and", "<", "option", ">", "as", "an", "exampl", "of", "thi", "logic", ".", "thi", "is", "a", "dummi", "implement", "for", "the", "purpos", "of", "the", "question", ":", "var", "parent", "=", "react.createclass", "(", "{", "dosometh", ":", "function", "(", "valu", ")", "{", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "div", ">", "{", "this.props.children", "}", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "var", "child", "=", "react.createclass", "(", "{", "onclick", ":", "function", "(", ")", "{", "this.props.dosometh", "(", "this.props.valu", ")", ";", "//", "dosometh", "is", "undefin", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "the", "question", "is", "whenev", "you", "use", "{", "this.props.children", "}", "to", "defin", "a", "wrapper", "compon", ",", "how", "do", "you", "pass", "down", "some", "properti", "to", "all", "it", "children", "?", "clone", "children", "with", "new", "prop", "you", "can", "use", "react.children", "to", "iter", "over", "the", "children", ",", "and", "then", "clone", "each", "element", "with", "new", "prop", "(", "shallow", "merg", ")", "use", "react.cloneel", ".", "for", "exampl", ":", "const", "child", "=", "(", "{", "dosometh", ",", "valu", "}", ")", "=", ">", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "dosometh", "(", "valu", ")", "}", ">", "click", "me", "<", "/button", ">", ")", ";", "class", "parent", "extend", "react.compon", "{", "dosometh", "=", "valu", "=", ">", "{", "console.log", "(", "``", "dosometh", "call", "by", "child", "with", "valu", ":", "''", ",", "valu", ")", ";", "}", "render", "(", ")", "{", "const", "childrenwithprop", "=", "react.children.map", "(", "this.props.children", ",", "child", "=", ">", "{", "//", "check", "isvalidel", "is", "the", "safe", "way", "and", "avoid", "a", "typescript", "error", "too", "const", "prop", "=", "{", "dosometh", "}", ";", "if", "(", "react.isvalidel", "(", "child", ")", ")", "{", "return", "react.cloneel", "(", "child", ",", "prop", ")", ";", "}", "return", "child", ";", "}", ")", ";", "return", "<", "div", ">", "{", "childrenwithprop", "}", "<", "/div", ">", ";", "}", "}", "function", "app", "(", ")", "{", "return", "(", "<", "parent", ">", "<", "child", "value=", "{", "1", "}", "/", ">", "<", "child", "value=", "{", "2", "}", "/", ">", "<", "/parent", ">", ")", ";", "}", "reactdom.rend", "(", "<", "app", "/", ">", ",", "document.getelementbyid", "(", "``", "contain", "''", ")", ")", ";", "fiddl", ":", "http", ":", "//jsfiddle.net/2q294y43/2/", "call", "children", "as", "a", "function", "altern", ",", "you", "can", "pass", "prop", "to", "children", "with", "render", "prop", ".", "in", "thi", "approach", ",", "the", "children", "(", "which", "can", "be", "children", "or", "ani", "other", "prop", "name", ")", "is", "a", "function", "which", "can", "accept", "ani", "argument", "you", "want", "to", "pass", "and", "return", "the", "children", ":", "const", "child", "=", "(", "{", "dosometh", ",", "valu", "}", ")", "=", ">", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "dosometh", "(", "valu", ")", "}", ">", "click", "me", "<", "/button", ">", ")", ";", "class", "parent", "extend", "react.compon", "{", "dosometh", "=", "valu", "=", ">", "{", "console.log", "(", "``", "dosometh", "call", "by", "child", "with", "valu", ":", "''", ",", "valu", ")", ";", "}", "render", "(", ")", "{", "//", "note", "that", "children", "is", "call", "as", "a", "function", "and", "we", "can", "pass", "arg", "to", "it", "return", "<", "div", ">", "{", "this.props.children", "(", "dosometh", ")", "}", "<", "/div", ">", "}", "}", ";", "function", "app", "(", ")", "{", "return", "(", "<", "parent", ">", "{", "dosometh", "=", ">", "(", "<", "react.frag", ">", "<", "child", "dosomething=", "{", "dosometh", "}", "value=", "{", "1", "}", "/", ">", "<", "child", "dosomething=", "{", "dosometh", "}", "value=", "{", "2", "}", "/", ">", "<", "/react.frag", ">", ")", "}", "<", "/parent", ">", ")", ";", "}", "reactdom.rend", "(", "<", "app", "/", ">", ",", "document.getelementbyid", "(", "``", "contain", "''", ")", ")", ";", "instead", "of", "<", "react.frag", ">", "or", "simpli", "<", ">", "you", "can", "also", "return", "an", "array", "if", "you", "prefer", ".", "fiddl", ":", "http", ":", "//jsfiddle.net/ferahl/y5pcua68/7/", "for", "a", "slightli", "cleaner", "way", "to", "do", "it", ",", "tri", ":", "<", "div", ">", "{", "react.cloneel", "(", "this.props.children", ",", "{", "loggedin", ":", "this.state.loggedin", "}", ")", "}", "<", "/div", ">", "edit", ":", "to", "use", "with", "multipl", "individu", "children", "(", "the", "child", "must", "itself", "be", "a", "compon", ")", "you", "can", "do", ".", "test", "in", "16.8.6", "<", "div", ">", "{", "react.cloneel", "(", "props.children", "[", "0", "]", ",", "{", "loggedin", ":", "true", ",", "testingtwo", ":", "true", "}", ")", "}", "{", "react.cloneel", "(", "props.children", "[", "1", "]", ",", "{", "loggedin", ":", "true", ",", "testprop", ":", "fals", "}", ")", "}", "<", "/div", ">", "tri", "thi", "<", "div", ">", "{", "react.cloneel", "(", "this.props.children", ",", "{", "...", "this.prop", "}", ")", "}", "<", "/div", ">", "it", "work", "for", "me", "use", "react-15.1", ".", "pass", "prop", "to", "direct", "children", ".", "see", "all", "other", "answer", "pass", "share", ",", "global", "data", "through", "the", "compon", "tree", "via", "context", "context", "is", "design", "to", "share", "data", "that", "can", "be", "consid", "\u201c", "global", "\u201d", "for", "a", "tree", "of", "react", "compon", ",", "such", "as", "the", "current", "authent", "user", ",", "theme", ",", "or", "prefer", "languag", ".", "1", "disclaim", ":", "thi", "is", "an", "updat", "answer", ",", "the", "previou", "one", "use", "the", "old", "context", "api", "it", "is", "base", "on", "consum", "/", "provid", "principl", ".", "first", ",", "creat", "your", "context", "const", "{", "provid", ",", "consum", "}", "=", "react.createcontext", "(", "defaultvalu", ")", ";", "then", "use", "via", "<", "provid", "value=", "{", "/", "*", "some", "valu", "*", "/", "}", ">", "{", "children", "}", "/", "*", "potenti", "consum", "*", "/", "<", "provid", "/", ">", "and", "<", "consum", ">", "{", "valu", "=", ">", "/", "*", "render", "someth", "base", "on", "the", "context", "valu", "*", "/", "}", "<", "/consum", ">", "all", "consum", "that", "are", "descend", "of", "a", "provid", "will", "re-rend", "whenev", "the", "provid", "\u2019", "s", "valu", "prop", "chang", ".", "the", "propag", "from", "provid", "to", "it", "descend", "consum", "is", "not", "subject", "to", "the", "shouldcomponentupd", "method", ",", "so", "the", "consum", "is", "updat", "even", "when", "an", "ancestor", "compon", "bail", "out", "of", "the", "updat", ".", "1", "full", "exampl", ",", "semi-pseudo", "code", ".", "import", "react", "from", "'react", "'", ";", "const", "{", "provid", ",", "consum", "}", "=", "react.createcontext", "(", "{", "color", ":", "'white", "'", "}", ")", ";", "class", "app", "extend", "react.compon", "{", "constructor", "(", "prop", ")", "{", "super", "(", "prop", ")", ";", "this.stat", "=", "{", "valu", ":", "{", "color", ":", "'black", "'", "}", ",", "}", ";", "}", "render", "(", ")", "{", "return", "(", "<", "provid", "value=", "{", "this.state.valu", "}", ">", "<", "toolbar", "/", ">", "<", "/provid", ">", ")", ";", "}", "}", "class", "toolbar", "extend", "react.compon", "{", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "p", ">", "consum", "can", "be", "arbitrari", "level", "deep", "<", "/p", ">", "<", "consum", ">", "{", "valu", "=", ">", "<", "p", ">", "the", "toolbar", "will", "be", "in", "color", "{", "value.color", "}", "<", "/p", ">", "}", "<", "/consum", ">", "<", "/div", ">", ")", ";", "}", "}", "1", "http", ":", "//facebook.github.io/react/docs/context.html", "pass", "prop", "to", "nest", "children", "with", "the", "updat", "to", "react", "16.6", "you", "can", "now", "use", "react.createcontext", "and", "contexttyp", ".", "import", "*", "as", "react", "from", "'react", "'", ";", "//", "react.createcontext", "accept", "a", "defaultvalu", "as", "the", "first", "param", "const", "mycontext", "=", "react.createcontext", "(", ")", ";", "class", "parent", "extend", "react.compon", "{", "dosometh", "=", "(", "valu", ")", "=", ">", "{", "//", "do", "someth", "here", "with", "valu", "}", ";", "render", "(", ")", "{", "return", "(", "<", "mycontext.provid", "value=", "{", "{", "dosometh", ":", "this.dosometh", "}", "}", ">", "{", "this.props.children", "}", "<", "/mycontext.provid", ">", ")", ";", "}", "}", "class", "child", "extend", "react.compon", "{", "static", "contexttyp", "=", "mycontext", ";", "onclick", "=", "(", ")", "=", ">", "{", "this.context.dosometh", "(", "this.props.valu", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "{", "this.props.valu", "}", "<", "/div", ">", ")", ";", "}", "}", "//", "exampl", "of", "use", "parent", "and", "child", "import", "*", "as", "react", "from", "'react", "'", ";", "class", "somecompon", "extend", "react.compon", "{", "render", "(", ")", "{", "return", "(", "<", "parent", ">", "<", "child", "value=", "{", "1", "}", "/", ">", "<", "child", "value=", "{", "2", "}", "/", ">", "<", "/parent", ">", ")", ";", "}", "}", "react.createcontext", "shine", "where", "react.cloneel", "case", "could", "n't", "handl", "nest", "compon", "class", "somecompon", "extend", "react.compon", "{", "render", "(", ")", "{", "return", "(", "<", "parent", ">", "<", "child", "value=", "{", "1", "}", "/", ">", "<", "someothercomp", ">", "<", "child", "value=", "{", "2", "}", "/", ">", "<", "/someothercomp", ">", "<", "/parent", ">", ")", ";", "}", "}", "you", "can", "use", "react.cloneel", ",", "it", "'s", "better", "to", "know", "how", "it", "work", "befor", "you", "start", "use", "it", "in", "your", "applic", ".", "it", "'s", "introduc", "in", "react", "v0.13", ",", "read", "on", "for", "more", "inform", ",", "so", "someth", "along", "with", "thi", "work", "for", "you", ":", "<", "div", ">", "{", "react.cloneel", "(", "this.props.children", ",", "{", "...", "this.prop", "}", ")", "}", "<", "/div", ">", "so", "bring", "the", "line", "from", "react", "document", "for", "you", "to", "understand", "how", "it", "'s", "all", "work", "and", "how", "you", "can", "make", "use", "of", "them", ":", "in", "react", "v0.13", "rc2", "we", "will", "introduc", "a", "new", "api", ",", "similar", "to", "react.addons.clonewithprop", ",", "with", "thi", "signatur", ":", "react.cloneel", "(", "element", ",", "prop", ",", "...", "children", ")", ";", "unlik", "clonewithprop", ",", "thi", "new", "function", "doe", "not", "have", "ani", "magic", "built-in", "behavior", "for", "merg", "style", "and", "classnam", "for", "the", "same", "reason", "we", "do", "n't", "have", "that", "featur", "from", "transferpropsto", ".", "nobodi", "is", "sure", "what", "exactli", "the", "complet", "list", "of", "magic", "thing", "are", ",", "which", "make", "it", "difficult", "to", "reason", "about", "the", "code", "and", "difficult", "to", "reus", "when", "style", "ha", "a", "differ", "signatur", "(", "e.g", ".", "in", "the", "upcom", "react", "nativ", ")", ".", "react.cloneel", "is", "almost", "equival", "to", ":", "<", "element.typ", "{", "...", "element.prop", "}", "{", "...", "prop", "}", ">", "{", "children", "}", "<", "/element.typ", ">", "howev", ",", "unlik", "jsx", "and", "clonewithprop", ",", "it", "also", "preserv", "ref", ".", "thi", "mean", "that", "if", "you", "get", "a", "child", "with", "a", "ref", "on", "it", ",", "you", "wo", "n't", "accident", "steal", "it", "from", "your", "ancestor", ".", "you", "will", "get", "the", "same", "ref", "attach", "to", "your", "new", "element", ".", "one", "common", "pattern", "is", "to", "map", "over", "your", "children", "and", "add", "a", "new", "prop", ".", "there", "were", "mani", "issu", "report", "about", "clonewithprop", "lose", "the", "ref", ",", "make", "it", "harder", "to", "reason", "about", "your", "code", ".", "now", "follow", "the", "same", "pattern", "with", "cloneel", "will", "work", "as", "expect", ".", "for", "exampl", ":", "var", "newchildren", "=", "react.children.map", "(", "this.props.children", ",", "function", "(", "child", ")", "{", "return", "react.cloneel", "(", "child", ",", "{", "foo", ":", "true", "}", ")", "}", ")", ";", "note", ":", "react.cloneel", "(", "child", ",", "{", "ref", ":", "'newref", "'", "}", ")", "doe", "overrid", "the", "ref", "so", "it", "is", "still", "not", "possibl", "for", "two", "parent", "to", "have", "a", "ref", "to", "the", "same", "child", ",", "unless", "you", "use", "callback-ref", ".", "thi", "wa", "a", "critic", "featur", "to", "get", "into", "react", "0.13", "sinc", "prop", "are", "now", "immut", ".", "the", "upgrad", "path", "is", "often", "to", "clone", "the", "element", ",", "but", "by", "do", "so", "you", "might", "lose", "the", "ref", ".", "therefor", ",", "we", "need", "a", "nicer", "upgrad", "path", "here", ".", "as", "we", "were", "upgrad", "callsit", "at", "facebook", "we", "realiz", "that", "we", "need", "thi", "method", ".", "we", "got", "the", "same", "feedback", "from", "the", "commun", ".", "therefor", "we", "decid", "to", "make", "anoth", "rc", "befor", "the", "final", "releas", "to", "make", "sure", "we", "get", "thi", "in", ".", "we", "plan", "to", "eventu", "deprec", "react.addons.clonewithprop", ".", "we", "'re", "not", "do", "it", "yet", ",", "but", "thi", "is", "a", "good", "opportun", "to", "start", "think", "about", "your", "own", "use", "and", "consid", "use", "react.cloneel", "instead", ".", "we", "'ll", "be", "sure", "to", "ship", "a", "releas", "with", "deprec", "notic", "befor", "we", "actual", "remov", "it", "so", "no", "immedi", "action", "is", "necessari", ".", "more", "here", "...", "the", "best", "way", ",", "which", "allow", "you", "to", "make", "properti", "transfer", "is", "children", "like", "a", "function", "pattern", "http", ":", "//medium.com/merrickchristensen/function-as-child-components-5f3920a9ace9", "code", "snippet", ":", "http", ":", "//stackblitz.com/edit/react-fcmubc", "exampl", ":", "const", "parent", "=", "(", "{", "children", "}", ")", "=", ">", "{", "const", "somepropsher", "=", "{", "style", ":", "{", "color", ":", "``", "red", "''", "}", "//", "ani", "other", "prop", "here", "...", "}", "return", "children", "(", "somepropsher", ")", "}", "const", "childcompon", "=", "prop", "=", ">", "<", "h1", "{", "...", "prop", "}", ">", "hello", "world", "!", "<", "/h1", ">", "const", "app", "=", "(", ")", "=", ">", "{", "return", "(", "<", "parent", ">", "{", "prop", "=", ">", "(", "<", "childcompon", "{", "...", "prop", "}", ">", "bla-bla-bla", "<", "/childcompon", ">", ")", "}", "<", "/parent", ">", ")", "}", "none", "of", "the", "answer", "address", "the", "issu", "of", "have", "children", "that", "are", "not", "react", "compon", ",", "such", "as", "text", "string", ".", "a", "workaround", "could", "be", "someth", "like", "thi", ":", "//", "render", "method", "of", "parent", "compon", "render", "(", ")", "{", "let", "prop", "=", "{", "setalert", ":", "(", ")", "=", ">", "{", "alert", "(", "``", "it", "work", "''", ")", "}", "}", ";", "let", "childrenwithprop", "=", "react.children.map", "(", "this.props.children", ",", "function", "(", "child", ")", "{", "if", "(", "react.isvalidel", "(", "child", ")", ")", "{", "return", "react.cloneel", "(", "child", ",", "prop", ")", ";", "}", "return", "child", ";", "}", ")", ";", "return", "<", "div", ">", "{", "childrenwithprop", "}", "<", "/div", ">", "}", "i", "need", "to", "fix", "accept", "answer", "abov", "to", "make", "it", "work", "use", "that", "instead", "of", "thi", "pointer", ".", "thi", "within", "the", "scope", "of", "map", "function", "did", "n't", "have", "dosometh", "function", "defin", ".", "var", "parent", "=", "react.createclass", "(", "{", "dosometh", ":", "function", "(", ")", "{", "console.log", "(", "'dosometh", "!", "'", ")", ";", "}", ",", "render", ":", "function", "(", ")", "{", "var", "that", "=", "thi", ";", "var", "childrenwithprop", "=", "react.children.map", "(", "this.props.children", ",", "function", "(", "child", ")", "{", "return", "react.cloneel", "(", "child", ",", "{", "dosometh", ":", "that.dosometh", "}", ")", ";", "}", ")", ";", "return", "<", "div", ">", "{", "childrenwithprop", "}", "<", "/div", ">", "}", "}", ")", "updat", ":", "thi", "fix", "is", "for", "ecmascript", "5", ",", "in", "es6", "there", "is", "no", "need", "in", "var", "that=thi", "cleaner", "way", "consid", "one", "or", "more", "children", "<", "div", ">", "{", "react.children.map", "(", "this.props.children", ",", "child", "=", ">", "react.cloneel", "(", "child", ",", "{", "...", "this.prop", "}", ")", ")", "}", "<", "/div", ">", "you", "no", "longer", "need", "{", "this.props.children", "}", ".", "now", "you", "can", "wrap", "your", "child", "compon", "use", "render", "in", "rout", "and", "pass", "your", "prop", "as", "usual", ":", "<", "browserrout", ">", "<", "div", ">", "<", "ul", ">", "<", "li", ">", "<", "link", "to=", "''", "/", "''", ">", "home", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/post", "''", ">", "post", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/about", "''", ">", "about", "<", "/link", ">", "<", "/li", ">", "<", "/ul", ">", "<", "hr/", ">", "<", "rout", "path=", "''", "/", "''", "exact", "component=", "{", "home", "}", "/", ">", "<", "rout", "path=", "''", "/post", "''", "render=", "{", "(", ")", "=", ">", "(", "<", "post", "value1=", "{", "1", "}", "value2=", "{", "2", "}", "data=", "{", "this.state.data", "}", "/", ">", ")", "}", "/", ">", "<", "rout", "path=", "''", "/about", "''", "component=", "{", "about", "}", "/", ">", "<", "/div", ">", "<", "/browserrout", ">", "if", "you", "have", "multipl", "children", "you", "want", "to", "pass", "prop", "to", ",", "you", "can", "do", "it", "thi", "way", ",", "use", "the", "react.children.map", ":", "render", "(", ")", "{", "let", "updatedchildren", "=", "react.children.map", "(", "this.props.children", ",", "(", "child", ")", "=", ">", "{", "return", "react.cloneel", "(", "child", ",", "{", "newprop", ":", "newprop", "}", ")", ";", "}", ")", ";", "return", "(", "<", "div", ">", "{", "updatedchildren", "}", "<", "/div", ">", ")", ";", "}", "if", "your", "compon", "is", "have", "just", "one", "child", ",", "there", "'s", "no", "need", "for", "map", ",", "you", "can", "just", "cloneel", "straight", "away", ":", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "react.cloneel", "(", "this.props.children", ",", "{", "newprop", ":", "newprop", "}", ")", "}", "<", "/div", ">", ")", ";", "}", "parent.jsx", ":", "import", "react", "from", "'react", "'", ";", "const", "dosometh", "=", "valu", "=", ">", "{", "}", ";", "const", "parent", "=", "prop", "=", ">", "(", "<", "div", ">", "{", "!", "prop", "||", "!", "props.children", "?", "<", "div", ">", "load", "...", "(", "requir", "at", "least", "one", "child", ")", "<", "/div", ">", ":", "!", "props.children.length", "?", "<", "props.children.typ", "{", "...", "props.children.prop", "}", "dosomething=", "{", "dosometh", "}", "{", "...", "prop", "}", ">", "{", "props.children", "}", "<", "/props.children.typ", ">", ":", "props.children.map", "(", "(", "child", ",", "key", ")", "=", ">", "react.cloneel", "(", "child", ",", "{", "...", "prop", ",", "key", ",", "dosometh", "}", ")", ")", "}", "<", "/div", ">", ")", ";", "child.jsx", ":", "import", "react", "from", "'react", "'", ";", "/", "*", "but", "better", "import", "dosometh", "right", "here", ",", "or", "use", "some", "flux", "store", "(", "for", "exampl", "redux", "librari", ")", "*", "/", "export", "default", "(", "{", "dosometh", ",", "valu", "}", ")", "=", ">", "(", "<", "div", "onclick=", "{", "(", ")", "=", ">", "dosometh", "(", "valu", ")", "}", "/", ">", ")", ";", "and", "main.jsx", ":", "import", "react", "from", "'react", "'", ";", "import", "{", "render", "}", "from", "'react-dom", "'", ";", "import", "parent", "from", "'./parent", "'", ";", "import", "child", "from", "'./child", "'", ";", "render", "(", "<", "parent", ">", "<", "child/", ">", "<", "child", "value=", "'", "1'/", ">", "<", "child", "value=", "'", "2'/", ">", "<", "/parent", ">", ",", "document.getelementbyid", "(", "'", "...", "'", ")", ")", ";", "see", "exampl", "here", ":", "http", ":", "//plnkr.co/edit/jjhqecrkrrtklkyrpiwl", "?", "p=preview", "mayb", "you", "can", "also", "find", "use", "thi", "featur", ",", "though", "mani", "peopl", "have", "consid", "thi", "as", "an", "anti-pattern", "it", "still", "can", "be", "use", "if", "you", "'re", "know", "what", "you", "'re", "do", "and", "design", "your", "solut", "well", ".", "function", "as", "child", "compon", "accord", "to", "the", "document", "of", "cloneel", "(", ")", "react.cloneel", "(", "element", ",", "[", "prop", "]", ",", "[", "...", "children", "]", ")", "clone", "and", "return", "a", "new", "react", "element", "use", "element", "as", "the", "start", "point", ".", "the", "result", "element", "will", "have", "the", "origin", "element", "\u2019", "s", "prop", "with", "the", "new", "prop", "merg", "in", "shallowli", ".", "new", "children", "will", "replac", "exist", "children", ".", "key", "and", "ref", "from", "the", "origin", "element", "will", "be", "preserv", ".", "react.cloneel", "(", ")", "is", "almost", "equival", "to", ":", "<", "element.typ", "{", "...", "element.prop", "}", "{", "...", "prop", "}", ">", "{", "children", "}", "<", "/element.typ", ">", "howev", ",", "it", "also", "preserv", "ref", ".", "thi", "mean", "that", "if", "you", "get", "a", "child", "with", "a", "ref", "on", "it", ",", "you", "won", "\u2019", "t", "accident", "steal", "it", "from", "your", "ancestor", ".", "you", "will", "get", "the", "same", "ref", "attach", "to", "your", "new", "element", ".", "so", "cloneel", "is", "what", "you", "would", "use", "to", "provid", "custom", "prop", "to", "the", "children", ".", "howev", "there", "can", "be", "multipl", "children", "in", "the", "compon", "and", "you", "would", "need", "to", "loop", "over", "it", ".", "what", "other", "answer", "suggest", "is", "for", "you", "to", "map", "over", "them", "use", "react.children.map", ".", "howev", "react.children.map", "unlik", "react.cloneel", "chang", "the", "key", "of", "the", "element", "append", "and", "extra", ".", "$", "as", "the", "prefix", ".", "check", "thi", "question", "for", "more", "detail", ":", "react.cloneel", "insid", "react.children.map", "is", "caus", "element", "key", "to", "chang", "if", "you", "wish", "to", "avoid", "it", ",", "you", "should", "instead", "go", "for", "the", "foreach", "function", "like", "render", "(", ")", "{", "const", "newel", "=", "[", "]", ";", "react.children.foreach", "(", "this.props.children", ",", "child", "=", ">", "newelements.push", "(", "react.cloneel", "(", "child", ",", "{", "...", "this.prop", ",", "...", "customprop", "}", ")", ")", ")", "return", "(", "<", "div", ">", "{", "newel", "}", "<", "/div", ">", ")", "}", "method", "1", "-", "clone", "children", "const", "parent", "=", "(", "prop", ")", "=", ">", "{", "const", "attributetoaddorreplace=", "``", "some", "valu", "''", "const", "childrenwithadjustedprop", "=", "react.children.map", "(", "props.children", ",", "child", "=", ">", "react.cloneel", "(", "child", ",", "{", "attributetoaddorreplac", "}", ")", ")", ";", "return", "<", "div", ">", "{", "childrenwithadjustedprop", "}", "<", "/div", ">", "}", "method", "2", "-", "use", "compos", "context", "context", "allow", "you", "to", "pass", "a", "prop", "to", "a", "deep", "child", "compon", "without", "explicitli", "pass", "it", "as", "a", "prop", "through", "the", "compon", "in", "between", ".", "context", "come", "with", "drawback", ":", "data", "doe", "n't", "flow", "in", "the", "regular", "way", "-", "via", "prop", ".", "use", "context", "creat", "a", "contract", "between", "the", "consum", "and", "the", "provid", ".", "it", "might", "be", "more", "difficult", "to", "understand", "and", "replic", "the", "requir", "need", "to", "reus", "a", "compon", ".", "use", "a", "compos", "context", "export", "const", "context", "=", "createcontext", "<", "ani", ">", "(", "null", ")", ";", "export", "const", "composablecontext", "=", "(", "{", "children", ",", "...", "otherprop", "}", ":", "{", "children", ":", "reactnod", ",", "[", "x", ":", "string", "]", ":", "ani", "}", ")", "=", ">", "{", "const", "context", "=", "usecontext", "(", "context", ")", "return", "(", "<", "context.provid", "{", "...", "context", "}", "value=", "{", "{", "...", "context", ",", "...", "otherprop", "}", "}", ">", "{", "children", "}", "<", "/context.provid", ">", ")", ";", "}", "function", "app", "(", ")", "{", "return", "(", "<", "provider1", ">", "<", "provider2", ">", "<", "display", "/", ">", "<", "/provider2", ">", "<", "/provider1", ">", ")", ";", "}", "const", "provider1", "=", "(", "{", "children", "}", ":", "{", "children", ":", "reactnod", "}", ")", "=", ">", "(", "<", "composablecontext", "greeting=", "''", "hello", "''", ">", "{", "children", "}", "<", "/composablecontext", ">", ")", "const", "provider2", "=", "(", "{", "children", "}", ":", "{", "children", ":", "reactnod", "}", ")", "=", ">", "(", "<", "composablecontext", "name=", "''", "world", "''", ">", "{", "children", "}", "<", "/composablecontext", ">", ")", "const", "display", "=", "(", ")", "=", ">", "{", "const", "context", "=", "usecontext", "(", "context", ")", ";", "return", "<", "div", ">", "{", "context.greet", "}", ",", "{", "context.nam", "}", "<", "/div", ">", ";", "}", ";", "further", "to", "@", "and_rest", "answer", ",", "thi", "is", "how", "i", "clone", "the", "children", "and", "add", "a", "class", ".", "<", "div", "classname=", "''", "parent", "''", ">", "{", "react.children.map", "(", "this.props.children", ",", "child", "=", ">", "react.cloneel", "(", "child", ",", "{", "classnam", ":", "'child", "'", "}", ")", ")", "}", "<", "/div", ">", "i", "think", "a", "render", "prop", "is", "the", "appropri", "way", "to", "handl", "thi", "scenario", "you", "let", "the", "parent", "provid", "the", "necessari", "prop", "use", "in", "child", "compon", ",", "by", "refactor", "the", "parent", "code", "to", "look", "to", "someth", "like", "thi", ":", "const", "parent", "=", "(", "{", "children", "}", ")", "=", ">", "{", "const", "dosometh", "(", "valu", ")", "=", ">", "{", "}", "return", "children", "(", "{", "dosometh", "}", ")", "}", "then", "in", "the", "child", "compon", "you", "can", "access", "the", "function", "provid", "by", "the", "parent", "thi", "way", ":", "class", "child", "extend", "react", "{", "onclick", "(", ")", "=", ">", "{", "this.props.dosometh", "}", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "<", "/div", ">", ")", ";", "}", "}", "now", "the", "fianl", "stuctur", "will", "look", "like", "thi", ":", "<", "parent", ">", "{", "(", "dosometh", ")", "=", ">", "(", "<", "fragment", ">", "<", "child", "value=", "''", "1", "''", "dosomething=", "{", "dosometh", "}", ">", "<", "child", "value=", "''", "2", "''", "dosomething=", "{", "dosometh", "}", ">", "<", "fragment", "/", ">", ")", "}", "<", "/parent", ">", "when", "use", "function", "compon", ",", "you", "will", "often", "get", "the", "typeerror", ":", "can", "not", "add", "properti", "mynewprop", ",", "object", "is", "not", "extens", "error", "when", "tri", "to", "set", "new", "properti", "on", "props.children", ".", "there", "is", "a", "work", "around", "to", "thi", "by", "clone", "the", "prop", "and", "then", "clone", "the", "child", "itself", "with", "the", "new", "prop", ".", "const", "myparentcompon", "=", "(", "prop", ")", "=", ">", "{", "return", "(", "<", "div", "classname='whatev", "'", ">", "{", "props.children.map", "(", "(", "child", ")", "=", ">", "{", "const", "newprop", "=", "{", "...", "child.prop", "}", "//", "set", "new", "prop", "here", "on", "newprop", "newprops.mynewprop", "=", "'someth", "'", "const", "preparedchild", "=", "{", "...", "child", ",", "prop", ":", "newprop", "}", "return", "preparedchild", "}", ")", "}", "<", "/div", ">", ")", "}", "the", "slickest", "way", "to", "do", "thi", ":", "{", "react.cloneel", "(", "this.props.children", ",", "this.prop", ")", "}", "for", "ani", "one", "who", "ha", "a", "singl", "child", "element", "thi", "should", "do", "it", ".", "{", "react.isvalidel", "(", "this.props.children", ")", "?", "react.cloneel", "(", "this.props.children", ",", "{", "...", "prop_you_want_to_pass", "}", ")", ":", "null", "}", "got", "inspir", "by", "all", "the", "answer", "abov", "and", "thi", "is", "what", "i", "have", "done", ".", "i", "am", "pass", "some", "prop", "like", "some", "data", ",", "and", "some", "compon", ".", "import", "react", "from", "``", "react", "''", ";", "const", "parent", "=", "(", "{", "children", "}", ")", "=", ">", "{", "const", "{", "setcheckoutdata", "}", "=", "actions.shop", ";", "const", "{", "input", ",", "fielderror", "}", "=", "libraries.theme.components.form", ";", "const", "onsubmit", "=", "(", "data", ")", "=", ">", "{", "setcheckoutdata", "(", "data", ")", ";", "}", ";", "const", "childrenwithprop", "=", "react.children.map", "(", "children", ",", "(", "child", ")", "=", ">", "react.cloneel", "(", "child", ",", "{", "input", ":", "input", ",", "fielderror", ":", "fielderror", ",", "onsubmit", ":", "onsubmit", ",", "}", ")", ")", ";", "return", "<", ">", "{", "childrenwithprop", "}", "<", "/", ">", ";", "}", ";", "is", "thi", "what", "you", "requir", "?", "var", "parent", "=", "react.createclass", "(", "{", "dosometh", ":", "function", "(", "valu", ")", "{", "}", "render", ":", "function", "(", ")", "{", "return", "<", "div", ">", "<", "child", "dosome=", "{", "this.dosometh", "}", "/", ">", "<", "/div", ">", "}", "}", ")", "var", "child", "=", "react.createclass", "(", "{", "onclick", ":", "function", "(", ")", "{", "this.props.dosom", "(", "valu", ")", ";", "//", "dosometh", "is", "undefin", "}", ",", "render", ":", "function", "(", ")", "{", "return", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "<", "/div", ">", "}", "}", ")", "some", "reason", "react.children", "wa", "not", "work", "for", "me", ".", "thi", "is", "what", "work", "for", "me", ".", "i", "want", "to", "just", "add", "a", "class", "to", "the", "child", ".", "similar", "to", "chang", "a", "prop", "var", "newchildren", "=", "this.props.children.map", "(", "(", "child", ")", "=", ">", "{", "const", "classnam", "=", "``", "menutooltip-item", "``", "+", "child.props.classnam", ";", "return", "react.cloneel", "(", "child", ",", "{", "classnam", "}", ")", ";", "}", ")", ";", "return", "<", "div", ">", "{", "newchildren", "}", "<", "/div", ">", ";", "the", "trick", "here", "is", "the", "react.cloneel", ".", "you", "can", "pass", "ani", "prop", "in", "a", "similar", "manner", "render", "prop", "is", "most", "accur", "approach", "to", "thi", "problem", ".", "instead", "of", "pass", "the", "child", "compon", "to", "parent", "compon", "as", "children", "prop", ",", "let", "parent", "render", "child", "compon", "manual", ".", "render", "is", "built-in", "prop", "in", "react", ",", "which", "take", "function", "paramet", ".", "in", "thi", "function", "you", "can", "let", "parent", "compon", "render", "whatev", "you", "want", "with", "custom", "paramet", ".", "basic", "it", "doe", "the", "same", "thing", "as", "child", "prop", "but", "it", "is", "more", "customiz", ".", "class", "child", "extend", "react.compon", "{", "render", "(", ")", "{", "return", "<", "div", "classname=", "''", "child", "''", ">", "child", "<", "p", "onclick=", "{", "this.props.dosometh", "}", ">", "click", "me", "<", "/p", ">", "{", "this.props.a", "}", "<", "/div", ">", ";", "}", "}", "class", "parent", "extend", "react.compon", "{", "dosometh", "(", ")", "{", "alert", "(", "``", "parent", "talk", "''", ")", ";", "}", "render", "(", ")", "{", "return", "<", "div", "classname=", "''", "parent", "''", ">", "parent", "{", "this.props.rend", "(", "{", "anythingtopasschildren:1", ",", "dosometh", ":", "this.dosometh", "}", ")", "}", "<", "/div", ">", ";", "}", "}", "class", "applic", "extend", "react.compon", "{", "render", "(", ")", "{", "return", "<", "div", ">", "<", "parent", "render=", "{", "prop", "=", ">", "<", "child", "{", "...", "prop", "}", "/", ">", "}", "/", ">", "<", "/div", ">", ";", "}", "}", "exampl", "at", "codepen", "i", "came", "to", "thi", "post", "while", "research", "for", "a", "similar", "need", ",", "but", "i", "felt", "clone", "solut", "that", "is", "so", "popular", ",", "to", "be", "too", "raw", "and", "take", "my", "focu", "away", "from", "the", "function", ".", "i", "found", "an", "articl", "in", "react", "document", "higher", "order", "compon", "here", "is", "my", "sampl", ":", "import", "react", "from", "'react", "'", ";", "const", "withform", "=", "(", "viewcompon", ")", "=", ">", "{", "return", "(", "prop", ")", "=", ">", "{", "const", "myparam", "=", "``", "custom", "param", "''", ";", "return", "(", "<", ">", "<", "div", "style=", "{", "{", "border", ":", "''", "2px", "solid", "black", "''", ",", "margin", ":", "''", "10px", "''", "}", "}", ">", "<", "div", ">", "thi", "is", "poc", "form", "<", "/div", ">", "<", "div", ">", "<", "viewcompon", "myparam=", "{", "myparam", "}", "{", "...", "prop", "}", ">", "<", "/viewcompon", ">", "<", "/div", ">", "<", "/div", ">", "<", "/", ">", ")", "}", "}", "export", "default", "withform", ";", "const", "pocquickview", "=", "(", "prop", ")", "=", ">", "{", "return", "(", "<", "div", "style=", "{", "{", "border", ":", "''", "1px", "solid", "grey", "''", "}", "}", ">", "<", "div", ">", "thi", "is", "poc", "quick", "view", "and", "it", "is", "meant", "to", "show", "when", "mous", "hover", "over", "a", "link", "<", "/div", ">", "<", "/div", ">", ")", "}", "export", "default", "withform", "(", "pocquickview", ")", ";", "for", "me", "i", "found", "a", "flexibl", "solut", "in", "implement", "the", "pattern", "of", "higher", "order", "compon", ".", "of", "cours", "it", "depend", "on", "the", "function", ",", "but", "it", "is", "good", "if", "someon", "els", "is", "look", "for", "a", "similar", "requir", ",", "it", "is", "much", "better", "than", "be", "depend", "on", "raw", "level", "react", "code", "like", "clone", ".", "other", "pattern", "that", "i", "activ", "use", "is", "the", "contain", "pattern", ".", "do", "read", "about", "it", ",", "there", "are", "mani", "articl", "out", "there", "."]