["i", "am", "trying", "to", "learn", "hooks", "and", "the", "usestate", "method", "has", "made", "me", "confused", ".", "i", "am", "assigning", "an", "initial", "value", "to", "a", "state", "in", "the", "form", "of", "an", "array", ".", "the", "set", "method", "in", "usestate", "is", "not", "working", "for", "me", "even", "with", "spread", "(", "...", ")", "or", "without", "spread", "operator", ".", "i", "have", "made", "an", "api", "on", "another", "pc", "that", "i", "am", "calling", "and", "fetching", "the", "data", "which", "i", "want", "to", "set", "into", "the", "state", ".", "here", "is", "my", "code", ":", "import", "react", ",", "{", "usestate", ",", "useeffect", "}", "from", "``", "react", "''", ";", "import", "reactdom", "from", "``", "react-dom", "''", ";", "const", "stateselector", "=", "(", ")", "=", ">", "{", "const", "initialvalue", "=", "[", "{", "category", ":", "``", "''", ",", "photo", ":", "``", "''", ",", "description", ":", "``", "''", ",", "id", ":", "0", ",", "name", ":", "``", "''", ",", "rating", ":", "0", "}", "]", ";", "const", "[", "movies", ",", "setmovies", "]", "=", "usestate", "(", "initialvalue", ")", ";", "useeffect", "(", "(", ")", "=", ">", "{", "(", "async", "function", "(", ")", "{", "try", "{", "//const", "response", "=", "await", "fetch", "(", "//", "`", "http", ":", "//192.168.1.164:5000/movies/display", "`", "//", ")", ";", "//const", "json", "=", "await", "response.json", "(", ")", ";", "//const", "result", "=", "json.data.result", ";", "const", "result", "=", "[", "{", "category", ":", "``", "cat1", "''", ",", "description", ":", "``", "desc1", "''", ",", "id", ":", "``", "1546514491119", "''", ",", "name", ":", "``", "randomname2", "''", ",", "photo", ":", "null", ",", "rating", ":", "``", "3", "''", "}", ",", "{", "category", ":", "``", "cat2", "''", ",", "description", ":", "``", "desc1", "''", ",", "id", ":", "``", "1546837819818", "''", ",", "name", ":", "``", "randomname1", "''", ",", "rating", ":", "``", "5", "''", "}", "]", ";", "console.log", "(", "result", ")", ";", "setmovies", "(", "result", ")", ";", "console.log", "(", "movies", ")", ";", "}", "catch", "(", "e", ")", "{", "console.error", "(", "e", ")", ";", "}", "}", ")", "(", ")", ";", "}", ",", "[", "]", ")", ";", "return", "<", "p", ">", "hello", "<", "/p", ">", ";", "}", ";", "const", "rootelement", "=", "document.getelementbyid", "(", "``", "root", "''", ")", ";", "reactdom.render", "(", "<", "stateselector", "/", ">", ",", "rootelement", ")", ";", "the", "setmovies", "(", "result", ")", "as", "well", "as", "setmovies", "(", "...", "result", ")", "is", "not", "working", ".", "could", "use", "some", "help", "here", ".", "i", "expect", "the", "result", "variable", "to", "be", "pushed", "into", "the", "movies", "array", ".", "much", "like", "setstate", "in", "class", "components", "created", "by", "extending", "react.component", "or", "react.purecomponent", ",", "the", "state", "update", "using", "the", "updater", "provided", "by", "usestate", "hook", "is", "also", "asynchronous", ",", "and", "will", "not", "be", "reflected", "immediately", ".", "also", ",", "the", "main", "issue", "here", "is", "not", "just", "the", "asynchronous", "nature", "but", "the", "fact", "that", "state", "values", "are", "used", "by", "functions", "based", "on", "their", "current", "closures", ",", "and", "state", "updates", "will", "reflect", "in", "the", "next", "re-render", "by", "which", "the", "existing", "closures", "are", "not", "affected", ",", "but", "new", "ones", "are", "created", ".", "now", "in", "the", "current", "state", ",", "the", "values", "within", "hooks", "are", "obtained", "by", "existing", "closures", ",", "and", "when", "a", "re-render", "happens", ",", "the", "closures", "are", "updated", "based", "on", "whether", "the", "function", "is", "recreated", "again", "or", "not", ".", "even", "if", "you", "add", "a", "settimeout", "the", "function", ",", "though", "the", "timeout", "will", "run", "after", "some", "time", "by", "which", "the", "re-render", "would", "have", "happened", ",", "the", "settimeout", "will", "still", "use", "the", "value", "from", "its", "previous", "closure", "and", "not", "the", "updated", "one", ".", "setmovies", "(", "result", ")", ";", "console.log", "(", "movies", ")", "//", "movies", "here", "will", "not", "be", "updated", "if", "you", "want", "to", "perform", "an", "action", "on", "state", "update", ",", "you", "need", "to", "use", "the", "useeffect", "hook", ",", "much", "like", "using", "componentdidupdate", "in", "class", "components", "since", "the", "setter", "returned", "by", "usestate", "does", "n't", "have", "a", "callback", "pattern", "useeffect", "(", "(", ")", "=", ">", "{", "//", "action", "on", "update", "of", "movies", "}", ",", "[", "movies", "]", ")", ";", "as", "far", "as", "the", "syntax", "to", "update", "state", "is", "concerned", ",", "setmovies", "(", "result", ")", "will", "replace", "the", "previous", "movies", "value", "in", "the", "state", "with", "those", "available", "from", "the", "async", "request", ".", "however", ",", "if", "you", "want", "to", "merge", "the", "response", "with", "the", "previously", "existing", "values", ",", "you", "must", "use", "the", "callback", "syntax", "of", "state", "updation", "along", "with", "the", "correct", "use", "of", "spread", "syntax", "like", "setmovies", "(", "prevmovies", "=", ">", "(", "[", "...", "prevmovies", ",", "...", "result", "]", ")", ")", ";", "addional", "details", "to", "the", "previous", "answer", ":", "while", "react", "'s", "setstate", "is", "asynchronous", "(", "both", "classes", "and", "hooks", ")", ",", "and", "it", "'s", "tempting", "to", "use", "that", "fact", "to", "explain", "the", "observed", "behaviour", ",", "it", "is", "not", "the", "reason", "why", "it", "happens", ".", "tldr", ":", "the", "reason", "is", "a", "closure", "scope", "around", "an", "immutable", "const", "value", ".", "solutions", ":", "read", "the", "value", "in", "render", "function", "(", "not", "inside", "nested", "functions", ")", ":", "useeffect", "(", "(", ")", "=", ">", "{", "setmovies", "(", "result", ")", "}", ",", "[", "]", ")", "console.log", "(", "movies", ")", "add", "the", "variable", "into", "dependencies", "(", "and", "use", "the", "react-hooks/exhaustive-deps", "eslint", "rule", ")", ":", "useeffect", "(", "(", ")", "=", ">", "{", "setmovies", "(", "result", ")", "}", ",", "[", "]", ")", "useeffect", "(", "(", ")", "=", ">", "{", "console.log", "(", "movies", ")", "}", ",", "[", "movies", "]", ")", "use", "a", "mutable", "reference", "(", "when", "the", "above", "is", "not", "possible", ")", ":", "const", "moviesref", "=", "useref", "(", "initialvalue", ")", "useeffect", "(", "(", ")", "=", ">", "{", "moviesref.current", "=", "result", "console.log", "(", "moviesref.current", ")", "}", ",", "[", "]", ")", "explanation", "why", "it", "happens", ":", "if", "async", "was", "the", "only", "reason", ",", "it", "would", "be", "possible", "to", "await", "setstate", "(", ")", ".", "howerver", ",", "both", "props", "and", "state", "are", "assumed", "to", "be", "unchanging", "during", "1", "render", ".", "treat", "this.state", "as", "if", "it", "were", "immutable", ".", "with", "hooks", ",", "this", "assumption", "is", "enhanced", "by", "using", "constant", "values", "with", "the", "const", "keyword", ":", "const", "[", "state", ",", "setstate", "]", "=", "usestate", "(", "'initial", "'", ")", "the", "value", "might", "be", "different", "between", "2", "renders", ",", "but", "remains", "a", "constant", "inside", "the", "render", "itself", "and", "inside", "any", "closures", "(", "functions", "that", "live", "longer", "even", "after", "render", "is", "finished", ",", "e.g", ".", "useeffect", ",", "event", "handlers", ",", "inside", "any", "promise", "or", "settimeout", ")", ".", "consider", "following", "fake", ",", "but", "synchronous", ",", "react-like", "implementation", ":", "//", "sync", "implementation", ":", "let", "internalstate", "let", "renderagain", "const", "setstate", "=", "(", "updatefn", ")", "=", ">", "{", "internalstate", "=", "updatefn", "(", "internalstate", ")", "renderagain", "(", ")", "}", "const", "usestate", "=", "(", "defaultstate", ")", "=", ">", "{", "if", "(", "!", "internalstate", ")", "{", "internalstate", "=", "defaultstate", "}", "return", "[", "internalstate", ",", "setstate", "]", "}", "const", "render", "=", "(", "component", ",", "node", ")", "=", ">", "{", "const", "{", "html", ",", "handleclick", "}", "=", "component", "(", ")", "node.innerhtml", "=", "html", "renderagain", "=", "(", ")", "=", ">", "render", "(", "component", ",", "node", ")", "return", "handleclick", "}", "//", "test", ":", "const", "mycomponent", "=", "(", ")", "=", ">", "{", "const", "[", "x", ",", "setx", "]", "=", "usestate", "(", "1", ")", "console.log", "(", "'in", "render", ":", "'", ",", "x", ")", "//", "\u2705", "const", "handleclick", "=", "(", ")", "=", ">", "{", "setx", "(", "current", "=", ">", "current", "+", "1", ")", "console.log", "(", "'in", "handler/effect/promise/settimeout", ":", "'", ",", "x", ")", "//", "\u274c", "not", "updated", "}", "return", "{", "html", ":", "`", "<", "button", ">", "$", "{", "x", "}", "<", "/button", ">", "`", ",", "handleclick", "}", "}", "const", "triggerclick", "=", "render", "(", "mycomponent", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", "triggerclick", "(", ")", "triggerclick", "(", ")", "triggerclick", "(", ")", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "i", "just", "finished", "a", "rewrite", "with", "usereducer", ",", "following", "@", "kentcdobs", "article", "(", "ref", "below", ")", "which", "really", "gave", "me", "a", "solid", "result", "that", "suffers", "not", "one", "bit", "from", "these", "closure", "problems", ".", "see", ":", "https", ":", "//kentcdodds.com/blog/how-to-use-react-context-effectively", "i", "condensed", "his", "readable", "boilerplate", "to", "my", "preferred", "level", "of", "dryness", "--", "reading", "his", "sandbox", "implementation", "will", "show", "you", "how", "it", "actually", "works", ".", "enjoy", ",", "i", "know", "i", "am", "!", "!", "import", "react", "from", "'react", "'", "//", "ref", ":", "https", ":", "//kentcdodds.com/blog/how-to-use-react-context-effectively", "const", "applicationdispatch", "=", "react.createcontext", "(", ")", "const", "applicationcontext", "=", "react.createcontext", "(", ")", "function", "statereducer", "(", "state", ",", "action", ")", "{", "if", "(", "state.hasownproperty", "(", "action.type", ")", ")", "{", "return", "{", "...", "state", ",", "[", "action.type", "]", ":", "state", "[", "action.type", "]", "=", "action.newvalue", "}", ";", "}", "throw", "new", "error", "(", "`", "unhandled", "action", "type", ":", "$", "{", "action.type", "}", "`", ")", ";", "}", "const", "initialstate", "=", "{", "keycode", ":", "``", ",", "testcode", ":", "``", ",", "testmode", ":", "false", ",", "phonenumber", ":", "``", ",", "resultcode", ":", "null", ",", "mobileinfo", ":", "``", ",", "configname", ":", "``", ",", "appconfig", ":", "{", "}", ",", "}", ";", "function", "dispatchprovider", "(", "{", "children", "}", ")", "{", "const", "[", "state", ",", "dispatch", "]", "=", "react.usereducer", "(", "statereducer", ",", "initialstate", ")", ";", "return", "(", "<", "applicationdispatch.provider", "value=", "{", "dispatch", "}", ">", "<", "applicationcontext.provider", "value=", "{", "state", "}", ">", "{", "children", "}", "<", "/applicationcontext.provider", ">", "<", "/applicationdispatch.provider", ">", ")", "}", "function", "usedispatchable", "(", "statename", ")", "{", "const", "context", "=", "react.usecontext", "(", "applicationcontext", ")", ";", "const", "dispatch", "=", "react.usecontext", "(", "applicationdispatch", ")", ";", "return", "[", "context", "[", "statename", "]", ",", "newvalue", "=", ">", "dispatch", "(", "{", "type", ":", "statename", ",", "newvalue", "}", ")", "]", ";", "}", "function", "usekeycode", "(", ")", "{", "return", "usedispatchable", "(", "'keycode", "'", ")", ";", "}", "function", "usetestcode", "(", ")", "{", "return", "usedispatchable", "(", "'testcode", "'", ")", ";", "}", "function", "usetestmode", "(", ")", "{", "return", "usedispatchable", "(", "'testmode", "'", ")", ";", "}", "function", "usephonenumber", "(", ")", "{", "return", "usedispatchable", "(", "'phonenumber", "'", ")", ";", "}", "function", "useresultcode", "(", ")", "{", "return", "usedispatchable", "(", "'resultcode", "'", ")", ";", "}", "function", "usemobileinfo", "(", ")", "{", "return", "usedispatchable", "(", "'mobileinfo", "'", ")", ";", "}", "function", "useconfigname", "(", ")", "{", "return", "usedispatchable", "(", "'configname", "'", ")", ";", "}", "function", "useappconfig", "(", ")", "{", "return", "usedispatchable", "(", "'appconfig", "'", ")", ";", "}", "export", "{", "dispatchprovider", ",", "usekeycode", ",", "usetestcode", ",", "usetestmode", ",", "usephonenumber", ",", "useresultcode", ",", "usemobileinfo", ",", "useconfigname", ",", "useappconfig", ",", "}", "with", "a", "usage", "similar", "to", "this", ":", "import", "{", "usehistory", "}", "from", "``", "react-router-dom", "''", ";", "//", "https", ":", "//react-bootstrap.github.io/components/alerts", "import", "{", "container", ",", "row", "}", "from", "'react-bootstrap", "'", ";", "import", "{", "useappconfig", ",", "usekeycode", ",", "usephonenumber", "}", "from", "'", "..", "/", "..", "/applicationdispatchprovider", "'", ";", "import", "{", "controlset", "}", "from", "'", "..", "/", "..", "/components/control-set", "'", ";", "import", "{", "keypadclass", "}", "from", "'", "..", "/", "..", "/utils/style-utils", "'", ";", "import", "{", "maskedentry", "}", "from", "'", "..", "/", "..", "/components/masked-entry", "'", ";", "import", "{", "messaging", "}", "from", "'", "..", "/", "..", "/components/messaging", "'", ";", "import", "{", "simplekeypad", ",", "handlekeypress", ",", "alt_id", "}", "from", "'", "..", "/", "..", "/components/simple-keypad", "'", ";", "export", "const", "altidpage", "=", "(", ")", "=", ">", "{", "const", "history", "=", "usehistory", "(", ")", ";", "const", "[", "keycode", ",", "setkeycode", "]", "=", "usekeycode", "(", ")", ";", "const", "[", "phonenumber", ",", "setphonenumber", "]", "=", "usephonenumber", "(", ")", ";", "const", "[", "appconfig", ",", "setappconfig", "]", "=", "useappconfig", "(", ")", ";", "const", "keypressed", "=", "btn", "=", ">", "{", "const", "maxlen", "=", "appconfig.phonenumberentry.entrylen", ";", "const", "newvalue", "=", "handlekeypress", "(", "btn", ",", "phonenumber", ")", ".slice", "(", "0", ",", "maxlen", ")", ";", "setphonenumber", "(", "newvalue", ")", ";", "}", "const", "dosubmit", "=", "(", ")", "=", ">", "{", "history.push", "(", "'s", "'", ")", ";", "}", "const", "disablebtns", "=", "phonenumber.length", "<", "appconfig.phonenumberentry.entrylen", ";", "return", "(", "<", "container", "fluid", "classname=", "''", "text-center", "''", ">", "<", "row", ">", "<", "messaging", "{", "...", "{", "msgcolors", ":", "appconfig.pagecolors", ",", "msglines", ":", "appconfig.entrymsgs.altidmsgs", "}", "}", "/", ">", "<", "/row", ">", "<", "row", ">", "<", "maskedentry", "{", "...", "{", "...", "appconfig.phonenumberentry", ",", "entrycolors", ":", "appconfig.pagecolors", ",", "entryline", ":", "phonenumber", "}", "}", "/", ">", "<", "/row", ">", "<", "row", ">", "<", "simplekeypad", "{", "...", "{", "keyboardname", ":", "alt_id", ",", "themename", ":", "appconfig.keytheme", ",", "keypressed", ",", "styleclass", ":", "keypadclass", "}", "}", "/", ">", "<", "/row", ">", "<", "row", ">", "<", "controlset", "{", "...", "{", "btncolors", ":", "appconfig.buttoncolors", ",", "disabled", ":", "disablebtns", ",", "btns", ":", "[", "{", "text", ":", "'submit", "'", ",", "click", ":", "dosubmit", "}", "]", "}", "}", "/", ">", "<", "/row", ">", "<", "/container", ">", ")", ";", "}", ";", "altidpage.proptypes", "=", "{", "}", ";", "now", "everything", "persists", "smoothly", "everywhere", "across", "all", "my", "pages", "nice", "!", "thanks", "kent", "!", "useeffect", "has", "its", "own", "state/lifecycle", ",", "it", "will", "not", "update", "until", "you", "pass", "a", "function", "in", "parameters", "or", "effect", "destroyed", ".", "object", "and", "array", "spread", "or", "rest", "will", "not", "work", "inside", "useeffect", ".", "react.useeffect", "(", "(", ")", "=", ">", "{", "console.log", "(", "``", "effect", "''", ")", ";", "(", "async", "(", ")", "=", ">", "{", "try", "{", "let", "result", "=", "await", "fetch", "(", "``", "/query/countries", "''", ")", ";", "const", "res", "=", "await", "result.json", "(", ")", ";", "let", "result1", "=", "await", "fetch", "(", "``", "/query/projects", "''", ")", ";", "const", "res1", "=", "await", "result1.json", "(", ")", ";", "let", "result11", "=", "await", "fetch", "(", "``", "/query/regions", "''", ")", ";", "const", "res11", "=", "await", "result11.json", "(", ")", ";", "setdata", "(", "{", "countries", ":", "res", ",", "projects", ":", "res1", ",", "regions", ":", "res11", "}", ")", ";", "}", "catch", "{", "}", "}", ")", "(", "data", ")", "}", ",", "[", "setdata", "]", ")", "#", "or", "use", "this", "useeffect", "(", "(", ")", "=", ">", "{", "(", "async", "(", ")", "=", ">", "{", "try", "{", "await", "promise.all", "(", "[", "fetch", "(", "``", "/query/countries", "''", ")", ".then", "(", "(", "response", ")", "=", ">", "response.json", "(", ")", ")", ",", "fetch", "(", "``", "/query/projects", "''", ")", ".then", "(", "(", "response", ")", "=", ">", "response.json", "(", ")", ")", ",", "fetch", "(", "``", "/query/regions", "''", ")", ".then", "(", "(", "response", ")", "=", ">", "response.json", "(", ")", ")", "]", ")", ".then", "(", "(", "[", "country", ",", "project", ",", "region", "]", ")", "=", ">", "{", "//", "console.log", "(", "country", ",", "project", ",", "region", ")", ";", "setdata", "(", "{", "countries", ":", "country", ",", "projects", ":", "project", ",", "regions", ":", "region", "}", ")", ";", "}", ")", "}", "catch", "{", "console.log", "(", "``", "data", "fetch", "error", "''", ")", "}", "}", ")", "(", ")", "}", ",", "[", "setdata", "]", ")", ";", "//", "replace", "return", "<", "p", ">", "hello", "<", "/p", ">", ";", "//", "with", "return", "<", "p", ">", "{", "json.stringify", "(", "movies", ")", "}", "<", "/p", ">", ";", "now", "you", "should", "see", ",", "that", "your", "code", "actually", "does", "work", ".", "what", "does", "not", "work", "is", "the", "console.log", "(", "movies", ")", ".", "this", "is", "because", "movies", "points", "to", "the", "old", "state", ".", "if", "you", "move", "your", "console.log", "(", "movies", ")", "outside", "of", "useeffect", ",", "right", "above", "the", "return", ",", "you", "will", "see", "the", "updated", "movies", "object", ".", "i", "'m", "reading", "forms", "section", "of", "reactjs", "documentation", "and", "just", "tried", "this", "code", "to", "demonstrate", "onchange", "usage", "(", "jsbin", ")", ".", "var", "react=", "require", "(", "'react", "'", ")", ";", "var", "controlledform=", "react.createclass", "(", "{", "getinitialstate", ":", "function", "(", ")", "{", "return", "{", "value", ":", "``", "initial", "value", "''", "}", ";", "}", ",", "handlechange", ":", "function", "(", "event", ")", "{", "console.log", "(", "this.state.value", ")", ";", "this.setstate", "(", "{", "value", ":", "event.target.value", "}", ")", ";", "console.log", "(", "this.state.value", ")", ";", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "input", "type=", "''", "text", "''", "value=", "{", "this.state.value", "}", "onchange=", "{", "this.handlechange", "}", "/", ">", ")", ";", "}", "}", ")", ";", "react.render", "(", "<", "controlledform/", ">", ",", "document.getelementbyid", "(", "'mount", "'", ")", ")", ";", "when", "i", "update", "the", "<", "input/", ">", "value", "in", "the", "browser", ",", "the", "second", "console.log", "inside", "the", "handlechange", "callback", "prints", "the", "same", "value", "as", "the", "first", "console.log", ",", "why", "i", "ca", "n't", "see", "the", "result", "of", "this.setstate", "(", "{", "value", ":", "event.target.value", "}", ")", "in", "the", "scope", "of", "handlechange", "callback", "?", "from", "react", "'s", "documentation", ":", "setstate", "(", ")", "does", "not", "immediately", "mutate", "this.state", "but", "creates", "a", "pending", "state", "transition", ".", "accessing", "this.state", "after", "calling", "this", "method", "can", "potentially", "return", "the", "existing", "value", ".", "there", "is", "no", "guarantee", "of", "synchronous", "operation", "of", "calls", "to", "setstate", "and", "calls", "may", "be", "batched", "for", "performance", "gains", ".", "if", "you", "want", "a", "function", "to", "be", "executed", "after", "the", "state", "change", "occurs", ",", "pass", "it", "in", "as", "a", "callback", ".", "this.setstate", "(", "{", "value", ":", "event.target.value", "}", ",", "function", "(", ")", "{", "console.log", "(", "this.state.value", ")", ";", "}", ")", ";", "as", "mentioned", "in", "the", "react", "documentation", ",", "there", "is", "no", "guarantee", "of", "setstate", "being", "fired", "synchronously", ",", "so", "your", "console.log", "may", "return", "the", "state", "prior", "to", "it", "updating", ".", "michael", "parker", "mentions", "passing", "a", "callback", "within", "the", "setstate", ".", "another", "way", "to", "handle", "the", "logic", "after", "state", "change", "is", "via", "the", "componentdidupdate", "lifecycle", "method", ",", "which", "is", "the", "method", "recommended", "in", "react", "docs", ".", "generally", "we", "recommend", "using", "componentdidupdate", "(", ")", "for", "such", "logic", "instead", ".", "this", "is", "particularly", "useful", "when", "there", "may", "be", "successive", "setstates", "fired", ",", "and", "you", "would", "like", "to", "fire", "the", "same", "function", "after", "every", "state", "change", ".", "rather", "than", "adding", "a", "callback", "to", "each", "setstate", ",", "you", "could", "place", "the", "function", "inside", "of", "the", "componentdidupdate", ",", "with", "specific", "logic", "inside", "if", "necessary", ".", "//", "example", "componentdidupdate", "(", "prevprops", ",", "prevstate", ")", "{", "if", "(", "this.state.value", ">", "prevstate.value", ")", "{", "this.foo", "(", ")", ";", "}", "}", "you", "could", "try", "using", "es7", "async/await", ".", "for", "instance", "using", "your", "example", ":", "handlechange", ":", "async", "function", "(", "event", ")", "{", "console.log", "(", "this.state.value", ")", ";", "await", "this.setstate", "(", "{", "value", ":", "event.target.value", "}", ")", ";", "console.log", "(", "this.state.value", ")", ";", "}", "watch", "out", "the", "react", "lifecycle", "methods\uff01", "http", ":", "//projects.wojtekmaj.pl/react-lifecycle-methods-diagram/", "https", ":", "//reactjs.org/docs/react-component.html", "i", "worked", "for", "several", "hours", "to", "find", "out", "that", "getderivedstatefromprops", "will", "be", "called", "after", "every", "setstate", "(", ")", ".", "\ud83d\ude02", "async-await", "syntax", "works", "perfectly", "for", "something", "like", "the", "following", "...", "changestatefunction", "=", "(", ")", "=", ">", "{", "//", "some", "worker", "..", "this.setstate", "(", "(", "prevstate", ")", "=", ">", "(", "{", "year", ":", "funchandleyear", "(", ")", ",", "month", ":", "funchandlemonth", "(", ")", "}", ")", ")", ";", "gonextmonth", "=", "async", "(", ")", "=", ">", "{", "await", "this.changestatefunction", "(", ")", ";", "const", "history", "=", "createbrowserhistory", "(", ")", ";", "history.push", "(", "`", "/calendar", "?", "year=", "$", "{", "this.state.year", "}", "&", "month=", "$", "{", "this.state.month", "}", "`", ")", ";", "}", "goprevmonth", "=", "async", "(", ")", "=", ">", "{", "await", "this.changestatefunction", "(", ")", ";", "const", "history", "=", "createbrowserhistory", "(", ")", ";", "history.push", "(", "`", "/calendar", "?", "year=", "$", "{", "this.state.year", "}", "&", "month=", "$", "{", "this.state.month", "}", "`", ")", ";", "}", "simply", "putting", "-", "this.setstate", "(", "{", "data", ":", "value", "}", ")", "is", "asynchronous", "in", "nature", "that", "means", "it", "moves", "out", "of", "the", "call", "stack", "and", "only", "comes", "back", "to", "the", "call", "stack", "unless", "it", "is", "resolved", ".", "please", "read", "about", "event", "loop", "to", "have", "a", "clear", "picture", "about", "asynchronous", "nature", "in", "js", "and", "why", "it", "takes", "time", "to", "update", "-", "https", ":", "//medium.com/front-end-weekly/javascript-event-loop-explained-4cd26af121d4", "hence", "-", "this.setstate", "(", "{", "data", ":", "value", "}", ")", ";", "console.log", "(", "this.state.data", ")", ";", "//", "will", "give", "undefined", "or", "unupdated", "value", "as", "it", "takes", "time", "to", "update", ".", "to", "achieve", "the", "above", "process", "-", "this.setstate", "(", "{", "data", ":", "value", "}", ",", "function", "(", ")", "{", "console.log", "(", "this.state.data", ")", ";", "}", ")", ";", "with", "react-router", "i", "can", "use", "the", "link", "element", "to", "create", "links", "which", "are", "natively", "handled", "by", "react", "router", ".", "i", "see", "internally", "it", "calls", "this.context.transitionto", "(", "...", ")", ".", "i", "want", "to", "do", "a", "navigation", ".", "not", "from", "a", "link", ",", "but", "from", "a", "dropdown", "selection", "(", "as", "an", "example", ")", ".", "how", "can", "i", "do", "this", "in", "code", "?", "what", "is", "this.context", "?", "i", "saw", "the", "navigation", "mixin", ",", "but", "can", "i", "do", "this", "without", "mixins", "?", "react", "router", "v5.1.0", "with", "hooks", "there", "is", "a", "new", "usehistory", "hook", "in", "react", "router", ">", "5.1.0", "if", "you", "are", "using", "react", ">", "16.8.0", "and", "functional", "components", ".", "import", "{", "usehistory", "}", "from", "``", "react-router-dom", "''", ";", "function", "homebutton", "(", ")", "{", "const", "history", "=", "usehistory", "(", ")", ";", "function", "handleclick", "(", ")", "{", "history.push", "(", "``", "/home", "''", ")", ";", "}", "return", "(", "<", "button", "type=", "''", "button", "''", "onclick=", "{", "handleclick", "}", ">", "go", "home", "<", "/button", ">", ")", ";", "}", "react", "router", "v4", "with", "v4", "of", "react", "router", ",", "there", "are", "three", "approaches", "that", "you", "can", "take", "to", "programmatic", "routing", "within", "components", ".", "use", "the", "withrouter", "higher-order", "component", ".", "use", "composition", "and", "render", "a", "<", "route", ">", "use", "the", "context", ".", "react", "router", "is", "mostly", "a", "wrapper", "around", "the", "history", "library", ".", "history", "handles", "interaction", "with", "the", "browser", "'s", "window.history", "for", "you", "with", "its", "browser", "and", "hash", "histories", ".", "it", "also", "provides", "a", "memory", "history", "which", "is", "useful", "for", "environments", "that", "do", "n't", "have", "a", "global", "history", ".", "this", "is", "particularly", "useful", "in", "mobile", "app", "development", "(", "react-native", ")", "and", "unit", "testing", "with", "node", ".", "a", "history", "instance", "has", "two", "methods", "for", "navigating", ":", "push", "and", "replace", ".", "if", "you", "think", "of", "the", "history", "as", "an", "array", "of", "visited", "locations", ",", "push", "will", "add", "a", "new", "location", "to", "the", "array", "and", "replace", "will", "replace", "the", "current", "location", "in", "the", "array", "with", "the", "new", "one", ".", "typically", "you", "will", "want", "to", "use", "the", "push", "method", "when", "you", "are", "navigating", ".", "in", "earlier", "versions", "of", "react", "router", ",", "you", "had", "to", "create", "your", "own", "history", "instance", ",", "but", "in", "v4", "the", "<", "browserrouter", ">", ",", "<", "hashrouter", ">", ",", "and", "<", "memoryrouter", ">", "components", "will", "create", "a", "browser", ",", "hash", ",", "and", "memory", "instances", "for", "you", ".", "react", "router", "makes", "the", "properties", "and", "methods", "of", "the", "history", "instance", "associated", "with", "your", "router", "available", "through", "the", "context", ",", "under", "the", "router", "object", ".", "1.", "use", "the", "withrouter", "higher-order", "component", "the", "withrouter", "higher-order", "component", "will", "inject", "the", "history", "object", "as", "a", "prop", "of", "the", "component", ".", "this", "allows", "you", "to", "access", "the", "push", "and", "replace", "methods", "without", "having", "to", "deal", "with", "the", "context", ".", "import", "{", "withrouter", "}", "from", "'react-router-dom", "'", "//", "this", "also", "works", "with", "react-router-native", "const", "button", "=", "withrouter", "(", "(", "{", "history", "}", ")", "=", ">", "(", "<", "button", "type='button", "'", "onclick=", "{", "(", ")", "=", ">", "{", "history.push", "(", "'/new-location", "'", ")", "}", "}", ">", "click", "me", "!", "<", "/button", ">", ")", ")", "2.", "use", "composition", "and", "render", "a", "<", "route", ">", "the", "<", "route", ">", "component", "is", "n't", "just", "for", "matching", "locations", ".", "you", "can", "render", "a", "pathless", "route", "and", "it", "will", "always", "match", "the", "current", "location", ".", "the", "<", "route", ">", "component", "passes", "the", "same", "props", "as", "withrouter", ",", "so", "you", "will", "be", "able", "to", "access", "the", "history", "methods", "through", "the", "history", "prop", ".", "import", "{", "route", "}", "from", "'react-router-dom", "'", "const", "button", "=", "(", ")", "=", ">", "(", "<", "route", "render=", "{", "(", "{", "history", "}", ")", "=", ">", "(", "<", "button", "type='button", "'", "onclick=", "{", "(", ")", "=", ">", "{", "history.push", "(", "'/new-location", "'", ")", "}", "}", ">", "click", "me", "!", "<", "/button", ">", ")", "}", "/", ">", ")", "3.", "use", "the", "context", "*", "but", "you", "probably", "should", "not", "the", "last", "option", "is", "one", "that", "you", "should", "only", "use", "if", "you", "feel", "comfortable", "working", "with", "react", "'s", "context", "model", "(", "react", "'s", "context", "api", "is", "stable", "as", "of", "v16", ")", ".", "const", "button", "=", "(", "props", ",", "context", ")", "=", ">", "(", "<", "button", "type='button", "'", "onclick=", "{", "(", ")", "=", ">", "{", "//", "context.history.push", "===", "history.push", "context.history.push", "(", "'/new-location", "'", ")", "}", "}", ">", "click", "me", "!", "<", "/button", ">", ")", "//", "you", "need", "to", "specify", "the", "context", "type", "so", "that", "it", "//", "is", "available", "within", "the", "component", "button.contexttypes", "=", "{", "history", ":", "react.proptypes.shape", "(", "{", "push", ":", "react.proptypes.func.isrequired", "}", ")", "}", "1", "and", "2", "are", "the", "simplest", "choices", "to", "implement", ",", "so", "for", "most", "use", "cases", ",", "they", "are", "your", "best", "bets", ".", "react-router", "5.1.0+", "answer", "(", "using", "hooks", "and", "react", ">", "16.8", ")", "you", "can", "use", "the", "new", "usehistory", "hook", "on", "functional", "components", "and", "programmatically", "navigate", ":", "import", "{", "usehistory", "}", "from", "``", "react-router-dom", "''", ";", "function", "homebutton", "(", ")", "{", "let", "history", "=", "usehistory", "(", ")", ";", "//", "use", "history.push", "(", "'/some/path", "'", ")", "here", "}", ";", "react-router", "4.0.0+", "answer", "in", "4.0", "and", "above", ",", "use", "the", "history", "as", "a", "prop", "of", "your", "component", ".", "class", "example", "extends", "react.component", "{", "//", "use", "`", "this.props.history.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "note", ":", "this.props.history", "does", "not", "exist", "in", "the", "case", "your", "component", "was", "not", "rendered", "by", "<", "route", ">", ".", "you", "should", "use", "<", "route", "path=", "''", "...", "''", "component=", "{", "yourcomponent", "}", "/", ">", "to", "have", "this.props.history", "in", "yourcomponent", "react-router", "3.0.0+", "answer", "in", "3.0", "and", "above", ",", "use", "the", "router", "as", "a", "prop", "of", "your", "component", ".", "class", "example", "extends", "react.component", "{", "//", "use", "`", "this.props.router.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "react-router", "2.4.0+", "answer", "in", "2.4", "and", "above", ",", "use", "a", "higher", "order", "component", "to", "get", "the", "router", "as", "a", "prop", "of", "your", "component", ".", "import", "{", "withrouter", "}", "from", "'react-router", "'", ";", "class", "example", "extends", "react.component", "{", "//", "use", "`", "this.props.router.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "//", "export", "the", "decorated", "class", "var", "decoratedexample", "=", "withrouter", "(", "example", ")", ";", "//", "proptypes", "example.proptypes", "=", "{", "router", ":", "react.proptypes.shape", "(", "{", "push", ":", "react.proptypes.func.isrequired", "}", ")", ".isrequired", "}", ";", "react-router", "2.0.0+", "answer", "this", "version", "is", "backwards", "compatible", "with", "1.x", "so", "there", "'s", "no", "need", "to", "an", "upgrade", "guide", ".", "just", "going", "through", "the", "examples", "should", "be", "good", "enough", ".", "that", "said", ",", "if", "you", "wish", "to", "switch", "to", "the", "new", "pattern", ",", "there", "'s", "a", "browserhistory", "module", "inside", "the", "router", "that", "you", "can", "access", "with", "import", "{", "browserhistory", "}", "from", "'react-router", "'", "now", "you", "have", "access", "to", "your", "browser", "history", ",", "so", "you", "can", "do", "things", "like", "push", ",", "replace", ",", "etc", "...", "like", ":", "browserhistory.push", "(", "'/some/path", "'", ")", "further", "reading", ":", "histories", "and", "navigation", "react-router", "1.x.x", "answer", "i", "will", "not", "go", "into", "upgrading", "details", ".", "you", "can", "read", "about", "that", "in", "the", "upgrade", "guide", "the", "main", "change", "about", "the", "question", "here", "is", "the", "change", "from", "navigation", "mixin", "to", "history", ".", "now", "it", "'s", "using", "the", "browser", "historyapi", "to", "change", "route", "so", "we", "will", "use", "pushstate", "(", ")", "from", "now", "on", ".", "here", "'s", "an", "exemple", "using", "mixin", ":", "var", "example", "=", "react.createclass", "(", "{", "mixins", ":", "[", "history", "]", ",", "navigatetohelppage", "(", ")", "{", "this.history.pushstate", "(", "null", ",", "`", "/help", "`", ")", ";", "}", "}", ")", "note", "that", "this", "history", "comes", "from", "rackt/history", "project", ".", "not", "from", "react-router", "itself", ".", "if", "you", "do", "n't", "want", "to", "use", "mixin", "for", "some", "reason", "(", "maybe", "because", "of", "es6", "class", ")", ",", "then", "you", "can", "access", "the", "history", "that", "you", "get", "from", "the", "router", "from", "this.props.history", ".", "it", "will", "be", "only", "accessible", "for", "the", "components", "rendered", "by", "your", "router", ".", "so", ",", "if", "you", "want", "to", "use", "it", "in", "any", "child", "components", "it", "needs", "to", "be", "passed", "down", "as", "an", "attribute", "via", "props", ".", "you", "can", "read", "more", "about", "the", "new", "release", "at", "their", "1.0.x", "documentation", "here", "is", "a", "help", "page", "specifically", "about", "navigating", "outside", "your", "component", "it", "recommends", "grabbing", "a", "reference", "history", "=", "createhistory", "(", ")", "and", "calling", "replacestate", "on", "that", ".", "react-router", "0.13.x", "answer", "i", "got", "into", "the", "same", "problem", "and", "could", "only", "find", "the", "solution", "with", "the", "navigation", "mixin", "that", "comes", "with", "react-router", ".", "here", "'s", "how", "i", "did", "it", "import", "react", "from", "'react", "'", ";", "import", "{", "navigation", "}", "from", "'react-router", "'", ";", "let", "authentication", "=", "react.createclass", "(", "{", "mixins", ":", "[", "navigation", "]", ",", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.transitionto", "(", "'/", "'", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.handleclick", "}", ">", "click", "me", "!", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "i", "was", "able", "to", "call", "transitionto", "(", ")", "without", "the", "need", "to", "access", ".context", "or", "you", "could", "try", "the", "fancy", "es6", "class", "import", "react", "from", "'react", "'", ";", "export", "default", "class", "authentication", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.handleclick", "=", "this.handleclick.bind", "(", "this", ")", ";", "}", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.context.router.transitionto", "(", "'/", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.handleclick", "}", ">", "click", "me", "!", "<", "/div", ">", ")", ";", "}", "}", "authentication.contexttypes", "=", "{", "router", ":", "react.proptypes.func.isrequired", "}", ";", "react-router-redux", "note", ":", "if", "you", "'re", "using", "redux", ",", "there", "is", "another", "project", "called", "react-router-redux", "that", "gives", "you", "redux", "bindings", "for", "reactrouter", ",", "using", "somewhat", "the", "same", "approach", "that", "react-redux", "does", "react-router-redux", "has", "a", "few", "methods", "available", "that", "allow", "for", "simple", "navigating", "from", "inside", "action", "creators", ".", "these", "can", "be", "particularly", "useful", "for", "people", "that", "have", "existing", "architecture", "in", "react", "native", ",", "and", "they", "wish", "to", "utilize", "the", "same", "patterns", "in", "react", "web", "with", "minimal", "boilerplate", "overhead", ".", "explore", "the", "following", "methods", ":", "push", "(", "location", ")", "replace", "(", "location", ")", "go", "(", "number", ")", "goback", "(", ")", "goforward", "(", ")", "here", "is", "an", "example", "usage", ",", "with", "redux-thunk", ":", "./actioncreators.js", "import", "{", "goback", "}", "from", "'react-router-redux", "'", "export", "const", "onbackpress", "=", "(", ")", "=", ">", "(", "dispatch", ")", "=", ">", "dispatch", "(", "goback", "(", ")", ")", "./viewcomponent.js", "<", "button", "disabled=", "{", "submitting", "}", "classname=", "''", "cancel_button", "''", "onclick=", "{", "(", "e", ")", "=", ">", "{", "e.preventdefault", "(", ")", "this.props.onbackpress", "(", ")", "}", "}", ">", "cancel", "<", "/button", ">", "react-router", "v2", "for", "the", "most", "recent", "release", "(", "v2.0.0-rc5", ")", ",", "the", "recommended", "navigation", "method", "is", "by", "directly", "pushing", "onto", "the", "history", "singleton", ".", "you", "can", "see", "that", "in", "action", "in", "the", "navigating", "outside", "of", "components", "doc", ".", "relevant", "excerpt", ":", "import", "{", "browserhistory", "}", "from", "'react-router", "'", ";", "browserhistory.push", "(", "'/some/path", "'", ")", ";", "if", "using", "the", "newer", "react-router", "api", ",", "you", "need", "to", "make", "use", "of", "the", "history", "from", "this.props", "when", "inside", "of", "components", "so", ":", "this.props.history.push", "(", "'/some/path", "'", ")", ";", "it", "also", "offers", "pushstate", "but", "that", "is", "deprecated", "per", "logged", "warnings", ".", "if", "using", "react-router-redux", ",", "it", "offers", "a", "push", "function", "you", "can", "dispatch", "like", "so", ":", "import", "{", "push", "}", "from", "'react-router-redux", "'", ";", "this.props.dispatch", "(", "push", "(", "'/some/path", "'", ")", ")", ";", "however", "this", "may", "be", "only", "used", "to", "change", "the", "url", ",", "not", "to", "actually", "navigate", "to", "the", "page", ".", "here", "'s", "how", "you", "do", "this", "with", "react-router", "v2.0.0", "with", "es6", ".", "react-router", "has", "moved", "away", "from", "mixins", ".", "import", "react", "from", "'react", "'", ";", "export", "default", "class", "mycomponent", "extends", "react.component", "{", "navigatetopage", "=", "(", ")", "=", ">", "{", "this.context.router.push", "(", "'/my-route", "'", ")", "}", ";", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.navigatetopage", "}", ">", "go", "!", "<", "/button", ">", ")", ";", "}", "}", "mycomponent.contexttypes", "=", "{", "router", ":", "react.proptypes.object.isrequired", "}", "react-router", "4.x", "answer", ":", "on", "my", "end", ",", "i", "like", "to", "have", "a", "single", "history", "object", "that", "i", "can", "carry", "even", "outside", "components", ".", "what", "i", "like", "to", "do", "is", "to", "have", "a", "single", "history.js", "file", "that", "i", "import", "on", "demand", ",", "and", "just", "manipulate", "it", ".", "you", "just", "have", "to", "change", "browserrouter", "to", "router", ",", "and", "specify", "the", "history", "prop", ".", "this", "does", "n't", "change", "anything", "for", "you", "except", "that", "you", "have", "your", "own", "history", "object", "that", "you", "can", "manipulate", "as", "you", "want", ".", "you", "need", "to", "install", "history", ",", "the", "library", "used", "by", "react-router", ".", "example", "usage", ",", "es6", "notation", ":", "history.js", "import", "createbrowserhistory", "from", "'history/createbrowserhistory", "'", "export", "default", "createbrowserhistory", "(", ")", "basiccomponent.js", "import", "react", ",", "{", "component", "}", "from", "'react", "'", ";", "import", "history", "from", "'./history", "'", ";", "class", "basiccomponent", "extends", "component", "{", "gotoindex", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "history.push", "(", "'/", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "a", "href=", "''", "#", "''", "onclick=", "{", "this.gotoindex", "}", ">", "previous", "<", "/a", ">", ";", "}", "}", "edit", "april", "16th", ",", "2018", ":", "if", "you", "have", "to", "navigate", "from", "a", "component", "that", "is", "actually", "rendered", "from", "a", "route", "component", ",", "you", "can", "also", "access", "history", "from", "props", ",", "like", "that", ":", "basiccomponent.js", "import", "react", ",", "{", "component", "}", "from", "'react", "'", ";", "class", "basiccomponent", "extends", "component", "{", "navigate", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.props.history.push", "(", "'/url", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "a", "href=", "''", "#", "''", "onclick=", "{", "this.navigate", "}", ">", "previous", "<", "/a", ">", ";", "}", "}", "for", "this", "one", ",", "who", "does", "not", "control", "the", "server", "side", "and", "because", "of", "this", "is", "using", "hash", "router", "v2", ":", "place", "your", "history", "into", "separate", "file", "(", "e.g", ".", "app_history.js", "es6", ")", ":", "import", "{", "userouterhistory", "}", "from", "'react-router", "'", "import", "{", "createhashhistory", "}", "from", "'history", "'", "const", "apphistory", "=", "userouterhistory", "(", "createhashhistory", ")", "(", "{", "querykey", ":", "false", "}", ")", ";", "export", "default", "apphistory", ";", "and", "use", "it", "everywhere", "!", "your", "entry", "point", "for", "react-router", "(", "app.js", "es6", ")", ":", "import", "react", "from", "'react", "'", "import", "{", "render", "}", "from", "'react-dom", "'", "import", "{", "router", ",", "route", ",", "redirect", "}", "from", "'react-router", "'", "import", "apphistory", "from", "'./app_history", "'", "...", "const", "render", "(", "(", "<", "router", "history=", "{", "apphistory", "}", ">", "...", "<", "/router", ">", ")", ",", "document.queryselector", "(", "'", "[", "data-role=", "''", "app", "''", "]", "'", ")", ")", ";", "your", "navigation", "inside", "any", "component", "(", "es6", ")", ":", "import", "apphistory", "from", "'", "..", "/app_history", "'", "...", "ajaxlogin", "(", "'/login", "'", ",", "(", "err", ",", "data", ")", "=", ">", "{", "if", "(", "err", ")", "{", "console.error", "(", "err", ")", ";", "//", "login", "failed", "}", "else", "{", "//", "logged", "in", "apphistory.replace", "(", "'/dashboard", "'", ")", ";", "//", "or", ".push", "(", ")", "if", "you", "do", "n't", "need", ".replace", "(", ")", "}", "}", ")", "edit", ":", "react", "router", "v6", "i", "have", "n't", "touched", "react", "in", "a", "while", ",", "but", "want", "to", "thank", "and", "highlight", "the", "comment", "below", "by", "@", "shimrit", "snapir", "on", "react-router", "6.0", "<", "redirect", "/", ">", "changed", "to", "<", "navigate", "/", ">", "react", "router", "v4", "tl", ":", "dr", ";", "if", "(", "navigate", ")", "{", "return", "<", "redirect", "to=", "''", "/", "''", "push=", "{", "true", "}", "/", ">", "}", "the", "simple", "and", "declarative", "answer", "is", "that", "you", "need", "to", "use", "<", "redirect", "to=", "{", "url", "}", "push=", "{", "boolean", "}", "/", ">", "in", "combination", "with", "setstate", "(", ")", "push", ":", "boolean", "-", "when", "true", ",", "redirecting", "will", "push", "a", "new", "entry", "onto", "the", "history", "instead", "of", "replacing", "the", "current", "one", ".", "import", "{", "redirect", "}", "from", "'react-router", "'", "class", "foobar", "extends", "react.component", "{", "state", "=", "{", "navigate", ":", "false", "}", "render", "(", ")", "{", "const", "{", "navigate", "}", "=", "this.state", "//", "here", "is", "the", "important", "part", "if", "(", "navigate", ")", "{", "return", "<", "redirect", "to=", "''", "/", "''", "push=", "{", "true", "}", "/", ">", "}", "//", "^^^^^^^^^^^^^^^^^^^^^^^", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.setstate", "(", "{", "navigate", ":", "true", "}", ")", "}", ">", "home", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "full", "example", "here", ".", "read", "more", "here", ".", "ps", ".", "the", "example", "uses", "es7+", "property", "initializers", "to", "initialise", "state", ".", "look", "here", "as", "well", ",", "if", "you", "'re", "interested", ".", "warning", ":", "this", "answer", "covers", "only", "reactrouter", "versions", "before", "1.0", "i", "will", "update", "this", "answer", "with", "1.0.0-rc1", "use", "cases", "after", "!", "you", "can", "do", "this", "without", "mixins", "too", ".", "let", "authentication", "=", "react.createclass", "(", "{", "contexttypes", ":", "{", "router", ":", "react.proptypes.func", "}", ",", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", ";", "this.context.router.transitionto", "(", "'/", "'", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.handleclick", "}", ">", "click", "me", "!", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "the", "gotcha", "with", "contexts", "is", "that", "it", "is", "not", "accessible", "unless", "you", "define", "the", "contexttypes", "on", "the", "class", ".", "as", "for", "what", "is", "context", ",", "it", "is", "an", "object", ",", "like", "props", ",", "that", "are", "passed", "down", "from", "parent", "to", "child", ",", "but", "it", "is", "passed", "down", "implicitly", ",", "without", "having", "to", "redeclare", "props", "each", "time", ".", "see", "https", ":", "//www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html", "i", "tried", "at", "least", "10", "ways", "of", "doing", "this", "before", "something", "worked", "right", "!", "@", "felipe", "skinner", "'s", "withrouter", "answer", "was", "a", "bit", "overwhelming", "to", "me", ",", "and", "i", "was", "n't", "sure", "i", "wanted", "to", "make", "new", "``", "exportedwithrouter", "''", "class", "names", ".", "here", "'s", "the", "simplest", "and", "cleanest", "way", "to", "do", "it", ",", "circa", "current", "react-router", "3.0.0", "and", "es6", ":", "react-router", "3.x.x", "with", "es6", ":", "import", "{", "withrouter", "}", "from", "'react-router", "'", ";", "class", "example", "extends", "react.component", "{", "//", "use", "`", "this.props.router.push", "(", "'/some/path", "'", ")", "`", "here", "}", ";", "//", "export", "the", "decorated", "class", "export", "default", "withrouter", "(", "example", ")", ";", "or", ",", "if", "it", "'s", "not", "your", "default", "class", ",", "export", "like", ":", "withrouter", "(", "example", ")", ";", "export", "{", "example", "}", ";", "note", "that", "in", "3.x.x", ",", "the", "<", "link", ">", "component", "itself", "is", "using", "router.push", ",", "so", "you", "can", "pass", "it", "anything", "you", "would", "pass", "the", "<", "link", "to=", "tag", ",", "like", ":", "this.props.router.push", "(", "{", "pathname", ":", "'/some/path", "'", ",", "query", ":", "{", "key1", ":", "'val1", "'", ",", "key2", ":", "'val2", "'", "}", ")", "'", "to", "do", "the", "navigation", "programmatically", ",", "you", "need", "to", "push", "a", "new", "history", "to", "the", "props.history", "in", "your", "component", ",", "so", "something", "like", "this", "can", "do", "the", "work", "for", "you", ":", "//using", "es6", "import", "react", "from", "'react", "'", ";", "class", "app", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.handleclick", "=", "this.handleclick.bind", "(", "this", ")", "}", "handleclick", "(", "e", ")", "{", "e.preventdefault", "(", ")", "/", "*", "look", "at", "here", ",", "you", "can", "add", "it", "here", "*", "/", "this.props.history.push", "(", "'/redirected", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "redirect", "!", "!", "!", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "app", ";", "may", "not", "be", "the", "best", "approach", "but", "...", "using", "react-router", "v4", ",", "the", "following", "typescript", "could", "give", "an", "idea", "for", "some", ".", "in", "the", "rendered", "component", "below", ",", "e.g", ".", "loginpage", ",", "router", "object", "is", "accessible", "and", "just", "call", "router.transitionto", "(", "'/homepage", "'", ")", "to", "navigate", ".", "navigation", "code", "was", "taken", "from", ".", "``", "react-router", "''", ":", "``", "^4.0.0-2", "''", ",", "``", "react", "''", ":", "``", "^15.3.1", "''", ",", "import", "router", "from", "'react-router/browserrouter", "'", ";", "import", "{", "history", "}", "from", "'react-history/browserhistory", "'", ";", "import", "createhistory", "from", "'history/createbrowserhistory", "'", ";", "const", "history", "=", "createhistory", "(", ")", ";", "interface", "matchwithpropsinterface", "{", "component", ":", "typeof", "react.component", ",", "router", ":", "router", ",", "history", ":", "history", ",", "exactly", "?", ":", "any", ",", "pattern", ":", "string", "}", "class", "matchwithprops", "extends", "react.component", "<", "matchwithpropsinterface", ",", "any", ">", "{", "render", "(", ")", "{", "return", "(", "<", "match", "{", "...", "this.props", "}", "render=", "{", "(", "matchprops", ")", "=", ">", "(", "react.createelement", "(", "this.props.component", ",", "this.props", ")", ")", "}", "/", ">", ")", "}", "}", "reactdom.render", "(", "<", "router", ">", "{", "(", "{", "router", "}", ")", "=", ">", "(", "<", "div", ">", "<", "matchwithprops", "exactly", "pattern=", "''", "/", "''", "component=", "{", "loginpage", "}", "router=", "{", "router", "}", "history=", "{", "history", "}", "/", ">", "<", "matchwithprops", "pattern=", "''", "/login", "''", "component=", "{", "loginpage", "}", "router=", "{", "router", "}", "history=", "{", "history", "}", "/", ">", "<", "matchwithprops", "pattern=", "''", "/homepage", "''", "component=", "{", "homepage", "}", "router=", "{", "router", "}", "history=", "{", "history", "}", "/", ">", "<", "miss", "component=", "{", "notfoundview", "}", "/", ">", "<", "/div", ">", ")", "}", "<", "/router", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "for", "es6", "+", "react", "components", ",", "the", "following", "solution", "worked", "for", "me", ".", "i", "followed", "felippe", "skinner", ",", "but", "added", "an", "end", "to", "end", "solution", "to", "help", "beginners", "like", "me", ".", "below", "are", "the", "versions", "i", "used", ":", "``", "react-router", "''", ":", "``", "^2.7.0", "''", "``", "react", "''", ":", "``", "^15.3.1", "''", "below", "is", "my", "react", "component", "where", "i", "used", "programmatic", "navigation", "using", "react-router", ":", "import", "react", "from", "'react", "'", ";", "class", "logincomp", "extends", "react.component", "{", "constructor", "(", "context", ")", "{", "super", "(", "context", ")", ";", "this.state", "=", "{", "uname", ":", "``", ",", "pwd", ":", "``", "}", ";", "}", "redirecttomainpage", "(", ")", "{", "this.context.router.replace", "(", "'/home", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "div", ">", "//", "skipping", "html", "code", "<", "button", "onclick=", "{", "this.redirecttomainpage.bind", "(", "this", ")", "}", ">", "redirect", "<", "/button", ">", "<", "/div", ">", ";", "}", "}", ";", "logincomp.contexttypes", "=", "{", "router", ":", "react.proptypes.object.isrequired", "}", "module.exports", "=", "logincomp", ";", "below", "is", "the", "configuration", "for", "my", "router", ":", "import", "{", "router", ",", "route", ",", "indexredirect", ",", "browserhistory", "}", "from", "'react-router", "'", "render", "(", "<", "router", "history=", "{", "browserhistory", "}", ">", "<", "route", "path='/", "'", "component=", "{", "parentcomp", "}", ">", "<", "indexredirect", "to", "=", "``", "/login", "''", "/", ">", "<", "route", "path='/login", "'", "component=", "{", "logincomp", "}", "/", ">", "<", "route", "path='/home", "'", "component=", "{", "homecomp", "}", "/", ">", "<", "route", "path='/repair", "'", "component=", "{", "repairjobcomp", "}", "/", ">", "<", "route", "path='/service", "'", "component=", "{", "servicejobcomp", "}", "/", ">", "<", "/route", ">", "<", "/router", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "in", "react-router", "v4", "and", "es6", "you", "can", "use", "withrouter", "and", "this.props.history.push", ".", "import", "{", "withrouter", "}", "from", "'react-router-dom", "'", ";", "class", "home", "extends", "component", "{", "componentdidmount", "(", ")", "{", "this.props.history.push", "(", "'/redirect-to", "'", ")", ";", "}", "}", "export", "default", "withrouter", "(", "home", ")", ";", "to", "use", "withrouter", "with", "a", "class-based", "component", ",", "try", "something", "like", "this", "below", ".", "do", "n't", "forget", "to", "change", "the", "export", "statement", "to", "use", "withrouter", ":", "import", "{", "withrouter", "}", "from", "'react-router-dom", "'", "class", "yourclass", "extends", "react.component", "{", "yourfunction", "=", "(", ")", "=", ">", "{", "dosomeasyncaction", "(", "(", ")", "=", ">", "this.props.history.push", "(", "'/other_location", "'", ")", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "form", "onsubmit=", "{", "this.yourfunction", "}", "/", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "withrouter", "(", "yourclass", ")", ";", "with", "react-router", "v4", "on", "the", "horizon", ",", "there", "is", "now", "a", "new", "way", "of", "doing", "this", ".", "import", "{", "memoryrouter", ",", "browserrouter", "}", "from", "'react-router", "'", ";", "const", "navigator", "=", "global", "&", "&", "global.navigator", "&", "&", "global.navigator.useragent", ";", "const", "haswindow", "=", "typeof", "window", "!", "==", "'undefined", "'", ";", "const", "isbrowser", "=", "typeof", "navigator", "!", "==", "'undefined", "'", "&", "&", "navigator.indexof", "(", "'node.js", "'", ")", "===", "-1", ";", "const", "router", "=", "isbrowser", "?", "browserrouter", ":", "memoryrouter", ";", "<", "router", "location=", "''", "/page-to-go-to", "''", "/", ">", "react-lego", "is", "an", "example", "app", "that", "shows", "how", "to", "use/update", "react-router", "and", "it", "includes", "example", "functional", "tests", "which", "navigate", "the", "app", ".", "based", "on", "the", "previous", "answer", "from", "jos\u00e3\u00a9", "antonio", "postigo", "and", "ben", "wheeler", "the", "novelty", "?", "is", "to", "be", "written", "in", "typescript", "and", "the", "use", "of", "decorators", "or", "static", "property/field", "import", "*", "as", "react", "from", "``", "react", "''", ";", "import", "component", "=", "react.component", ";", "import", "{", "withrouter", "}", "from", "``", "react-router", "''", ";", "export", "interface", "inavigatorprops", "{", "router", "?", ":", "reactrouter.history.history", ";", "}", "/", "*", "*", "*", "note", ":", "goes", "great", "with", "mobx", "*", "@", "inject", "(", "``", "something", "''", ")", "@", "withrouter", "@", "observer", "*", "/", "@", "withrouter", "export", "class", "navigator", "extends", "component", "<", "inavigatorprops", ",", "{", "}", ">", "{", "navigate", ":", "(", "to", ":", "string", ")", "=", ">", "void", ";", "constructor", "(", "props", ":", "inavigatorprops", ")", "{", "super", "(", "props", ")", ";", "let", "self", "=", "this", ";", "this.navigate", "=", "(", "to", ")", "=", ">", "self.props.router.push", "(", "to", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "ul", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navigate", "(", "``", "/home", "''", ")", "}", ">", "home", "<", "/li", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navigate", "(", "``", "/about", "''", ")", "}", ">", "about", "<", "/li", ">", "<", "/ul", ">", ")", "}", "}", "/", "*", "*", "*", "non", "decorated", "*", "/", "export", "class", "navigator2", "extends", "component", "<", "inavigatorprops", ",", "{", "}", ">", "{", "static", "contexttypes", "=", "{", "router", ":", "react.proptypes.object.isrequired", ",", "}", ";", "navigate", ":", "(", "to", ":", "string", ")", "=", ">", "void", ";", "constructor", "(", "props", ":", "inavigatorprops", ",", "context", ":", "any", ")", "{", "super", "(", "props", ",", "context", ")", ";", "let", "s", "=", "this", ";", "this.navigate", "=", "(", "to", ")", "=", ">", "s.context.router.push", "(", "to", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "ul", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navigate", "(", "``", "/home", "''", ")", "}", ">", "home", "<", "/li", ">", "<", "li", "onclick=", "{", "(", ")", "=", ">", "this.navigate", "(", "``", "/about", "''", ")", "}", ">", "about", "<", "/li", ">", "<", "/ul", ">", ")", "}", "}", "with", "whatever", "npm", "installed", "today", ".", "``", "react-router", "''", ":", "``", "^3.0.0", "''", "and", "``", "@", "types/react-router", "''", ":", "``", "^2.0.41", "''", "in", "react", "router", "v4", ".", "i", "follow", "this", "two", "way", "to", "route", "programmatically", ".", "1.", "this.props.history.push", "(", "``", "/something/something", "''", ")", "2.", "this.props.history.replace", "(", "``", "/something/something", "''", ")", "number", "two", "replaces", "the", "current", "entry", "on", "the", "history", "stack", "to", "get", "history", "in", "props", "you", "may", "have", "to", "wrap", "your", "component", "with", "withrouter", "if", "you", "are", "using", "hash", "or", "browser", "history", "then", "you", "can", "do", "hashhistory.push", "(", "'/login", "'", ")", ";", "browserhistory.push", "(", "'/login", "'", ")", ";", "with", "the", "current", "react", "version", "(", "15.3", ")", ",", "this.props.history.push", "(", "'/location", "'", ")", ";", "worked", "for", "me", ",", "but", "it", "showed", "the", "following", "warning", ":", "browser.js:49", "warning", ":", "[", "react-router", "]", "props.history", "and", "context.history", "are", "deprecated", ".", "please", "use", "context.router", ".", "and", "i", "solved", "it", "using", "context.router", "like", "this", ":", "import", "react", "from", "'react", "'", ";", "class", "mycomponent", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.backpressed", "=", "this.backpressed.bind", "(", "this", ")", ";", "}", "backpressed", "(", ")", "{", "this.context.router.push", "(", "'/back-location", "'", ")", ";", "}", "...", "}", "mycomponent.contexttypes", "=", "{", "router", ":", "react.proptypes.object.isrequired", "}", ";", "export", "default", "mycomponent", ";", "react-router", "v4", "if", "you", "'re", "using", "version", "4", "then", "you", "can", "use", "my", "library", "(", "shameless", "plug", ")", "where", "you", "simply", "dispatch", "an", "action", "and", "everything", "just", "works", "!", "dispatch", "(", "navigateto", "(", "``", "/aboutus", "''", ")", ")", ";", "trippler", "those", "who", "are", "facing", "issues", "in", "implementing", "this", "on", "react-router", "v4", ".", "here", "is", "a", "working", "solution", "for", "navigating", "through", "the", "react", "app", "from", "redux", "actions", ".", "history.js", "import", "createhistory", "from", "'history/createbrowserhistory", "'", "export", "default", "createhistory", "(", ")", "app.js/route.jsx", "import", "{", "router", ",", "route", "}", "from", "'react-router-dom", "'", "import", "history", "from", "'./history", "'", "...", "<", "router", "history=", "{", "history", "}", ">", "<", "route", "path=", "''", "/test", "''", "component=", "{", "test", "}", "/", ">", "<", "/router", ">", "another_file.js", "or", "redux", "file", "import", "history", "from", "'./history", "'", "history.push", "(", "'/test", "'", ")", "//", "this", "should", "change", "the", "url", "and", "re-render", "test", "component", "all", "thanks", "to", "this", "comment", ":", "reacttraining", "issues", "comment", "you", "can", "also", "use", "the", "usehistory", "hook", "in", "a", "stateless", "component", ".", "example", "from", "the", "docs", ".", "import", "{", "usehistory", "}", "from", "``", "react-router", "''", "function", "homebutton", "(", ")", "{", "const", "history", "=", "usehistory", "(", ")", "return", "(", "<", "button", "type=", "''", "button", "''", "onclick=", "{", "(", ")", "=", ">", "history.push", "(", "``", "/home", "''", ")", "}", ">", "go", "home", "<", "/button", ">", ")", "}", "note", ":", "hooks", "were", "added", "in", "react-router", "@", "5.1.0", "and", "require", "react", "@", ">", "=16.8", "the", "right", "answer", "was", "for", "me", "at", "the", "time", "of", "writing", "this.context.router.history.push", "(", "'/", "'", ")", ";", "but", "you", "need", "to", "add", "proptypes", "to", "your", "component", "header.contexttypes", "=", "{", "router", ":", "proptypes.object.isrequired", "}", "export", "default", "header", ";", "do", "n't", "forget", "to", "import", "proptypes", "import", "proptypes", "from", "'prop-types", "'", ";", "maybe", "not", "the", "best", "solution", "but", "it", "gets", "the", "job", "done", ":", "import", "{", "link", "}", "from", "'react-router-dom", "'", ";", "//", "create", "functional", "component", "post", "export", "default", "post", "=", "(", ")", "=", ">", "(", "<", "div", "classname=", "''", "component", "post", "''", ">", "<", "button", "classname=", "''", "button", "delete-post", "''", "onclick=", "{", "(", ")", "=", ">", "{", "//", "...", "delete", "post", "//", "then", "redirect", ",", "without", "page", "reload", ",", "by", "triggering", "a", "hidden", "link", "document.queryselector", "(", "'.trigger.go-home", "'", ")", ".click", "(", ")", ";", "}", "}", ">", "delete", "post", "<", "/button", ">", "<", "link", "to=", "''", "/", "''", "classname=", "''", "trigger", "go-home", "hidden", "''", ">", "<", "/link", ">", "<", "/div", ">", ")", ";", "basically", ",", "a", "logic", "tied", "to", "one", "action", "(", "in", "this", "case", "a", "post", "deletion", ")", "will", "end", "up", "calling", "a", "trigger", "for", "redirect", ".", "this", "is", "not", "ideal", "because", "you", "will", "add", "a", "dom", "node", "'trigger", "'", "to", "your", "markup", "just", "so", "you", "can", "conveniently", "call", "it", "when", "needed", ".", "also", ",", "you", "will", "directly", "interact", "with", "the", "dom", ",", "which", "in", "a", "react", "component", "may", "not", "be", "desired", ".", "still", ",", "this", "type", "of", "redirect", "is", "not", "required", "that", "often", ".", "so", "one", "or", "two", "extra", ",", "hidden", "links", "in", "your", "component", "markup", "would", "not", "hurt", "that", "much", ",", "especially", "if", "you", "give", "them", "meaningful", "names", ".", "if", "happen", "to", "pair", "rr4", "w/", "redux", "through", "react-router-redux", ",", "use", "the", "routing", "action", "creators", "from", "react-router-redux", "is", "a", "option", "as", "well", ".", "import", "{", "push", ",", "replace", ",", "...", "}", "from", "'react-router-redux", "'", "class", "wrappedcomponent", "extends", "react.component", "{", "handleredirect", "(", "url", ",", "replacestate", "=", "true", ")", "{", "replacestate", "?", "this.props.dispatch", "(", "replace", "(", "url", ")", ")", ":", "this.props.dispatch", "(", "push", "(", "url", ")", ")", "}", "render", "(", ")", "{", "...", "}", "}", "export", "default", "connect", "(", "null", ")", "(", "wrappedcomponent", ")", "if", "use", "redux", "thunk/saga", "to", "manage", "async", "flow", ",", "import", "the", "above", "action", "creators", "in", "redux", "actions", "and", "hook", "to", "react", "components", "using", "mapdispatchtoprops", "might", "be", "better", ".", "update", ":", "react", "router", "v6", "with", "hooks", "import", "{", "usenavigate", "}", "from", "'react-router-dom", "'", ";", "let", "navigate", "=", "usenavigate", "(", ")", ";", "navigate", "(", "'home", "'", ")", ";", "and", "to", "move", "across", "the", "browser", "history", ",", "navigate", "(", "-1", ")", ";", "--", "-", ">", "go", "back", "navigate", "(", "1", ")", ";", "--", "-", ">", "go", "forward", "navigate", "(", "-2", ")", ";", "--", "-", ">", "move", "two", "steps", "backward", ".", "this", "worked", "for", "me", ",", "no", "special", "imports", "needed", ":", "<", "input", "type=", "''", "button", "''", "name=", "''", "back", "''", "id=", "''", "back", "''", "class=", "''", "btn", "btn-primary", "''", "value=", "''", "back", "''", "onclick=", "{", "(", ")", "=", ">", "{", "this.props.history.goback", "(", ")", "}", "}", "/", ">", "try", "hookrouter", "instead", ",", "``", "the", "modern", "alternative", "to", "react-router", "''", "https", ":", "//www.npmjs.com/package/hookrouter", "import", "{", "useroutes", ",", "usepath", ",", "a", "}", "from", "``", "hookrouter", "''", ";", "to", "answer", "op", "question", "about", "linking", "through", "select", "box", "you", "can", "do", "it", ":", "navigate", "(", "'/about", "'", ")", ";", "*", "*", "*", "updated", "answer", "*", "*", "*", "i", "think", "hook-router", "was", "a", "good", "starter", "kit", "and", "helped", "me", "learn", "about", "routing", "but", "have", "since", "updated", "to", "react-router", "for", "it", "'s", "history", "and", "query", "parameter", "handling", ".", "import", "{", "uselocation", ",", "usehistory", "}", "from", "'react-router-dom", "'", ";", "const", "component", "=", "(", "props", ")", "=", ">", "{", "const", "history", "=", "usehistory", "(", ")", ";", "//", "programmatically", "navigate", "history.push", "(", "newurlstring", ")", ";", "}", "you", "push", "where", "you", "want", "to", "navigate", "into", "the", "location.history", ".", "for", "react", "router", "v4+", "assuming", "that", "you", "wo", "n't", "be", "needing", "to", "navigate", "during", "the", "initial", "render", "itself", "(", "for", "which", "you", "can", "use", "<", "redirect", ">", "component", ")", ",", "this", "is", "what", "we", "are", "doing", "in", "our", "app", ".", "define", "an", "empty", "route", "which", "returns", "null", ",", "this", "will", "allow", "you", "to", "get", "the", "access", "to", "the", "history", "object", ".", "you", "need", "to", "do", "this", "at", "the", "top", "level", "where", "your", "router", "is", "defined", ".", "now", "you", "can", "do", "all", "the", "things", "that", "can", "be", "done", "on", "history", "like", "history.push", "(", ")", ",", "history.replace", "(", ")", ",", "history.go", "(", "-1", ")", "etc", "!", "import", "react", "from", "'react", "'", ";", "import", "{", "hashrouter", ",", "route", "}", "from", "'react-router-dom", "'", ";", "let", "routehistory", "=", "null", ";", "export", "function", "navigateto", "(", "path", ")", "{", "if", "(", "routehistory", "!", "==", "null", ")", "{", "routehistory.push", "(", "path", ")", ";", "}", "}", "export", "default", "function", "app", "(", "props", ")", "{", "return", "(", "<", "hashrouter", "hashtype=", "''", "noslash", "''", ">", "<", "route", "render=", "{", "(", "{", "history", "}", ")", "=", ">", "{", "routehistory", "=", "history", ";", "return", "null", ";", "}", "}", "/", ">", "{", "/", "*", "rest", "of", "the", "app", "*", "/", "}", "<", "/hashrouter", ">", ")", ";", "}", "react-router-dom", ":", "5.1.2", "this", "site", "has", "3", "pages", ",", "all", "of", "which", "are", "rendered", "dynamically", "in", "the", "browser", ".", "although", "the", "page", "does", "not", "ever", "refresh", ",", "notice", "how", "react", "router", "keeps", "the", "url", "up", "to", "date", "as", "you", "navigate", "through", "the", "site", ".", "this", "preserves", "the", "browser", "history", ",", "making", "sure", "things", "like", "the", "back", "button", "and", "bookmarks", "work", "properly", "a", "switch", "looks", "through", "all", "its", "children", "elements", "and", "renders", "the", "first", "one", "whose", "path", "matches", "the", "current", "url", ".", "use", "a", "any", "time", "you", "have", "multiple", "routes", ",", "but", "you", "want", "only", "one", "of", "them", "to", "render", "at", "a", "time", "import", "react", "from", "``", "react", "''", ";", "import", "{", "browserrouter", "as", "router", ",", "switch", ",", "route", ",", "link", "}", "from", "``", "react-router-dom", "''", ";", "export", "default", "function", "basicexample", "(", ")", "{", "return", "(", "<", "router", ">", "<", "div", ">", "<", "ul", ">", "<", "li", ">", "<", "link", "to=", "''", "/", "''", ">", "home", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/about", "''", ">", "about", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/dashboard", "''", ">", "dashboard", "<", "/link", ">", "<", "/li", ">", "<", "/ul", ">", "<", "hr", "/", ">", "<", "switch", ">", "<", "route", "exact", "path=", "''", "/", "''", ">", "<", "home", "/", ">", "<", "/route", ">", "<", "route", "path=", "''", "/about", "''", ">", "<", "about", "/", ">", "<", "/route", ">", "<", "route", "path=", "''", "/dashboard", "''", ">", "<", "dashboard", "/", ">", "<", "/route", ">", "<", "/switch", ">", "<", "/div", ">", "<", "/router", ">", ")", ";", "}", "//", "you", "can", "think", "of", "these", "components", "as", "``", "pages", "''", "//", "in", "your", "app", ".", "function", "home", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h2", ">", "home", "<", "/h2", ">", "<", "/div", ">", ")", ";", "}", "function", "about", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h2", ">", "about", "<", "/h2", ">", "<", "/div", ">", ")", ";", "}", "function", "dashboard", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h2", ">", "dashboard", "<", "/h2", ">", "<", "/div", ">", ")", ";", "}", "``", "`", "i", "'m", "using", "react-router", "and", "it", "works", "fine", "while", "i", "'m", "clicking", "on", "link", "buttons", ",", "but", "when", "i", "refresh", "my", "webpage", "it", "does", "not", "load", "what", "i", "want", ".", "for", "instance", ",", "i", "am", "in", "localhost/joblist", "and", "everything", "is", "fine", "because", "i", "arrived", "here", "pressing", "a", "link", ".", "but", "if", "i", "refresh", "the", "webpage", "i", "get", ":", "can", "not", "get", "/joblist", "by", "default", ",", "it", "did", "n't", "work", "like", "this", ".", "initially", "i", "had", "my", "url", "as", "localhost/", "#", "/", "and", "localhost/", "#", "/joblist", "and", "they", "worked", "perfectly", "fine", ".", "but", "i", "do", "n't", "like", "this", "kind", "of", "url", ",", "so", "trying", "to", "erase", "that", "#", ",", "i", "wrote", ":", "router.run", "(", "routes", ",", "router.historylocation", ",", "function", "(", "handler", ")", "{", "react.render", "(", "<", "handler/", ">", ",", "document.body", ")", ";", "}", ")", ";", "this", "problem", "does", "not", "happen", "with", "localhost/", ",", "this", "one", "always", "returns", "what", "i", "want", ".", "edit", ":", "this", "app", "is", "single-page", ",", "so", "/joblist", "does", "n't", "need", "to", "ask", "anything", "to", "any", "server", ".", "edit2", ":", "my", "entire", "router", ".", "var", "routes", "=", "(", "<", "route", "name=", "''", "app", "''", "path=", "''", "/", "''", "handler=", "{", "app", "}", ">", "<", "route", "name=", "''", "joblist", "''", "path=", "''", "/joblist", "''", "handler=", "{", "joblist", "}", "/", ">", "<", "defaultroute", "handler=", "{", "dashboard", "}", "/", ">", "<", "notfoundroute", "handler=", "{", "notfound", "}", "/", ">", "<", "/route", ">", ")", ";", "router.run", "(", "routes", ",", "router.historylocation", ",", "function", "(", "handler", ")", "{", "react.render", "(", "<", "handler/", ">", ",", "document.body", ")", ";", "}", ")", ";", "looking", "at", "the", "comments", "on", "the", "accepted", "answer", "and", "the", "generic", "nature", "of", "this", "question", "(", "'do", "n't", "work", "'", ")", ",", "i", "thought", "this", "might", "be", "a", "good", "place", "for", "some", "general", "explanations", "about", "the", "issues", "involved", "here", ".", "so", "this", "answer", "is", "intended", "as", "background", "info", "/", "elaboration", "on", "the", "specific", "use", "case", "of", "the", "op", ".", "please", "bear", "with", "me", ".", "server-side", "vs", "client-side", "the", "first", "big", "thing", "to", "understand", "about", "this", "is", "that", "there", "are", "now", "2", "places", "where", "the", "url", "is", "interpreted", ",", "whereas", "there", "used", "to", "be", "only", "1", "in", "'the", "old", "days", "'", ".", "in", "the", "past", ",", "when", "life", "was", "simple", ",", "some", "user", "sent", "a", "request", "for", "http", ":", "//example.com/about", "to", "the", "server", ",", "which", "inspected", "the", "path", "part", "of", "the", "url", ",", "determined", "the", "user", "was", "requesting", "the", "about", "page", "and", "then", "sent", "back", "that", "page", ".", "with", "client-side", "routing", ",", "which", "is", "what", "react-router", "provides", ",", "things", "are", "less", "simple", ".", "at", "first", ",", "the", "client", "does", "not", "have", "any", "js", "code", "loaded", "yet", ".", "so", "the", "very", "first", "request", "will", "always", "be", "to", "the", "server", ".", "that", "will", "then", "return", "a", "page", "that", "contains", "the", "needed", "script", "tags", "to", "load", "react", "and", "react", "router", "etc", ".", "only", "when", "those", "scripts", "have", "loaded", "does", "phase", "2", "start", ".", "in", "phase", "2", ",", "when", "the", "user", "clicks", "on", "the", "'about", "us", "'", "navigation", "link", "for", "example", ",", "the", "url", "is", "changed", "locally", "only", "to", "http", ":", "//example.com/about", "(", "made", "possible", "by", "the", "history", "api", ")", ",", "but", "no", "request", "to", "the", "server", "is", "made", ".", "instead", ",", "react", "router", "does", "its", "thing", "on", "the", "client", "side", ",", "determines", "which", "react", "view", "to", "render", "and", "renders", "it", ".", "assuming", "your", "about", "page", "does", "not", "need", "to", "make", "any", "rest", "calls", ",", "it", "'s", "done", "already", ".", "you", "have", "transitioned", "from", "home", "to", "about", "us", "without", "any", "server", "request", "having", "fired", ".", "so", "basically", "when", "you", "click", "a", "link", ",", "some", "javascript", "runs", "that", "manipulates", "the", "url", "in", "the", "address", "bar", ",", "without", "causing", "a", "page", "refresh", ",", "which", "in", "turn", "causes", "react", "router", "to", "perform", "a", "page", "transition", "on", "the", "client", "side", ".", "but", "now", "consider", "what", "happens", "if", "you", "copy-paste", "the", "url", "in", "the", "address", "bar", "and", "e-mail", "it", "to", "a", "friend", ".", "your", "friend", "has", "not", "loaded", "your", "website", "yet", ".", "in", "other", "words", ",", "she", "is", "still", "in", "phase", "1.", "no", "react", "router", "is", "running", "on", "her", "machine", "yet", ".", "so", "her", "browser", "will", "make", "a", "server", "request", "to", "http", ":", "//example.com/about", ".", "and", "this", "is", "where", "your", "trouble", "starts", ".", "until", "now", ",", "you", "could", "get", "away", "with", "just", "placing", "a", "static", "html", "at", "the", "webroot", "of", "your", "server", ".", "but", "that", "would", "give", "404", "errors", "for", "all", "other", "urls", "when", "requested", "from", "the", "server", ".", "those", "same", "urls", "work", "fine", "on", "the", "client", "side", ",", "because", "there", "react", "router", "is", "doing", "the", "routing", "for", "you", ",", "but", "they", "fail", "on", "the", "server", "side", "unless", "you", "make", "your", "server", "understand", "them", ".", "combining", "server-", "and", "client-side", "routing", "if", "you", "want", "the", "http", ":", "//example.com/about", "url", "to", "work", "on", "both", "the", "server-", "and", "the", "client-side", ",", "you", "need", "to", "set", "up", "routes", "for", "it", "on", "both", "the", "server-", "and", "the", "client", "side", ".", "makes", "sense", "right", "?", "and", "this", "is", "where", "your", "choices", "begin", ".", "solutions", "range", "from", "bypassing", "the", "problem", "altogether", ",", "via", "a", "catch-all", "route", "that", "returns", "the", "bootstrap", "html", ",", "to", "the", "full-on", "isomorphic", "approach", "where", "both", "the", "server", "and", "the", "client", "run", "the", "same", "js", "code", ".", ".", "bypassing", "the", "problem", "altogether", ":", "hash", "history", "with", "hash", "history", "instead", "of", "browser", "history", ",", "your", "url", "for", "the", "about", "page", "would", "look", "something", "like", "this", ":", "http", ":", "//example.com/", "#", "/about", "the", "part", "after", "the", "hash", "(", "#", ")", "symbol", "is", "not", "sent", "to", "the", "server", ".", "so", "the", "server", "only", "sees", "http", ":", "//example.com/", "and", "sends", "the", "index", "page", "as", "expected", ".", "react-router", "will", "pick", "up", "the", "#", "/about", "part", "and", "show", "the", "correct", "page", ".", "downsides", ":", "'ugly", "'", "urls", "server-side", "rendering", "is", "not", "possible", "with", "this", "approach", ".", "as", "far", "as", "search", "engine", "optimization", "(", "seo", ")", "is", "concerned", ",", "your", "website", "consists", "of", "a", "single", "page", "with", "hardly", "any", "content", "on", "it", ".", ".", "catch-all", "with", "this", "approach", "you", "do", "use", "browser", "history", ",", "but", "just", "set", "up", "a", "catch-all", "on", "the", "server", "that", "sends", "/", "*", "to", "index.html", ",", "effectively", "giving", "you", "much", "the", "same", "situation", "as", "with", "hash", "history", ".", "you", "do", "have", "clean", "urls", "however", "and", "you", "could", "improve", "upon", "this", "scheme", "later", "without", "having", "to", "invalidate", "all", "your", "user", "'s", "favorites", ".", "downsides", ":", "more", "complex", "to", "set", "up", "still", "no", "good", "seo", ".", "hybrid", "in", "the", "hybrid", "approach", "you", "expand", "upon", "the", "catch-all", "scenario", "by", "adding", "specific", "scripts", "for", "specific", "routes", ".", "you", "could", "make", "some", "simple", "php", "scripts", "to", "return", "the", "most", "important", "pages", "of", "your", "site", "with", "content", "included", ",", "so", "googlebot", "can", "at", "least", "see", "what", "'s", "on", "your", "page", ".", "downsides", ":", "even", "more", "complex", "to", "set", "up", "only", "good", "seo", "for", "those", "routes", "you", "give", "the", "special", "treatment", "duplicating", "code", "for", "rendering", "content", "on", "server", "and", "client", ".", "isomorphic", "what", "if", "we", "use", "node", "js", "as", "our", "server", "so", "we", "can", "run", "the", "same", "js", "code", "on", "both", "ends", "?", "now", ",", "we", "have", "all", "our", "routes", "defined", "in", "a", "single", "react-router", "config", "and", "we", "do", "n't", "need", "to", "duplicate", "our", "rendering", "code", ".", "this", "is", "'the", "holy", "grail", "'", "so", "to", "speak", ".", "the", "server", "sends", "the", "exact", "same", "markup", "as", "we", "would", "end", "up", "with", "if", "the", "page", "transition", "had", "happened", "on", "the", "client", ".", "this", "solution", "is", "optimal", "in", "terms", "of", "seo", ".", "downsides", ":", "server", "must", "(", "be", "able", "to", ")", "run", "js", ".", "i", "'ve", "experimented", "with", "java", "i.c.w", ".", "nashorn", "but", "it", "'s", "not", "working", "for", "me", ".", "in", "practice", "it", "mostly", "means", "you", "must", "use", "a", "node", "js", "based", "server", ".", "many", "tricky", "environmental", "issues", "(", "using", "window", "on", "server-side", "etc", ")", "steep", "learning", "curve", ".", "which", "should", "i", "use", "?", "choose", "the", "one", "that", "you", "can", "get", "away", "with", ".", "personally", "i", "think", "the", "catch-all", "is", "simple", "enough", "to", "set", "up", ",", "so", "that", "would", "be", "my", "minimum", ".", "this", "setup", "allows", "you", "to", "improve", "on", "things", "over", "time", ".", "if", "you", "are", "already", "using", "node", "js", "as", "your", "server", "platform", ",", "i", "'d", "definitely", "investigate", "doing", "an", "isomorphic", "app", ".", "yes", "it", "'s", "tough", "at", "first", ",", "but", "once", "you", "get", "the", "hang", "of", "it", "it", "'s", "actually", "a", "very", "elegant", "solution", "to", "the", "problem", ".", "so", "basically", ",", "for", "me", ",", "that", "would", "be", "the", "deciding", "factor", ".", "if", "my", "server", "runs", "on", "node", "js", ",", "i", "'d", "go", "isomorphic", ";", "otherwise", "i", "would", "go", "for", "the", "catch-all", "solution", "and", "just", "expand", "on", "it", "(", "hybrid", "solution", ")", "as", "time", "progresses", "and", "seo", "requirements", "demand", "it", ".", "if", "you", "'d", "like", "to", "learn", "more", "on", "isomorphic", "(", "also", "called", "'universal", "'", ")", "rendering", "with", "react", ",", "there", "are", "some", "good", "tutorials", "on", "the", "subject", ":", "react", "to", "the", "future", "with", "isomorphic", "apps", "the", "pain", "and", "the", "joy", "of", "creating", "isomorphic", "apps", "in", "reactjs", "how", "to", "implement", "node", "+", "react", "isomorphic", "javascript", "&", "why", "it", "matters", "also", ",", "to", "get", "you", "started", ",", "i", "recommend", "looking", "at", "some", "starter", "kits", ".", "pick", "one", "that", "matches", "your", "choices", "for", "the", "technology", "stack", "(", "remember", ",", "react", "is", "just", "the", "v", "in", "mvc", ",", "you", "need", "more", "stuff", "to", "build", "a", "full", "app", ")", ".", "start", "with", "looking", "at", "the", "one", "published", "by", "facebook", "itself", ":", "create", "react", "app", "or", "pick", "one", "of", "the", "many", "by", "the", "community", ".", "there", "is", "a", "nice", "site", "now", "that", "tries", "to", "index", "all", "of", "them", ":", "pick", "your", "perfect", "react", "starter", "project", "i", "started", "with", "these", ":", "react", "isomorphic", "starterkit", "react", "redux", "universal", "hot", "example", "currently", "i", "am", "using", "a", "home-brew", "version", "of", "universal", "rendering", "that", "was", "inspired", "by", "the", "two", "starter", "kits", "above", ",", "but", "they", "are", "out", "of", "date", "now", ".", "good", "luck", "with", "your", "quest", "!", "the", "answers", "here", "are", "all", "extremely", "helpful", ",", "what", "worked", "for", "me", "was", "configuring", "my", "webpack", "server", "to", "expect", "the", "routes", ".", "devserver", ":", "{", "historyapifallback", ":", "true", ",", "contentbase", ":", "'./", "'", ",", "hot", ":", "true", "}", ",", "the", "historyapifallback", "is", "what", "fixed", "this", "issue", "for", "me", ".", "now", "routing", "works", "correctly", "and", "i", "can", "refresh", "the", "page", "or", "type", "in", "the", "url", "directly", ".", "no", "need", "to", "worry", "about", "work", "arounds", "on", "your", "node", "server", ".", "this", "answer", "obviously", "only", "works", "if", "you", "'re", "using", "webpack", ".", "edit", ":", "see", "my", "answer", "here", "for", "a", "more", "detailed", "reason", "why", "this", "is", "necessary", ":", "https", ":", "//stackoverflow.com/a/37622953/5217568", "you", "can", "change", "your", ".htaccess", "file", "and", "insert", "this", ":", "<", "ifmodule", "mod_rewrite.c", ">", "rewriteengine", "on", "rewritebase", "/", "rewriterule", "^index\\.html", "$", "-", "[", "l", "]", "rewritecond", "%", "{", "request_filename", "}", "!", "-f", "rewritecond", "%", "{", "request_filename", "}", "!", "-d", "rewritecond", "%", "{", "request_filename", "}", "!", "-l", "rewriterule", ".", "/index.html", "[", "l", "]", "<", "/ifmodule", ">", "i", "am", "using", "react", ":", "``", "^16.12.0", "''", "and", "react-router", ":", "``", "^5.1.2", "''", "this", "method", "is", "the", "catch-all", "and", "is", "probably", "the", "easiest", "way", "to", "get", "you", "started", ".", "for", "react", "router", "v4", "users", ":", "if", "you", "try", "to", "solve", "this", "problem", "by", "hash", "history", "technique", "mentioned", "in", "other", "answers", ",", "note", "that", "<", "router", "history=", "{", "hashhistory", "}", ">", "does", "not", "work", "in", "v4", ",", "please", "use", "hashrouter", "instead", ":", "import", "{", "hashrouter", "}", "from", "'react-router-dom", "'", "<", "hashrouter", ">", "<", "app/", ">", "<", "/hashrouter", ">", "reference", ":", "hashrouter", "i", "used", "create-react-app", "to", "make", "a", "website", "just", "now", "and", "had", "the", "same", "issue", "presented", "here", ".", "i", "use", "browserrouting", "from", "the", "react-router-dom", "package", ".", "i", "am", "running", "on", "a", "nginx", "server", "and", "what", "solved", "it", "for", "me", "was", "adding", "the", "following", "to", "/etc/nginx/yourconfig.conf", "location", "/", "{", "if", "(", "!", "-e", "$", "request_filename", ")", "{", "rewrite", "^", "(", ".", "*", ")", "$", "/index.html", "break", ";", "}", "}", "which", "corresponds", "to", "adding", "the", "following", "to", "the", ".htaccess", "in", "case", "you", "are", "running", "appache", "options", "-multiviews", "rewriteengine", "on", "rewritecond", "%", "{", "request_filename", "}", "!", "-f", "rewriterule", "^", "index.html", "[", "qsa", ",", "l", "]", "this", "also", "seems", "to", "be", "the", "solution", "suggested", "by", "facebook", "themselves", "and", "can", "be", "found", "here", "in", "your", "index.html", "head", ",", "add", "the", "following", ":", "<", "base", "href=", "''", "/", "''", ">", "<", "!", "--", "this", "must", "come", "before", "the", "css", "and", "javascripts", "--", ">", "then", "when", "running", "with", "webpack", "dev", "server", "use", "this", "command", ".", "webpack-dev-server", "--", "mode", "development", "--", "hot", "--", "inline", "--", "content-base=dist", "--", "history-api-fallback", "--", "history-api-fallback", "is", "the", "important", "part", "the", "router", "can", "be", "called", "in", "two", "different", "ways", ",", "depending", "on", "whether", "the", "navigation", "occurs", "on", "the", "client", "or", "on", "the", "server", ".", "you", "have", "it", "configured", "for", "client-side", "operation", ".", "the", "key", "parameter", "is", "the", "second", "one", "to", "the", "run", "method", ",", "the", "location", ".", "when", "you", "use", "the", "react", "router", "link", "component", ",", "it", "blocks", "browser", "navigation", "and", "calls", "transitionto", "to", "do", "a", "client-side", "navigation", ".", "you", "are", "using", "historylocation", ",", "so", "it", "uses", "the", "html5", "history", "api", "to", "complete", "the", "illusion", "of", "navigation", "by", "simulating", "the", "new", "url", "in", "the", "address", "bar", ".", "if", "you", "'re", "using", "older", "browsers", ",", "this", "wo", "n't", "work", ".", "you", "would", "need", "to", "use", "the", "hashlocation", "component", ".", "when", "you", "hit", "refresh", ",", "you", "bypass", "all", "of", "the", "react", "and", "react", "router", "code", ".", "the", "server", "gets", "the", "request", "for", "/joblist", "and", "it", "must", "return", "something", ".", "on", "the", "server", "you", "need", "to", "pass", "the", "path", "that", "was", "requested", "to", "the", "run", "method", "in", "order", "for", "it", "to", "render", "the", "correct", "view", ".", "you", "can", "use", "the", "same", "route", "map", ",", "but", "you", "'ll", "probably", "need", "a", "different", "call", "to", "router.run", ".", "as", "charles", "points", "out", ",", "you", "can", "use", "url", "rewriting", "to", "handle", "this", ".", "another", "option", "is", "to", "use", "a", "node.js", "server", "to", "handle", "all", "requests", "and", "pass", "the", "path", "value", "as", "the", "location", "argument", ".", "in", "express", ",", "for", "example", ",", "it", "might", "look", "like", "this", ":", "var", "app", "=", "express", "(", ")", ";", "app.get", "(", "'", "*", "'", ",", "function", "(", "req", ",", "res", ")", "{", "//", "this", "wildcard", "method", "handles", "all", "requests", "router.run", "(", "routes", ",", "req.path", ",", "function", "(", "handler", ",", "state", ")", "{", "var", "element", "=", "react.createelement", "(", "handler", ")", ";", "var", "html", "=", "react.rendertostring", "(", "element", ")", ";", "res.render", "(", "'main", "'", ",", "{", "content", ":", "html", "}", ")", ";", "}", ")", ";", "}", ")", ";", "note", "that", "the", "request", "path", "is", "being", "passed", "to", "run", ".", "to", "do", "this", ",", "you", "'ll", "need", "to", "have", "a", "server-side", "view", "engine", "that", "you", "can", "pass", "the", "rendered", "html", "to", ".", "there", "are", "a", "number", "of", "other", "considerations", "using", "rendertostring", "and", "in", "running", "react", "on", "the", "server", ".", "once", "the", "page", "is", "rendered", "on", "the", "server", ",", "when", "your", "app", "loads", "in", "the", "client", ",", "it", "will", "render", "again", ",", "updating", "the", "server-side", "rendered", "html", "as", "needed", ".", "if", "you", "'re", "hosting", "a", "react", "app", "via", "aws", "static", "s3", "hosting", "&", "cloudfront", "this", "problem", "presented", "itself", "by", "cloudfront", "responding", "with", "a", "403", "access", "denied", "message", "because", "it", "expected", "/some/other/path", "to", "exist", "in", "my", "s3", "folder", ",", "but", "that", "path", "only", "exists", "internally", "in", "react", "'s", "routing", "with", "react-router", ".", "the", "solution", "was", "to", "set", "up", "a", "distribution", "error", "pages", "rule", ".", "go", "to", "the", "cloudfront", "settings", "and", "choose", "your", "distribution", ".", "next", "go", "to", "the", "``", "error", "pages", "''", "tab", ".", "click", "``", "create", "custom", "error", "response", "''", "and", "add", "an", "entry", "for", "403", "since", "that", "'s", "the", "error", "status", "code", "we", "get", ".", "set", "the", "response", "page", "path", "to", "/index.html", "and", "the", "status", "code", "to", "200.", "the", "end", "result", "astonishes", "me", "with", "its", "simplicity", ".", "the", "index", "page", "is", "served", ",", "but", "the", "url", "is", "preserved", "in", "the", "browser", ",", "so", "once", "the", "react", "app", "loads", ",", "it", "detects", "the", "url", "path", "and", "navigates", "to", "the", "desired", "route", ".", "error", "pages", "403", "rule", "this", "can", "solve", "your", "problem", "i", "also", "faced", "the", "same", "problem", "in", "the", "reactjs", "application", "in", "production", "mode", ".", "here", "is", "the", "2", "solution", "to", "the", "problem", ".", "1.change", "the", "routing", "history", "to", "``", "hashhistory", "''", "instead", "of", "browserhistory", "in", "the", "place", "of", "<", "router", "history=", "{", "hashhistory", "}", ">", "<", "route", "path=", "''", "/home", "''", "component=", "{", "home", "}", "/", ">", "<", "route", "path=", "''", "/aboutus", "''", "component=", "{", "aboutus", "}", "/", ">", "<", "/router", ">", "now", "build", "the", "app", "using", "the", "command", "sudo", "npm", "run", "build", "then", "place", "the", "build", "folder", "in", "your", "var/www/", "folder", ",", "now", "the", "application", "is", "working", "fine", "with", "the", "addition", "of", "#", "tag", "in", "each", "and", "every", "url", ".", "like", "localhost/", "#", "/home", "localhost/", "#", "/aboutus", "solution", "2", ":", "without", "#", "tag", "using", "browserhistory", ",", "set", "your", "history", "=", "{", "browserhistory", "}", "in", "your", "router", ",", "now", "build", "it", "using", "sudo", "npm", "run", "build", ".", "you", "need", "to", "create", "the", "``", "conf", "''", "file", "to", "solve", "the", "404", "not", "found", "page", ",", "the", "conf", "file", "should", "be", "like", "this", ".", "open", "your", "terminal", "type", "the", "below", "commands", "cd", "/etc/apache2/sites-available", "ls", "nano", "sample.conf", "add", "the", "below", "content", "in", "it", ".", "<", "virtualhost", "*", ":80", ">", "serveradmin", "admin", "@", "0.0.0.0", "servername", "0.0.0.0", "serveralias", "0.0.0.0", "documentroot", "/var/www/html/", "errorlog", "$", "{", "apache_log_dir", "}", "/error.log", "customlog", "$", "{", "apache_log_dir", "}", "/access.log", "combined", "<", "directory", "``", "/var/www/html/", "''", ">", "options", "indexes", "followsymlinks", "allowoverride", "all", "require", "all", "granted", "<", "/directory", ">", "<", "/virtualhost", ">", "now", "you", "need", "to", "enable", "the", "sample.conf", "file", "by", "using", "the", "following", "command", "cd", "/etc/apache2/sites-available", "sudo", "a2ensite", "sample.conf", "then", "it", "will", "ask", "you", "to", "reload", "the", "apache", "server", ",", "using", "sudo", "service", "apache2", "reload", "or", "restart", "then", "open", "your", "localhost/build", "folder", "and", "add", "the", ".htaccess", "file", "with", "the", "content", "of", "below", ".", "rewriteengine", "on", "rewritebase", "/", "rewritecond", "%", "{", "request_filename", "}", "!", "-f", "rewritecond", "%", "{", "request_filename", "}", "!", "-d", "rewritecond", "%", "{", "request_filename", "}", "!", "-l", "rewriterule", "^", ".", "*", "$", "/", "[", "l", ",", "qsa", "]", "now", "the", "app", "is", "working", "normally", ".", "note", ":", "change", "0.0.0.0", "ip", "to", "your", "local", "ip", "address", ".", "if", "any", "doubts", "regarding", "this", "feel", "free", "to", "raise", "a", "comment", ".", "i", "hope", "it", "is", "helpful", "to", "others", ".", "if", "you", "are", "hosting", "your", "react", "app", "on", "iis", ",", "just", "add", "a", "web.config", "file", "containing", ":", "<", "?", "xml", "version=", "''", "1.0", "''", "encoding=", "''", "utf-8", "''", "?", ">", "<", "configuration", ">", "<", "system.webserver", ">", "<", "httperrors", "errormode=", "''", "custom", "''", "existingresponse=", "''", "replace", "''", ">", "<", "remove", "statuscode=", "''", "404", "''", "substatuscode=", "''", "-1", "''", "/", ">", "<", "error", "statuscode=", "''", "404", "''", "path=", "''", "/", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "/httperrors", ">", "<", "/system.webserver", ">", "<", "/configuration", ">", "this", "will", "tell", "iis", "server", "to", "return", "the", "main", "page", "to", "the", "client", "instead", "of", "404", "error", "and", "no", "need", "to", "use", "hash", "history", ".", "the", "webpack", "dev", "server", "has", "an", "option", "to", "enable", "this", ".", "open", "up", "package.json", "and", "add", "--", "history-api-fallback", ".", "this", "solutions", "worked", "for", "me", ".", "react-router-tutorial", "if", "you", "are", "using", "create", "react", "app", ":", "there", "'s", "a", "great", "walk", "though", "of", "this", "issue", "with", "solutions", "for", "many", "major", "hosting", "platforms", "that", "you", "can", "find", "here", "on", "the", "create", "react", "app", "page", ".", "for", "example", ",", "i", "use", "react", "router", "v4", "and", "netlify", "for", "my", "frontend", "code", ".", "all", "it", "took", "was", "adding", "1", "file", "to", "my", "public", "folder", "(", "``", "_redirects", "''", ")", "and", "one", "line", "of", "code", "in", "that", "file", ":", "/", "*", "/index.html", "200", "now", "my", "website", "properly", "renders", "paths", "like", "mysite.com/pricing", "when", "entered", "into", "the", "browser", "or", "when", "someone", "hits", "refresh", ".", "add", "this", "to", "webpack.config.js", ":", "devserver", ":", "{", "historyapifallback", ":", "true", "}", "production", "stack", ":", "react", ",", "react", "router", "v4", ",", "browswerrouter", ",", "express", ",", "nginx", "1", ")", "user", "browserrouter", "for", "pretty", "urls", "//", "app.js", "import", "{", "browserrouter", "as", "router", "}", "from", "'react-router-dom", "'", "const", "app", "=", "(", ")", "{", "render", "(", ")", "{", "return", "(", "<", "router", ">", "//", "your", "routes", "here", "<", "/router", ">", ")", "}", "}", "2", ")", "add", "index.html", "to", "all", "unknown", "requests", "by", "using", "/", "*", "//", "server.js", "app.get", "(", "'/", "*", "'", ",", "function", "(", "req", ",", "res", ")", "{", "res.sendfile", "(", "path.join", "(", "__dirname", ",", "'path/to/your/index.html", "'", ")", ",", "function", "(", "err", ")", "{", "if", "(", "err", ")", "{", "res.status", "(", "500", ")", ".send", "(", "err", ")", "}", "}", ")", "}", ")", "3", ")", "bundle", "webpack", "with", "webpack", "-p", "4", ")", "run", "nodemon", "server.js", "or", "node", "server.js", "edit", ":", "you", "may", "want", "to", "let", "nginx", "handle", "this", "in", "the", "server", "block", "and", "disregard", "step", "2", ":", "location", "/", "{", "try_files", "$", "uri", "/index.html", ";", "}", "try", "adding", "``", ".htaccess", "''", "file", "inside", "the", "public", "folder", "with", "the", "below", "code", ".", "rewriteengine", "on", "rewritecond", "%", "{", "document_root", "}", "%", "{", "request_uri", "}", "-f", "[", "or", "]", "rewritecond", "%", "{", "document_root", "}", "%", "{", "request_uri", "}", "-d", "rewriterule", "^", "-", "[", "l", "]", "rewriterule", "^", "/index.html", "[", "l", "]", "if", "you", "do", "have", "a", "fallback", "to", "your", "index.html", ",", "make", "sure", "that", "in", "your", "index.html", "file", "you", "have", "this", ":", "<", "script", ">", "system.config", "(", "{", "baseurl", ":", "'/", "'", "}", ")", ";", "<", "/script", ">", "this", "may", "differ", "from", "project", "to", "project", ".", "if", "you", "'re", "using", "firebase", "all", "you", "have", "to", "do", "is", "make", "sure", "you", "'ve", "got", "a", "rewrites", "property", "in", "your", "firebase.json", "file", "in", "the", "root", "of", "your", "app", "(", "in", "the", "hosting", "section", ")", ".", "for", "example", ":", "{", "``", "hosting", "''", ":", "{", "``", "rewrites", "''", ":", "[", "{", "``", "source", "''", ":", "''", "*", "*", "''", ",", "``", "destination", "''", ":", "``", "/index.html", "''", "}", "]", "}", "}", "hope", "this", "saves", "somebody", "else", "a", "hoard", "of", "frustration", "and", "wasted", "time", ".", "happy", "coding", "...", "further", "reading", "on", "the", "subject", ":", "https", ":", "//firebase.google.com/docs/hosting/full-config", "#", "rewrites", "firebase", "cli", ":", "``", "configure", "as", "a", "single-page", "app", "(", "rewrite", "all", "urls", "to", "/index.html", ")", "''", "i", "found", "the", "solution", "for", "my", "spa", "with", "react", "router", "(", "apache", ")", ".", "just", "add", "in", ".htaccess", "<", "ifmodule", "mod_rewrite.c", ">", "rewriteengine", "on", "rewritebase", "/", "rewriterule", "^index\\.html", "$", "-", "[", "l", "]", "rewritecond", "%", "{", "request_filename", "}", "!", "-f", "rewritecond", "%", "{", "request_filename", "}", "!", "-d", "rewritecond", "%", "{", "request_filename", "}", "!", "-l", "rewriterule", ".", "/index.html", "[", "l", "]", "<", "/ifmodule", ">", "source", ":", "https", ":", "//gist.github.com/alexsasharegan/173878f9d67055bfef63449fa7136042", "i", "'m", "not", "using", "server", "side", "rendering", "yet", "but", "i", "hit", "the", "same", "problem", "as", "the", "op", "where", "link", "seemed", "to", "work", "fine", "most", "of", "the", "time", "but", "failed", "when", "i", "had", "a", "parameter", ".", "i", "'ll", "document", "my", "solution", "here", "to", "see", "if", "it", "helps", "anyone", ".", "my", "main", "jsx", "contains", "this", ":", "<", "route", "onenter=", "{", "requirelogin", "}", "path=", "''", "detail/", ":", "id", "''", "component=", "{", "modeldetail", "}", "/", ">", "this", "works", "fine", "for", "the", "first", "matching", "link", "but", "when", "the", ":", "id", "changes", "in", "<", "link", ">", "expressions", "nested", "on", "that", "model", "'s", "detail", "page", ",", "the", "url", "changes", "in", "the", "browser", "bar", "but", "the", "content", "of", "the", "page", "did", "not", "initially", "change", "to", "reflect", "the", "linked", "model", ".", "the", "trouble", "was", "that", "i", "had", "used", "the", "props.params.id", "to", "set", "the", "model", "in", "componentdidmount", ".", "the", "component", "is", "just", "mounted", "once", "so", "this", "means", "that", "the", "first", "model", "is", "the", "one", "that", "sticks", "on", "the", "page", "and", "the", "subsequent", "links", "change", "the", "props", "but", "leave", "the", "page", "looking", "unchanged", ".", "setting", "the", "model", "in", "the", "component", "state", "in", "both", "componentdidmount", "and", "in", "componentwillreceiveprops", "(", "where", "it", "is", "based", "on", "the", "next", "props", ")", "solves", "the", "problem", "and", "the", "page", "content", "changes", "to", "reflect", "the", "desired", "model", ".", "this", "topic", "is", "a", "little", "bit", "old", "and", "solved", "but", "i", "would", "like", "to", "suggest", "you", "a", "simply", ",", "clear", "and", "better", "solution", ".", "it", "works", "if", "you", "use", "web", "server", ".", "each", "web", "server", "has", "an", "ability", "to", "redirect", "the", "user", "to", "an", "error", "page", "in", "case", "of", "http", "404.", "to", "solve", "this", "issue", "you", "need", "to", "redirect", "user", "to", "the", "index", "page", ".", "if", "you", "use", "java", "base", "server", "(", "tomcat", "or", "any", "java", "application", "server", ")", "the", "solution", "could", "be", "the", "following", ":", "web.xml", ":", "<", "?", "xml", "version=", "''", "1.0", "''", "encoding=", "''", "utf-8", "''", "?", ">", "<", "web-app", "xmlns=", "''", "http", ":", "//xmlns.jcp.org/xml/ns/javaee", "''", "xmlns", ":", "xsi=", "''", "http", ":", "//www.w3.org/2001/xmlschema-instance", "''", "xsi", ":", "schemalocation=", "''", "http", ":", "//xmlns.jcp.org/xml/ns/javaee", "http", ":", "//xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd", "''", "version=", "''", "3.1", "''", ">", "<", "!", "--", "welcome", "file", "list", "--", ">", "<", "welcome-file-list", ">", "<", "welcome-file", ">", "index.jsp", "<", "/welcome-file", ">", "<", "/welcome-file-list", ">", "<", "!", "--", "error", "pages", "definition", "--", ">", "<", "error-page", ">", "<", "error-code", ">", "404", "<", "/error-code", ">", "<", "location", ">", "/index.jsp", "<", "/location", ">", "<", "/error-page", ">", "<", "/web-app", ">", "example", ":", "get", "http", ":", "//example.com/about", "web", "server", "throws", "http", "404", "because", "this", "page", "does", "not", "exist", "on", "the", "server", "side", "the", "error", "page", "configuration", "tells", "to", "the", "server", "that", "send", "the", "index.jsp", "page", "back", "to", "the", "user", "then", "js", "will", "do", "the", "rest", "of", "the", "job", "on", "the", "clien", "side", "because", "the", "url", "on", "the", "client", "side", "is", "still", "http", ":", "//example.com/about", ".", "that", "is", "it", ",", "no", "more", "magic", "needs", ":", ")", "for", "those", "who", "are", "using", "iis", "10", ",", "this", "is", "what", "you", "should", "do", "to", "make", "this", "right", ".", "be", "sure", "that", "you", "are", "using", "browserhistory", "with", "this", ".", "as", "for", "reference", "i", "will", "give", "the", "code", "for", "the", "routing", ",", "but", "this", "is", "not", "what", "matters", ",", "what", "matters", "is", "the", "next", "step", "after", "the", "component", "code", "below", ":", "class", "app", "extends", "component", "{", "render", "(", ")", "{", "return", "(", "<", "router", "history=", "{", "browserhistory", "}", ">", "<", "div", ">", "<", "root", ">", "<", "switch", ">", "<", "route", "exact", "path=", "{", "``", "/", "''", "}", "component=", "{", "home", "}", "/", ">", "<", "route", "path=", "{", "``", "/home", "''", "}", "component=", "{", "home", "}", "/", ">", "<", "route", "path=", "{", "``", "/createnewproject", "''", "}", "component=", "{", "createnewproject", "}", "/", ">", "<", "route", "path=", "{", "``", "/projects", "''", "}", "component=", "{", "projects", "}", "/", ">", "<", "route", "path=", "''", "*", "''", "component=", "{", "notfoundroute", "}", "/", ">", "<", "/switch", ">", "<", "/root", ">", "<", "/div", ">", "<", "/router", ">", ")", "}", "}", "render", "(", "<", "app", "/", ">", ",", "window.document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "since", "the", "problem", "is", "iis", "receives", "request", "from", "client", "browsers", ",", "it", "will", "interpret", "the", "url", "as", "if", "it", "is", "asking", "for", "a", "page", ",", "then", "returns", "a", "404", "page", "since", "there", "is", "no", "available", "page", ".", "do", "the", "following", ":", "open", "iis", "expand", "server", "then", "open", "the", "sites", "folder", "click", "the", "website/application", "go", "to", "the", "error", "pages", "open", "the", "404", "error", "status", "item", "in", "the", "list", "instead", "of", "the", "option", "``", "insert", "content", "from", "static", "file", "into", "the", "error", "response", "''", ",", "change", "it", "to", "``", "execute", "a", "url", "on", "this", "site", "''", "and", "add", "``", "/", "''", "slash", "value", "to", "the", "url", ".", "and", "it", "will", "now", "work", "fine", ".", "i", "hope", "it", "helps", ".", ":", "-", ")", "if", "you", "are", "using", "express", "or", "some", "other", "framework", "in", "the", "backend", ",", "you", "can", "add", "the", "similar", "configuration", "as", "below", "and", "check", "out", "the", "webpack", "public", "path", "in", "the", "configuration", ",", "it", "should", "work", "fine", "even", "on", "reload", "if", "you", "are", "using", "browserrouter", "expressapp.get", "(", "'/", "*", "'", ",", "(", "request", ",", "response", ")", "=", ">", "{", "response.sendfile", "(", "path.join", "(", "__dirname", ",", "'", "..", "/public/index.html", "'", ")", ")", ";", "}", ")", ";", "fixing", "the", "``", "can", "not", "get", "/url", "''", "error", "on", "refresh", "or", "on", "calling", "the", "url", "directly", ".", "configure", "your", "webpack.config.js", "to", "expect", "the", "given", "link", "the", "routes", "like", "this", ".", "module.exports", "=", "{", "entry", ":", "'./app/index.js", "'", ",", "output", ":", "{", "path", ":", "path.join", "(", "__dirname", ",", "'/bundle", "'", ")", ",", "filename", ":", "'index_bundle.js", "'", ",", "publicpath", ":", "'/", "'", "}", ",", "as", "i", "am", "using", ".net", "core", "mvc", "something", "like", "this", "helped", "me", ":", "public", "class", "homecontroller", ":", "controller", "{", "public", "iactionresult", "index", "(", ")", "{", "var", "url", "=", "request.path", "+", "request.querystring", ";", "return", "app", "(", "url", ")", ";", "}", "[", "route", "(", "``", "app", "''", ")", "]", "public", "iactionresult", "app", "(", "string", "url", ")", "{", "return", "view", "(", "``", "/wwwroot/app/build/index.html", "''", ")", ";", "}", "}", "basically", "in", "mvc", "side", ",", "all", "the", "routes", "not", "matching", "will", "fall", "into", "to", "home/index", "as", "it", "specified", "in", "startup.cs", ".", "inside", "index", "it", "is", "possible", "to", "get", "the", "original", "request", "url", "and", "pass", "it", "wherever", "needed", ".", "startup.cs", "app.usemvc", "(", "routes", "=", ">", "{", "routes.maproute", "(", "name", ":", "``", "default", "''", ",", "template", ":", "``", "{", "controller=home", "}", "/", "{", "action=index", "}", "/", "{", "id", "?", "}", "''", ")", ";", "routes.mapspafallbackroute", "(", "name", ":", "``", "spa-fallback", "''", ",", "defaults", ":", "new", "{", "controller", "=", "``", "home", "''", ",", "action", "=", "``", "index", "''", "}", ")", ";", "}", ")", ";", "if", "you", "are", "hosting", "in", "iis", ";", "adding", "this", "to", "my", "webconfig", "solved", "my", "problem", "<", "httperrors", "errormode=", "''", "custom", "''", "defaultresponsemode=", "''", "executeurl", "''", ">", "<", "remove", "statuscode=", "''", "500", "''", "substatuscode=", "''", "100", "''", "/", ">", "<", "remove", "statuscode=", "''", "500", "''", "substatuscode=", "''", "-1", "''", "/", ">", "<", "remove", "statuscode=", "''", "404", "''", "substatuscode=", "''", "-1", "''", "/", ">", "<", "error", "statuscode=", "''", "404", "''", "path=", "''", "/", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "error", "statuscode=", "''", "500", "''", "prefixlanguagefilepath=", "''", "''", "path=", "''", "/error_500.asp", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "error", "statuscode=", "''", "500", "''", "substatuscode=", "''", "100", "''", "path=", "''", "/error_500.asp", "''", "responsemode=", "''", "executeurl", "''", "/", ">", "<", "/httperrors", ">", "you", "can", "make", "similar", "configuration", "for", "any", "other", "server", "using", "hashrouter", "worked", "for", "me", "with", "redux", "also", ",", "just", "simply", "replace", ":", "import", "{", "router", "//replace", "router", "}", "from", "``", "react-router-dom", "''", ";", "reactdom.render", "(", "<", "localeprovider", "locale=", "{", "enus", "}", ">", "<", "provider", "store=", "{", "store", "}", ">", "<", "router", "history=", "{", "history", "}", ">", "//replace", "here", "saying", "router", "<", "layout/", ">", "<", "/router", ">", "<", "/provider", ">", "<", "/localeprovider", ">", ",", "document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "registerserviceworker", "(", ")", ";", "to", ":", "import", "{", "hashrouter", "//replaced", "with", "hashrouter", "}", "from", "``", "react-router-dom", "''", ";", "reactdom.render", "(", "<", "localeprovider", "locale=", "{", "enus", "}", ">", "<", "provider", "store=", "{", "store", "}", ">", "<", "hashrouter", "history=", "{", "history", "}", ">", "//replaced", "with", "hashrouter", "<", "layout/", ">", "<", "/hashrouter", ">", "<", "/provider", ">", "<", "/localeprovider", ">", ",", "document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "registerserviceworker", "(", ")", ";", "in", "case", ",", "anyone", "is", "here", "looking", "for", "solution", "on", "react", "js", "spa", "with", "laravel", ".", "the", "accepted", "answer", "is", "the", "best", "explanation", "of", "why", "such", "problems", "happen", ".", "as", "already", "explained", "you", "have", "to", "configure", "both", "client", "side", "and", "server", "side", ".", "in", "your", "blade", "template", ",", "include", "the", "js", "bundled", "file", ",", "make", "sure", "to", "use", "url", "facade", "like", "this", "<", "script", "src=", "''", "{", "{", "url", ":", ":to", "(", "'js/user/spa.js", "'", ")", "}", "}", "''", ">", "<", "/script", ">", "in", "your", "routes", ",", "make", "sure", "add", "this", "to", "the", "main", "endpoint", "where", "the", "blade", "template", "is", ".", "for", "example", ",", "route", ":", ":get", "(", "'/setting-alerts", "'", ",", "function", "(", ")", "{", "return", "view", "(", "'user.set-alerts", "'", ")", ";", "}", ")", ";", "the", "above", "is", "the", "main", "endpoint", "for", "the", "blade", "template", ".", "now", "add", "an", "optional", "route", "too", ",", "route", ":", ":get", "(", "'/setting-alerts/", "{", "spa", "?", "}", "'", ",", "function", "(", ")", "{", "return", "view", "(", "'user.set-alerts", "'", ")", ";", "}", ")", ";", "the", "problem", "that", "happens", "is", "that", "first", "the", "blade", "template", "is", "loaded", ",", "then", "the", "react", "router", ".", "so", ",", "when", "you", "'re", "loading", "'/setting-alerts", "'", ",", "it", "loads", "the", "html", "and", "the", "js", ".", "but", "when", "you", "load", "'/setting-alerts/about", "'", ",", "it", "first", "loads", "on", "the", "server", "side", ".", "since", "on", "the", "server", "side", ",", "there", "is", "nothing", "on", "this", "location", ",", "it", "returns", "not", "found", ".", "when", "you", "have", "that", "optional", "router", ",", "it", "loads", "that", "same", "page", "and", "react", "router", "is", "also", "loaded", ",", "then", "react", "loader", "decides", "which", "component", "to", "show", ".", "hope", "this", "helps", ".", "i", "am", "using", "webpack", ",", "i", "had", "same", "problem", "solution=", ">", "in", "your", "server.js", "file", "const", "express", "=", "require", "(", "'express", "'", ")", ";", "const", "app", "=", "express", "(", ")", ";", "app.use", "(", "express.static", "(", "path.resolve", "(", "__dirname", ",", "'", "..", "/dist", "'", ")", ")", ")", ";", "app.get", "(", "'", "*", "'", ",", "function", "(", "req", ",", "res", ")", "{", "res.sendfile", "(", "path.resolve", "(", "__dirname", ",", "'", "..", "/dist/index.html", "'", ")", ")", ";", "//", "res.end", "(", ")", ";", "}", ")", ";", "why", "does", "n't", "my", "application", "render", "after", "refreshing", "?", "you", "can", "try", "reading", "this", "all", "though", "it", "'s", "not", "mine", ":", "https", ":", "//www.andreasreiterer.at/fix-browserrouter-on-apache/", "fixing", "the", "app", "\u2019", "s", "routing", "now", "here", "\u2019", "s", "how", "to", "finally", "fix", "the", "routing", ".", "to", "tell", "apache", "to", "redirect", "requests", "to", "index.html", "where", "our", "app", "lives", ",", "we", "have", "to", "modify", "the", ".htaccess", "file", ".", "if", "there", "is", "no", "such", "file", "in", "your", "app", "\u2019", "s", "folder", "yet", ",", "just", "create", "it", ".", "then", "be", "sure", "that", "you", "put", "in", "those", "4", "lines", "that", "will", "magically", "make", "your", "routing", "work", ".", "options", "-multiviews", "rewriteengine", "on", "rewritecond", "%", "{", "request_filename", "}", "!", "-f", "rewriterule", "^", "index.html", "[", "qsa", ",", "l", "]", "after", "we", "put", "that", ".htaccess", "file", "into", "the", "same", "directory", "as", "the", "index.html", ",", "apache", "will", "redirect", "each", "new", "request", "directly", "to", "your", "app", ".", "bonus", ":", "deploying", "the", "react", "app", "to", "a", "sub", "directory", "if", "you", "\u2019", "re", "deploying", "your", "app", "into", "a", "sub", "directory", ",", "so", "it", "\u2019", "s", "accessible", "e.g", ".", "via", "https", ":", "//myapp.com/the-app", ",", "you", "\u2019", "ll", "soon", "notice", "that", "there", "is", "another", "issue", ".", "each", "click", "to", "a", "new", "route", "will", "transform", "the", "url", "to", "something", "like", "https", ":", "//myapp.com/route-abc", "\u2013", "which", "will", "break", "again", "after", "a", "reload", ".", "but", "there", "is", "a", "simple", "fix", "for", "that", ":", "browserrouter", "has", "a", "prop", "called", "basename", "where", "you", "can", "specify", "your", "sub-directory", "path", ":", "from", "now", "on", ",", "each", "route", "like", "/contacts", "will", "result", "in", "an", "url", "like", "http", ":", "//myapp.com/the-app/contacts", ".", "i", "had", "this", "same", "problem", "and", "this", "solution", "worked", "for", "us", "..", "background", ":", "we", "are", "hosting", "multiple", "apps", "on", "the", "same", "server", ".", "when", "we", "would", "refresh", "the", "server", "would", "not", "understand", "where", "to", "look", "for", "our", "index", "in", "the", "dist", "folder", "for", "that", "particular", "app", ".", "the", "above", "link", "will", "take", "you", "to", "what", "worked", "for", "us", "...", "hope", "this", "helps", ",", "as", "we", "have", "spent", "quite", "a", "hours", "on", "figuring", "out", "a", "solution", "for", "our", "needs", ".", "we", "are", "using", ":", "package.json", "``", "dependencies", "''", ":", "{", "``", "babel-polyfill", "''", ":", "``", "^6.23.0", "''", ",", "``", "ejs", "''", ":", "``", "^2.5.6", "''", ",", "``", "express", "''", ":", "``", "^4.15.2", "''", ",", "``", "prop-types", "''", ":", "``", "^15.5.6", "''", ",", "``", "react", "''", ":", "``", "^15.5.4", "''", ",", "``", "react-dom", "''", ":", "``", "^15.5.4", "''", ",", "``", "react-redux", "''", ":", "``", "^5.0.4", "''", ",", "``", "react-router", "''", ":", "``", "^3.0.2", "''", ",", "``", "react-router-redux", "''", ":", "``", "^4.0.8", "''", ",", "``", "redux", "''", ":", "``", "^3.6.0", "''", ",", "``", "redux-persist", "''", ":", "``", "^4.6.0", "''", ",", "``", "redux-thunk", "''", ":", "``", "^2.2.0", "''", ",", "``", "webpack", "''", ":", "``", "^2.4.1", "''", "}", "my", "webpack.config.js", "webpack.config.js", "/", "*", "eslint-disable", "*", "/", "const", "path", "=", "require", "(", "'path", "'", ")", ";", "const", "webpack", "=", "require", "(", "'webpack", "'", ")", ";", "const", "htmlwebpackplugin", "=", "require", "(", "'html-webpack-plugin", "'", ")", ";", "const", "babelpolyfill", "=", "require", "(", "'babel-polyfill", "'", ")", ";", "const", "htmlwebpackpluginconfig", "=", "new", "htmlwebpackplugin", "(", "{", "template", ":", "__dirname", "+", "'/app/views/index.html", "'", ",", "filename", ":", "'index.html", "'", ",", "inject", ":", "'body", "'", "}", ")", ";", "module.exports", "=", "{", "entry", ":", "[", "'babel-polyfill", "'", ",", "'./app/index.js", "'", "]", ",", "output", ":", "{", "path", ":", "__dirname", "+", "'/dist/your_app_name_here", "'", ",", "filename", ":", "'index_bundle.js", "'", "}", ",", "module", ":", "{", "rules", ":", "[", "{", "test", ":", "/\\.js", "$", "/", ",", "loader", ":", "'babel-loader", "'", ",", "query", ":", "{", "presets", ":", "[", "``", "env", "''", ",", "``", "react", "''", ",", "``", "stage-1", "''", "]", "}", ",", "exclude", ":", "/node_modules/", "}", "]", "}", ",", "plugins", ":", "[", "htmlwebpackpluginconfig", "]", "}", "my", "index.js", "index.js", "import", "react", "from", "'react", "'", "import", "reactdom", "from", "'react-dom", "'", "import", "routes", "from", "'./routes", "'", "import", "{", "provider", "}", "from", "'react-redux", "'", "import", "{", "createhistory", "}", "from", "'history", "'", "import", "{", "userouterhistory", "}", "from", "'react-router", "'", "import", "configurestore", "from", "'./store/configurestore", "'", "import", "{", "synchistorywithstore", "}", "from", "'react-router-redux", "'", "import", "{", "persiststore", "}", "from", "'redux-persist", "'", "const", "store", "=", "configurestore", "(", ")", ";", "const", "browserhistory", "=", "userouterhistory", "(", "createhistory", ")", "(", "{", "basename", ":", "'/your_app_name_here", "'", "}", ")", "const", "history", "=", "synchistorywithstore", "(", "browserhistory", ",", "store", ")", "persiststore", "(", "store", ",", "{", "blacklist", ":", "[", "'routing", "'", "]", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "'rehydration", "complete", "'", ")", "}", ")", "//", "persiststore", "(", "store", ")", ".purge", "(", ")", "reactdom.render", "(", "<", "provider", "store=", "{", "store", "}", ">", "<", "div", ">", "<", "routes", "history=", "{", "history", "}", "/", ">", "<", "/div", ">", "<", "/provider", ">", ",", "document.getelementbyid", "(", "'mount", "'", ")", ")", "my", "app.js", "var", "express", "=", "require", "(", "'express", "'", ")", ";", "var", "app", "=", "express", "(", ")", ";", "app.use", "(", "express.static", "(", "__dirname", "+", "'/dist", "'", ")", ")", ";", "//", "app.use", "(", "express.static", "(", "__dirname", "+", "'/app/assets", "'", ")", ")", ";", "app.set", "(", "'views", "'", ",", "__dirname", "+", "'/dist/your_app_name_here", "'", ")", ";", "app.engine", "(", "'html", "'", ",", "require", "(", "'ejs", "'", ")", ".renderfile", ")", ";", "app.set", "(", "'view", "engine", "'", ",", "'html", "'", ")", ";", "app.get", "(", "'/", "*", "'", ",", "function", "(", "req", ",", "res", ")", "{", "res.render", "(", "'index", "'", ")", ";", "}", ")", ";", "app.listen", "(", "8081", ",", "function", "(", ")", "{", "console.log", "(", "'md", "listening", "on", "port", "8081", "!", "'", ")", ";", "}", ")", ";", "i", "would", "like", "to", "ask", "why", "my", "state", "is", "not", "changing", "when", "i", "do", "an", "onclick", "event", ".", "i", "'ve", "search", "a", "while", "ago", "that", "i", "need", "to", "bind", "the", "onclick", "function", "in", "constructor", "but", "still", "the", "state", "is", "not", "updating", ".", "here", "'s", "my", "code", ":", "import", "react", "from", "'react", "'", ";", "import", "grid", "from", "'react-bootstrap/lib/grid", "'", ";", "import", "row", "from", "'react-bootstrap/lib/row", "'", ";", "import", "col", "from", "'react-bootstrap/lib/col", "'", ";", "import", "boardaddmodal", "from", "'components/board/boardaddmodal.jsx", "'", ";", "import", "style", "from", "'styles/boarditem.css", "'", ";", "class", "boardadd", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "{", "boardaddmodalshow", ":", "false", "}", "this.openaddboardmodal", "=", "this.openaddboardmodal.bind", "(", "this", ")", ";", "}", "openaddboardmodal", "(", ")", "{", "this.setstate", "(", "{", "boardaddmodalshow", ":", "true", "}", ")", ";", "//", "after", "setting", "a", "new", "state", "it", "still", "return", "a", "false", "value", "console.log", "(", "this.state.boardaddmodalshow", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "col", "lg=", "{", "3", "}", ">", "<", "a", "href=", "''", "javascript", ":", ";", "''", "classname=", "{", "style.boarditemadd", "}", "onclick=", "{", "this.openaddboardmodal", "}", ">", "<", "div", "classname=", "{", "[", "style.boarditemcontainer", ",", "style.boarditemgray", "]", ".join", "(", "'", "'", ")", "}", ">", "create", "new", "board", "<", "/div", ">", "<", "/a", ">", "<", "/col", ">", ")", "}", "}", "export", "default", "boardadd", "this", "callback", "is", "really", "messy", ".", "just", "use", "async", "await", "instead", ":", "async", "openaddboardmodal", "(", ")", "{", "await", "this.setstate", "(", "{", "boardaddmodalshow", ":", "true", "}", ")", ";", "console.log", "(", "this.state.boardaddmodalshow", ")", ";", "}", "your", "state", "needs", "some", "time", "to", "mutate", ",", "and", "since", "console.log", "(", "this.state.boardaddmodalshow", ")", "executes", "before", "the", "state", "mutates", ",", "you", "get", "the", "previous", "value", "as", "output", ".", "so", "you", "need", "to", "write", "the", "console", "in", "the", "callback", "to", "the", "setstate", "function", "openaddboardmodal", "(", ")", "{", "this.setstate", "(", "{", "boardaddmodalshow", ":", "true", "}", ",", "function", "(", ")", "{", "console.log", "(", "this.state.boardaddmodalshow", ")", ";", "}", ")", ";", "}", "setstate", "is", "asynchronous", ".", "it", "means", "you", "can", "\u2019", "t", "call", "it", "on", "one", "line", "and", "assume", "the", "state", "has", "changed", "on", "the", "next", ".", "according", "to", "react", "docs", "setstate", "(", ")", "does", "not", "immediately", "mutate", "this.state", "but", "creates", "a", "pending", "state", "transition", ".", "accessing", "this.state", "after", "calling", "this", "method", "can", "potentially", "return", "the", "existing", "value", ".", "there", "is", "no", "guarantee", "of", "synchronous", "operation", "of", "calls", "to", "setstate", "and", "calls", "may", "be", "batched", "for", "performance", "gains", ".", "why", "would", "they", "make", "setstate", "async", "this", "is", "because", "setstate", "alters", "the", "state", "and", "causes", "rerendering", ".", "this", "can", "be", "an", "expensive", "operation", "and", "making", "it", "synchronous", "might", "leave", "the", "browser", "unresponsive", ".", "thus", "the", "setstate", "calls", "are", "asynchronous", "as", "well", "as", "batched", "for", "better", "ui", "experience", "and", "performance", ".", "fortunately", "setstate", "(", ")", "takes", "a", "callback", ".", "and", "this", "is", "where", "we", "get", "updated", "state", ".", "consider", "this", "example", ".", "this.setstate", "(", "{", "name", ":", "``", "myname", "''", "}", ",", "(", ")", "=", ">", "{", "//callback", "console.log", "(", "this.state.name", ")", "//", "myname", "}", ")", ";", "so", "when", "callback", "fires", ",", "this.state", "is", "the", "updated", "state", ".", "you", "can", "get", "mutated/updated", "data", "in", "callback", ".", "since", "setsatate", "is", "a", "asynchronous", "function", "so", "you", "need", "to", "console", "the", "state", "as", "a", "callback", "like", "this", ".", "openaddboardmodal", "(", ")", "{", "this.setstate", "(", "{", "boardaddmodalshow", ":", "true", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "this.state.boardaddmodalshow", ")", "}", ")", ";", "}", "setstate", "(", ")", "does", "not", "always", "immediately", "update", "the", "component", ".", "it", "may", "batch", "or", "defer", "the", "update", "until", "later", ".", "this", "makes", "reading", "this.state", "right", "after", "calling", "setstate", "(", ")", "a", "potential", "pitfall", ".", "instead", ",", "use", "componentdidupdate", "or", "a", "setstate", "callback", "(", "setstate", "(", "updater", ",", "callback", ")", ")", ",", "either", "of", "which", "are", "guaranteed", "to", "fire", "after", "the", "update", "has", "been", "applied", ".", "if", "you", "need", "to", "set", "the", "state", "based", "on", "the", "previous", "state", ",", "read", "about", "the", "updater", "argument", "below", ".", "setstate", "(", ")", "will", "always", "lead", "to", "a", "re-render", "unless", "shouldcomponentupdate", "(", ")", "returns", "false", ".", "if", "mutable", "objects", "are", "being", "used", "and", "conditional", "rendering", "logic", "can", "not", "be", "implemented", "in", "shouldcomponentupdate", "(", ")", ",", "calling", "setstate", "(", ")", "only", "when", "the", "new", "state", "differs", "from", "the", "previous", "state", "will", "avoid", "unnecessary", "re-renders", ".", "the", "first", "argument", "is", "an", "updater", "function", "with", "the", "signature", ":", "(", "state", ",", "props", ")", "=", ">", "statechange", "state", "is", "a", "reference", "to", "the", "component", "state", "at", "the", "time", "the", "change", "is", "being", "applied", ".", "it", "should", "not", "be", "directly", "mutated", ".", "instead", ",", "changes", "should", "be", "represented", "by", "building", "a", "new", "object", "based", "on", "the", "input", "from", "state", "and", "props", ".", "for", "instance", ",", "suppose", "we", "wanted", "to", "increment", "a", "value", "in", "state", "by", "props.step", ":", "this.setstate", "(", "(", "state", ",", "props", ")", "=", ">", "{", "return", "{", "counter", ":", "state.counter", "+", "props.step", "}", ";", "}", ")", ";", "if", "you", "want", "to", "track", "the", "state", "is", "updating", "or", "not", "then", "the", "another", "way", "of", "doing", "the", "same", "thing", "is", "_stateupdated", "(", ")", "{", "console.log", "(", "this.state", ".", "boardaddmodalshow", ")", ";", "}", "openaddboardmodal", "(", ")", "{", "this.setstate", "(", "{", "boardaddmodalshow", ":", "true", "}", ",", "this._stateupdated.bind", "(", "this", ")", ")", ";", "}", "this", "way", "you", "can", "call", "the", "method", "``", "_stateupdated", "''", "every", "time", "you", "try", "to", "update", "the", "state", "for", "debugging", ".", "setstate", "(", ")", "is", "asynchronous", ".", "the", "best", "way", "to", "verify", "if", "the", "state", "is", "updating", "would", "be", "in", "the", "componentdidupdate", "(", ")", "and", "not", "to", "put", "a", "console.log", "(", "this.state.boardaddmodalshow", ")", "after", "this.setstate", "(", "{", "boardaddmodalshow", ":", "true", "}", ")", ".", "according", "to", "react", "docs", "think", "of", "setstate", "(", ")", "as", "a", "request", "rather", "than", "an", "immediate", "command", "to", "update", "the", "component", ".", "for", "better", "perceived", "performance", ",", "react", "may", "delay", "it", ",", "and", "then", "update", "several", "components", "in", "a", "single", "pass", ".", "react", "does", "not", "guarantee", "that", "the", "state", "changes", "are", "applied", "immediately", "according", "to", "react", "docs", "react", "does", "not", "guarantee", "that", "the", "state", "changes", "are", "applied", "immediately", ".", "this", "makes", "reading", "this.state", "right", "after", "calling", "setstate", "(", ")", "a", "potential", "pitfall", "and", "can", "potentially", "return", "the", "existing", "value", "due", "to", "async", "nature", ".", "instead", ",", "use", "componentdidupdate", "or", "a", "setstate", "callback", "that", "is", "executed", "right", "after", "setstate", "operation", "is", "successful.generally", "we", "recommend", "using", "componentdidupdate", "(", ")", "for", "such", "logic", "instead", ".", "example", ":", "import", "react", "from", "``", "react", "''", ";", "import", "reactdom", "from", "``", "react-dom", "''", ";", "import", "``", "./styles.css", "''", ";", "class", "app", "extends", "react.component", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.state", "=", "{", "counter", ":", "1", "}", ";", "}", "componentdidupdate", "(", ")", "{", "console.log", "(", "``", "componentdidupdate", "fired", "''", ")", ";", "console.log", "(", "``", "state", "''", ",", "this.state", ")", ";", "}", "updatestate", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "(", "state", ",", "props", ")", "=", ">", "{", "return", "{", "counter", ":", "state.counter", "+", "1", "}", ";", "}", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "app", "''", ">", "<", "h1", ">", "hello", "codesandbox", "<", "/h1", ">", "<", "h2", ">", "start", "editing", "to", "see", "some", "magic", "happen", "!", "<", "/h2", ">", "<", "button", "onclick=", "{", "this.updatestate", "}", ">", "update", "state", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "const", "rootelement", "=", "document.getelementbyid", "(", "``", "root", "''", ")", ";", "reactdom.render", "(", "<", "app", "/", ">", ",", "rootelement", ")", ";", "for", "anyone", "trying", "to", "do", "this", "with", "hooks", ",", "you", "need", "useeffect", ".", "function", "app", "(", ")", "{", "const", "[", "x", ",", "setx", "]", "=", "usestate", "(", "5", ")", "const", "[", "y", ",", "sety", "]", "=", "usestate", "(", "15", ")", "console.log", "(", "``", "element", "is", "rendered", ":", "''", ",", "x", ",", "y", ")", "//", "setting", "y", "does", "not", "trigger", "the", "effect", "//", "the", "second", "argument", "is", "an", "array", "of", "dependencies", "useeffect", "(", "(", ")", "=", ">", "console.log", "(", "``", "re-render", "because", "x", "changed", ":", "''", ",", "x", ")", ",", "[", "x", "]", ")", "function", "handlexclick", "(", ")", "{", "console.log", "(", "``", "x", "before", "setting", ":", "''", ",", "x", ")", "setx", "(", "10", ")", "console.log", "(", "``", "x", "in", "*", "line", "*", "after", "setting", ":", "''", ",", "x", ")", "}", "return", "<", ">", "<", "div", ">", "x", "is", "{", "x", "}", ".", "<", "/div", ">", "<", "button", "onclick=", "{", "handlexclick", "}", ">", "set", "x", "to", "10", "<", "/button", ">", "<", "div", ">", "y", "is", "{", "y", "}", ".", "<", "/div", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "sety", "(", "20", ")", "}", ">", "set", "y", "to", "20", "<", "/button", ">", "<", "/", ">", "}", "output", ":", "element", "is", "rendered", ":", "5", "15", "re-render", "because", "x", "changed", ":", "5", "(", "press", "x", "button", ")", "x", "before", "setting", ":", "5", "x", "in", "*", "line", "*", "after", "setting", ":", "5", "element", "is", "rendered", ":", "10", "15", "re-render", "because", "x", "changed", ":", "10", "(", "press", "y", "button", ")", "element", "is", "rendered", ":", "10", "20", "when", "i", "was", "running", "the", "code", "and", "checking", "my", "output", "at", "console", "it", "showing", "the", "that", "it", "is", "undefined", ".", "after", "i", "search", "around", "and", "find", "something", "that", "worked", "for", "me", ".", "componentdidupdate", "(", ")", "{", "}", "i", "added", "this", "method", "in", "my", "code", "after", "constructor", "(", ")", ".", "check", "out", "the", "life", "cycle", "of", "react", "native", "workflow", ".", "https", ":", "//images.app.goo.gl/bvrai4ea2p4lchqj8", "this.setstate", "(", "{", "ismonthfee", ":", "!", "this.state.ismonthfee", ",", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "this.state.ismonthfee", ")", ";", "}", ")", "yes", "because", "setstate", "is", "an", "asynchronous", "function", ".", "the", "best", "way", "to", "set", "state", "right", "after", "you", "write", "set", "state", "is", "by", "using", "object.assign", "like", "this", ":", "for", "eg", "you", "want", "to", "set", "a", "property", "isvalid", "to", "true", ",", "do", "it", "like", "this", "object.assign", "(", "this.state", ",", "{", "isvalid", ":", "true", "}", ")", "you", "can", "access", "updated", "state", "just", "after", "writing", "this", "line", ".", "this", "question", "already", "has", "answers", "here", ":", "how", "to", "access", "the", "correct", "`", "this", "`", "inside", "a", "callback", "?", "(", "12", "answers", ")", "closed", "6", "months", "ago", ".", "i", "am", "writing", "a", "simple", "component", "in", "es6", "(", "with", "babeljs", ")", ",", "and", "functions", "this.setstate", "is", "not", "working", ".", "typical", "errors", "include", "something", "like", "can", "not", "read", "property", "'setstate", "'", "of", "undefined", "or", "this.setstate", "is", "not", "a", "function", "do", "you", "know", "why", "?", "here", "is", "the", "code", ":", "import", "react", "from", "'react", "'", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.state", "=", "{", "inputcontent", ":", "'startvalue", "'", "}", "}", "sendcontent", "(", "e", ")", "{", "console.log", "(", "'sending", "input", "content", "'+react.finddomnode", "(", "react.refs.someref", ")", ".value", ")", "}", "changecontent", "(", "e", ")", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "title", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcontent", "}", "onchange=", "{", "this.changecontent", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcontent", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "this.changecontent", "needs", "to", "be", "bound", "to", "the", "component", "instance", "via", "this.changecontent.bind", "(", "this", ")", "before", "being", "passed", "as", "the", "onchange", "prop", ",", "otherwise", "the", "this", "variable", "in", "the", "body", "of", "the", "function", "will", "not", "refer", "to", "the", "component", "instance", "but", "to", "window", ".", "see", "function", ":", ":bind", ".", "when", "using", "react.createclass", "instead", "of", "es6", "classes", ",", "every", "non-lifecycle", "method", "defined", "on", "a", "component", "is", "automatically", "bound", "to", "the", "component", "instance", ".", "see", "autobinding", ".", "be", "aware", "that", "binding", "a", "function", "creates", "a", "new", "function", ".", "you", "can", "either", "bind", "it", "directly", "in", "render", ",", "which", "means", "a", "new", "function", "will", "be", "created", "every", "time", "the", "component", "renders", ",", "or", "bind", "it", "in", "your", "constructor", ",", "which", "will", "only", "fire", "once", ".", "constructor", "(", ")", "{", "this.changecontent", "=", "this.changecontent.bind", "(", "this", ")", ";", "}", "vs", "render", "(", ")", "{", "return", "<", "input", "onchange=", "{", "this.changecontent.bind", "(", "this", ")", "}", "/", ">", ";", "}", "refs", "are", "set", "on", "the", "component", "instance", "and", "not", "on", "react.refs", ":", "you", "need", "to", "change", "react.refs.someref", "to", "this.refs.someref", ".", "you", "'ll", "also", "need", "to", "bind", "the", "sendcontent", "method", "to", "the", "component", "instance", "so", "that", "this", "refers", "to", "it", ".", "morhaus", "is", "correct", ",", "but", "this", "can", "be", "solved", "without", "bind", ".", "you", "can", "use", "an", "arrow", "function", "together", "with", "the", "class", "properties", "proposal", ":", "class", "someclass", "extends", "react.component", "{", "changecontent", "=", "(", "e", ")", "=", ">", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ")", "}", "render", "(", ")", "{", "return", "<", "input", "type=", "''", "text", "''", "onchange=", "{", "this.changecontent", "}", "/", ">", ";", "}", "}", "because", "the", "arrow", "function", "is", "declared", "in", "the", "scope", "of", "the", "constructor", ",", "and", "because", "arrow", "functions", "maintain", "this", "from", "their", "declaring", "scope", ",", "it", "all", "works", ".", "the", "downside", "here", "is", "that", "these", "wont", "be", "functions", "on", "the", "prototype", ",", "they", "will", "all", "be", "recreated", "with", "each", "component", ".", "however", ",", "this", "is", "n't", "much", "of", "a", "downside", "since", "bind", "results", "in", "the", "same", "thing", ".", "this", "issue", "is", "one", "of", "the", "first", "things", "most", "of", "us", "experience", ",", "when", "transitioning", "from", "the", "react.createclass", "(", ")", "component", "definition", "syntax", "to", "the", "es6", "class", "way", "of", "extending", "react.component", ".", "it", "is", "caused", "by", "the", "this", "context", "differences", "in", "react.createclass", "(", ")", "vs", "extends", "react.component", ".", "using", "react.createclass", "(", ")", "will", "automatically", "bind", "this", "context", "(", "values", ")", "correctly", ",", "but", "that", "is", "not", "the", "case", "when", "using", "es6", "classes", ".", "when", "doing", "it", "the", "es6", "way", "(", "by", "extending", "react.component", ")", "the", "this", "context", "is", "null", "by", "default", ".", "properties", "of", "the", "class", "do", "not", "automatically", "bind", "to", "the", "react", "class", "(", "component", ")", "instance", ".", "approaches", "to", "solve", "this", "issue", "i", "know", "a", "total", "of", "4", "general", "approaches", ".", "bind", "your", "functions", "in", "the", "class", "constructor", ".", "considered", "by", "many", "as", "a", "best-practice", "approach", "that", "avoids", "touching", "jsx", "at", "all", "and", "does", "n't", "create", "a", "new", "function", "on", "each", "component", "re-render", ".", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.handleclick", "=", "this.handleclick.bind", "(", "this", ")", ";", "}", "handleclick", "(", ")", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "bind", "your", "functions", "inline", ".", "you", "can", "still", "find", "this", "approach", "used", "here", "and", "there", "in", "some", "tutorials", "/", "articles", "/", "etc", ",", "so", "it", "'s", "important", "you", "'re", "aware", "of", "it", ".", "it", "it", "the", "same", "concept", "like", "#", "1", ",", "but", "be", "aware", "that", "binding", "a", "function", "creates", "a", "new", "function", "per", "each", "re-render", ".", "class", "someclass", "extends", "react.component", "{", "handleclick", "(", ")", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick.bind", "(", "this", ")", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "use", "a", "fat", "arrow", "function", ".", "until", "arrow", "functions", ",", "every", "new", "function", "defined", "its", "own", "this", "value", ".", "however", ",", "the", "arrow", "function", "does", "not", "create", "its", "own", "this", "context", ",", "so", "this", "has", "the", "original", "meaning", "from", "the", "react", "component", "instance", ".", "therefore", ",", "we", "can", ":", "class", "someclass", "extends", "react.component", "{", "handleclick", "(", ")", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.handleclick", "(", ")", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "or", "class", "someclass", "extends", "react.component", "{", "handleclick", "=", "(", ")", "=", ">", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "use", "utility", "function", "library", "to", "automatically", "bind", "your", "functions", ".", "there", "are", "a", "few", "utility", "libraries", "out", "there", ",", "that", "automatically", "does", "the", "job", "for", "you", ".", "here", "are", "some", "of", "the", "popular", ",", "just", "to", "mention", "a", "few", ":", "autobind", "decorator", "is", "an", "npm", "package", "which", "binds", "methods", "of", "a", "class", "to", "the", "correct", "instance", "of", "this", ",", "even", "when", "the", "methods", "are", "detached", ".", "the", "package", "uses", "@", "autobind", "before", "methods", "to", "bind", "this", "to", "the", "correct", "reference", "to", "the", "component", "'s", "context", ".", "import", "autobind", "from", "'autobind-decorator", "'", ";", "class", "someclass", "extends", "react.component", "{", "@", "autobind", "handleclick", "(", ")", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "autobind", "decorator", "is", "smart", "enough", "to", "let", "us", "bind", "all", "methods", "inside", "a", "component", "class", "at", "once", ",", "just", "like", "approach", "#", "1.", "class", "autobind", "is", "another", "npm", "package", "that", "is", "widely", "used", "to", "solve", "this", "binding", "issue", ".", "unlike", "autobind", "decorator", ",", "it", "does", "not", "use", "of", "the", "decorator", "pattern", ",", "but", "really", "just", "uses", "a", "function", "inside", "your", "constructor", "that", "automatically", "binds", "the", "component", "'s", "methods", "to", "the", "correct", "reference", "of", "this", ".", "import", "autobind", "from", "'class-autobind", "'", ";", "class", "someclass", "extends", "react.component", "{", "constructor", "(", ")", "{", "autobind", "(", "this", ")", ";", "//", "or", "if", "you", "want", "to", "bind", "only", "only", "select", "functions", ":", "//", "autobind", "(", "this", ",", "'handleclick", "'", ")", ";", "}", "handleclick", "(", ")", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "ps", ":", "other", "very", "similar", "library", "is", "react", "autobind", ".", "recommendation", "if", "i", "were", "you", ",", "i", "would", "stick", "with", "approach", "#", "1.", "however", ",", "as", "soon", "as", "you", "get", "a", "ton", "of", "binds", "in", "your", "class", "constructor", ",", "i", "would", "recommend", "you", "to", "explore", "one", "of", "the", "helper", "libraries", "mentioned", "in", "approach", "#", "4.", "other", "it", "'s", "not", "related", "to", "the", "issue", "you", "have", ",", "but", "you", "should", "n't", "overuse", "refs", ".", "your", "first", "inclination", "may", "be", "to", "use", "refs", "to", "``", "make", "things", "happen", "''", "in", "your", "app", ".", "if", "this", "is", "the", "case", ",", "take", "a", "moment", "and", "think", "more", "critically", "about", "where", "state", "should", "be", "owned", "in", "the", "component", "hierarchy", ".", "for", "similar", "purposes", ",", "just", "like", "the", "one", "you", "need", ",", "using", "a", "controlled", "component", "is", "the", "preferred", "way", ".", "i", "suggest", "you", "to", "consider", "using", "your", "component", "state", ".", "so", ",", "you", "can", "simply", "access", "the", "value", "like", "this", ":", "this.state.inputcontent", ".", "although", "the", "previous", "answers", "have", "provided", "the", "basic", "overview", "of", "solutions", "(", "i.e", ".", "binding", ",", "arrow", "functions", ",", "decorators", "that", "do", "this", "for", "you", ")", ",", "i", "'ve", "yet", "to", "come", "across", "an", "answer", "which", "actually", "explains", "why", "this", "is", "necessary\u2014which", "in", "my", "opinion", "is", "the", "root", "of", "confusion", ",", "and", "leads", "to", "unnecessary", "steps", "such", "as", "needless", "rebinding", "and", "blindly", "following", "what", "others", "do", ".", "this", "is", "dynamic", "to", "understand", "this", "specific", "situation", ",", "a", "brief", "introduction", "to", "how", "this", "works", ".", "the", "key", "thing", "here", "is", "that", "this", "is", "a", "runtime", "binding", "and", "depends", "on", "the", "current", "execution", "context", ".", "hence", "why", "it", "'s", "commonly", "referred", "to", "as", "``", "context", "''", "\u2014giving", "information", "on", "the", "current", "execution", "context", ",", "and", "why", "you", "need", "to", "bind", "is", "because", "you", "loose", "``", "context", "''", ".", "but", "let", "me", "illustrate", "the", "issue", "with", "a", "snippet", ":", "const", "foobar", "=", "{", "bar", ":", "function", "(", ")", "{", "return", "this.foo", ";", "}", ",", "foo", ":", "3", ",", "}", ";", "console.log", "(", "foobar.bar", "(", ")", ")", ";", "//", "3", ",", "all", "is", "good", "!", "in", "this", "example", ",", "we", "get", "3", ",", "as", "expected", ".", "but", "take", "this", "example", ":", "const", "barfunc", "=", "foobar.bar", ";", "console.log", "(", "barfunc", "(", ")", ")", ";", "//", "uh", "oh", ",", "undefined", "!", "it", "may", "be", "unexpected", "to", "find", "that", "it", "logs", "undefined\u2014where", "did", "the", "3", "go", "?", "the", "answer", "lies", "in", "``", "context", "''", ",", "or", "how", "you", "execute", "a", "function", ".", "compare", "how", "we", "call", "the", "functions", ":", "//", "example", "1", "foobar.bar", "(", ")", ";", "//", "example", "2", "const", "barfunc", "=", "foobar.bar", ";", "barfunc", "(", ")", ";", "notice", "the", "difference", ".", "in", "the", "first", "example", ",", "we", "are", "specifying", "exactly", "where", "the", "bar", "method1", "is", "located\u2014on", "the", "foobar", "object", ":", "foobar.bar", "(", ")", ";", "^^^^^^", "but", "in", "the", "second", ",", "we", "store", "the", "method", "into", "a", "new", "variable", ",", "and", "use", "that", "variable", "to", "call", "the", "method", ",", "without", "explicitly", "stating", "where", "the", "method", "actually", "exists", ",", "thus", "losing", "context", ":", "barfunc", "(", ")", ";", "//", "which", "object", "is", "this", "function", "coming", "from", "?", "and", "therein", "lies", "the", "problem", ",", "when", "you", "store", "a", "method", "in", "a", "variable", ",", "the", "original", "information", "about", "where", "that", "method", "is", "located", "(", "the", "context", "in", "which", "the", "method", "is", "being", "executed", ")", ",", "is", "lost", ".", "without", "this", "information", ",", "at", "runtime", ",", "there", "is", "no", "way", "for", "the", "javascript", "interpreter", "to", "bind", "the", "correct", "this\u2014without", "specific", "context", ",", "this", "does", "not", "work", "as", "expected2", ".", "relating", "to", "react", "here", "'s", "an", "example", "of", "a", "react", "component", "(", "shortened", "for", "brevity", ")", "suffering", "from", "the", "this", "problem", ":", "handleclick", "(", ")", "{", "this.setstate", "(", "(", "{", "clicks", "}", ")", "=", ">", "(", "{", "//", "setstate", "is", "async", ",", "use", "callback", "to", "access", "previous", "state", "clicks", ":", "clicks", "+", "1", ",", "//", "increase", "by", "1", "}", ")", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "{", "this.state.clicks", "}", "<", "/button", ">", ")", ";", "}", "but", "why", ",", "and", "how", "does", "the", "previous", "section", "relate", "to", "this", "?", "this", "is", "because", "they", "suffer", "from", "an", "abstraction", "of", "the", "same", "problem", ".", "if", "you", "take", "a", "look", "how", "react", "handles", "event", "handlers", ":", "//", "edited", "to", "fit", "answer", ",", "react", "performs", "other", "checks", "internally", "//", "props", "is", "the", "current", "react", "component", "'s", "props", ",", "registrationname", "is", "the", "name", "of", "the", "event", "handle", "prop", ",", "i.e", "``", "onclick", "''", "let", "listener", "=", "props", "[", "registrationname", "]", ";", "//", "later", ",", "listener", "is", "called", "so", ",", "when", "you", "do", "onclick=", "{", "this.handleclick", "}", ",", "the", "method", "this.handleclick", "is", "eventually", "assigned", "to", "the", "variable", "listener3", ".", "but", "now", "you", "see", "the", "problem", "arise\u2014since", "we", "'ve", "assigned", "this.handleclick", "to", "listener", ",", "we", "no", "longer", "specify", "exactly", "where", "handleclick", "is", "coming", "from", "!", "from", "react", "'s", "point", "of", "view", ",", "listener", "is", "just", "some", "function", ",", "not", "attached", "to", "any", "object", "(", "or", "in", "this", "case", ",", "react", "component", "instance", ")", ".", "we", "have", "lost", "context", "and", "thus", "the", "interpreter", "can", "not", "infer", "a", "this", "value", "to", "use", "inside", "handleclick", ".", "why", "binding", "works", "you", "might", "be", "wondering", ",", "if", "the", "interpreter", "decides", "the", "this", "value", "at", "runtime", ",", "why", "can", "i", "bind", "the", "handler", "so", "that", "it", "does", "work", "?", "this", "is", "because", "you", "can", "use", "function", "#", "bind", "to", "guarantee", "the", "this", "value", "at", "runtime", ".", "this", "is", "done", "by", "setting", "an", "internal", "this", "binding", "property", "on", "a", "function", ",", "allowing", "it", "to", "not", "infer", "this", ":", "this.handleclick", "=", "this.handleclick.bind", "(", "this", ")", ";", "when", "this", "line", "is", "executed", ",", "presumably", "in", "the", "constructor", ",", "the", "current", "this", "is", "captured", "(", "the", "react", "component", "instance", ")", "and", "set", "as", "an", "internal", "this", "binding", "of", "a", "entirely", "new", "function", ",", "returned", "from", "function", "#", "bind", ".", "this", "makes", "sure", "that", "when", "this", "is", "being", "calculated", "at", "runtime", ",", "the", "interpreter", "will", "not", "try", "to", "infer", "anything", ",", "but", "use", "the", "provided", "this", "value", "you", "given", "it", ".", "why", "arrow", "function", "properties", "work", "arrow", "function", "class", "properties", "currently", "work", "through", "babel", "based", "on", "the", "transpilation", ":", "handleclick", "=", "(", ")", "=", ">", "{", "/", "*", "can", "use", "this", "just", "fine", "here", "*", "/", "}", "becomes", ":", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.handleclick", "=", "(", ")", "=", ">", "{", "}", "}", "and", "this", "works", "due", "to", "the", "fact", "arrow", "functions", "do", "not", "bind", "their", "own", "this", ",", "but", "take", "the", "this", "of", "their", "enclosing", "scope", ".", "in", "this", "case", ",", "the", "constructor", "'s", "this", ",", "which", "points", "to", "the", "react", "component", "instance\u2014thus", "giving", "you", "the", "correct", "this.4", "1", "i", "use", "``", "method", "''", "to", "refer", "to", "a", "function", "that", "is", "supposed", "to", "be", "bound", "to", "an", "object", ",", "and", "``", "function", "''", "for", "those", "not", ".", "2", "in", "the", "second", "snippet", ",", "undefined", "is", "logged", "instead", "of", "3", "because", "this", "defaults", "to", "the", "global", "execution", "context", "(", "window", "when", "not", "in", "strict", "mode", ",", "or", "else", "undefined", ")", "when", "it", "can", "not", "be", "determined", "via", "specific", "context", ".", "and", "in", "the", "example", "window.foo", "does", "not", "exist", "thus", "yielding", "undefined", ".", "3", "if", "you", "go", "down", "the", "rabbit", "hole", "of", "how", "events", "in", "the", "event", "queue", "are", "executed", ",", "invokeguardedcallback", "is", "called", "on", "the", "listener", ".", "4", "it", "'s", "actually", "a", "lot", "more", "complicated", ".", "react", "internally", "tries", "to", "use", "function", "#", "apply", "on", "listeners", "for", "its", "own", "use", ",", "but", "this", "does", "not", "work", "arrow", "functions", "as", "they", "simply", "do", "not", "bind", "this", ".", "that", "means", ",", "when", "this", "inside", "the", "arrow", "function", "is", "actually", "evaluated", ",", "the", "this", "is", "resolved", "up", "each", "lexical", "environment", "of", "each", "execution", "context", "of", "the", "current", "code", "of", "the", "module", ".", "the", "execution", "context", "which", "finally", "resolves", "to", "have", "a", "this", "binding", "is", "the", "constructor", ",", "which", "has", "a", "this", "pointing", "to", "the", "current", "react", "component", "instance", ",", "allowing", "it", "to", "work", ".", "you", "can", "tackle", "this", "by", "three", "ways", "1.bind", "the", "event", "function", "in", "the", "constructor", "itself", "as", "follows", "import", "react", "from", "'react", "'", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.state", "=", "{", "inputcontent", ":", "'startvalue", "'", "}", "this.changecontent", "=", "this.changecontent.bind", "(", "this", ")", ";", "}", "sendcontent", "(", "e", ")", "{", "console.log", "(", "'sending", "input", "content", "'+react.finddomnode", "(", "react.refs.someref", ")", ".value", ")", "}", "changecontent", "(", "e", ")", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "title", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcontent", "}", "onchange=", "{", "this.changecontent", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcontent", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "2.bind", "when", "it", "is", "called", "import", "react", "from", "'react", "'", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.state", "=", "{", "inputcontent", ":", "'startvalue", "'", "}", "}", "sendcontent", "(", "e", ")", "{", "console.log", "(", "'sending", "input", "content", "'+react.finddomnode", "(", "react.refs.someref", ")", ".value", ")", "}", "changecontent", "(", "e", ")", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "title", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcontent", "}", "onchange=", "{", "this.changecontent", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcontent.bind", "(", "this", ")", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "3.by", "using", "arrow", "functions", "import", "react", "from", "'react", "'", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.state", "=", "{", "inputcontent", ":", "'startvalue", "'", "}", "}", "sendcontent", "(", "e", ")", "{", "console.log", "(", "'sending", "input", "content", "'+react.finddomnode", "(", "react.refs.someref", ")", ".value", ")", "}", "changecontent", "(", "e", ")", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "title", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcontent", "}", "onchange=", "{", "this.changecontent", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.sendcontent", "(", ")", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "we", "need", "to", "bind", "the", "event", "function", "with", "the", "component", "in", "constructor", "as", "follows", ",", "import", "react", "from", "'react", "'", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.state", "=", "{", "inputcontent", ":", "'startvalue", "'", "}", "this.changecontent", "=", "this.changecontent.bind", "(", "this", ")", ";", "}", "sendcontent", "(", "e", ")", "{", "console.log", "(", "'sending", "input", "content", "'+react.finddomnode", "(", "react.refs.someref", ")", ".value", ")", "}", "changecontent", "(", "e", ")", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "title", ":", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.inputcontent", "}", "onchange=", "{", "this.changecontent", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcontent", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "thanks", "my", "recommendation", "is", "use", "arrow", "functions", "as", "a", "properties", "class", "someclass", "extends", "react.component", "{", "handleclick", "=", "(", ")", "=", ">", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.handleclick", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "and", "do", "not", "use", "arrow", "functions", "as", "class", "someclass", "extends", "react.component", "{", "handleclick", "(", ")", "{", "console.log", "(", "this", ")", ";", "//", "the", "react", "component", "instance", "}", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "this.handleclick", "}", "}", ">", "<", "/button", ">", ")", ";", "}", "}", "because", "second", "approach", "will", "generate", "new", "function", "every", "render", "call", "in", "fact", "this", "means", "new", "pointer", "new", "version", "of", "props", ",", "than", "if", "you", "will", "later", "care", "about", "performance", "you", "are", "able", "use", "react.purecomponent", "or", "in", "react.component", "you", "can", "override", "shouldcomponentupdate", "(", "nextprops", ",", "nextstate", ")", "and", "shallow", "check", "when", "props", "arrived", "you", "can", "solve", "this", "following", "these", "steps", "change", "sendcontent", "function", "with", "sendcontent", "(", "e", ")", "{", "console.log", "(", "'sending", "input", "content", "'+this.refs.someref.value", ")", "}", "change", "render", "function", "with", "<", "input", "type=", "''", "text", "''", "ref=", "''", "someref", "''", "value=", "{", "this.state.inputcontent", "}", "onchange=", "{", "(", "event", ")", "=", ">", "this.changecontent", "(", "event", ")", "}", "/", ">", "<", "button", "onclick=", "{", "(", "event", ")", "=", ">", "this.sendcontent", "(", "event", ")", "}", ">", "submit", "<", "/button", ">", "we", "have", "to", "bind", "our", "function", "with", "this", "to", "get", "instance", "of", "the", "function", "in", "class", ".", "like", "so", "in", "example", "<", "button", "onclick=", "{", "this.sendcontent.bind", "(", "this", ")", "}", ">", "submit", "<", "/button", ">", "this", "way", "this.state", "will", "be", "valid", "object", ".", "if", "anyone", "will", "ever", "reach", "this", "answer", ",", "here", "is", "a", "way", "to", "bind", "all", "of", "the", "functions", "without", "needing", "to", "bind", "them", "manually", "in", "the", "constructor", "(", ")", ":", "for", "(", "let", "member", "of", "object.getownpropertynames", "(", "object.getprototypeof", "(", "this", ")", ")", ")", "{", "this", "[", "member", "]", "=", "this", "[", "member", "]", ".bind", "(", "this", ")", "}", "or", "create", "this", "function", "in", "a", "global.jsx", "file", "export", "function", "bindallfunctions", "(", "{", "bindto", ":", "dis", "}", ")", "{", "for", "(", "let", "member", "of", "object.getownpropertynames", "(", "object.getprototypeof", "(", "dis", ")", ")", ")", "{", "dis", "[", "member", "]", "=", "dis", "[", "member", "]", ".bind", "(", "dis", ")", "}", "}", "and", "in", "your", "constructor", "(", ")", "call", "it", "like", ":", "bindallfunctions", "(", "{", "bindto", ":", "this", "}", ")", "this", "issue", "is", "happening", "because", "this.changecontent", "and", "onclick=", "{", "this.sendcontent", "}", "are", "not", "bound", "to", "this", "of", "the", "instance", "of", "the", "component", ".", "there", "is", "another", "solution", "(", "in", "addition", "to", "use", "bind", "(", ")", "in", "the", "constructor", "(", ")", ")", "to", "use", "the", "arrow", "functions", "of", "es6", "which", "share", "the", "same", "lexical", "scope", "of", "the", "surrounding", "code", "and", "maintain", "this", ",", "so", "you", "can", "change", "your", "code", "in", "render", "(", ")", "to", "be", ":", "render", "(", ")", "{", "return", "(", "<", "input", "type=", "''", "text", "''", "onchange=", "{", "(", ")", "=", ">", "this.changecontent", "(", ")", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.sendcontent", "(", ")", "}", ">", "submit", "<", "/button", ">", ")", "}", "hello", "if", "you", "want", "to", "dont", "care", "about", "binding", "yourself", "your", "function", "call", ".", "you", "can", "use", "'class-autobind", "'", "and", "import", "it", "like", "that", "import", "autobind", "from", "'class-autobind", "'", ";", "class", "test", "extends", "component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "autobind", "(", "this", ")", ";", "}", "dont", "write", "autobind", "before", "the", "super", "call", "because", "it", "will", "not", "work", "in", "case", "you", "want", "to", "keep", "the", "bind", "in", "constructor", "syntax", ",", "you", "can", "use", "the", "proposal-bind-operator", "and", "transform", "your", "code", "like", "follow", ":", "constructor", "(", ")", "{", "this.changecontent", "=", ":", ":this.changecontent", ";", "}", "instead", "of", ":", "constructor", "(", ")", "{", "this.changecontent", "=", "this.changecontent.bind", "(", "this", ")", ";", "}", "much", "simpler", ",", "no", "need", "of", "bind", "(", "this", ")", "or", "fatarrow", ".", "this", "problem", "happen", "after", "react15.0", ",", "which", "event", "handler", "did", "n't", "auto", "bind", "to", "the", "component", ".", "so", "you", "must", "bind", "this", "to", "component", "manually", "whenever", "the", "event", "handler", "will", "be", "called", ".", "there", "are", "several", "methods", "to", "solve", "the", "problem", ".", "but", "you", "need", "to", "know", "which", "method", "is", "best", "and", "why", "?", "in", "general", ",", "we", "recommend", "that", "binding", "your", "functions", "in", "the", "class", "constructor", "or", "use", "a", "arrow", "function", ".", "//", "method", "1\uff1a", "use", "a", "arrow", "function", "class", "componenta", "extends", "react.component", "{", "eventhandler", "=", "(", ")", "=", ">", "{", "console.log", "(", "this", ")", "}", "render", "(", ")", "{", "return", "(", "<", "childcomponent", "onclick=", "{", "this.eventhandler", "}", "/", ">", ")", ";", "}", "//", "method", "2", ":", "bind", "your", "functions", "in", "the", "class", "constructor", ".", "class", "componenta", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.eventhandler", "=", "this.eventhandler.bind", "(", "this", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "childcomponent", "onclick=", "{", "this.eventhandler", "}", "/", ">", ")", ";", "}", "these", "two", "methods", "will", "not", "creates", "a", "new", "function", "when", "the", "component", "render", "everytime", ".", "so", "our", "childcomponent", "will", "not", "rerender", "becaue", "of", "the", "new", "function", "props", "change", ",", "or", "may", "produce", "the", "performance", "problem", ".", "you", "are", "using", "es6", "so", "functions", "will", "not", "bind", "to", "``", "this", "''", "context", "automatically", ".", "you", "have", "to", "manually", "bind", "the", "function", "to", "the", "context", ".", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.changecontent", "=", "this.changecontent.bind", "(", "this", ")", ";", "}", "your", "functions", "needs", "binding", "in", "order", "to", "play", "with", "state", "or", "props", "in", "event", "handlers", "in", "es5", ",", "bind", "your", "event", "handler", "functions", "only", "in", "constructor", "but", "do", "n't", "bind", "directly", "in", "render", ".", "if", "you", "do", "binding", "directly", "in", "render", "then", "it", "creates", "a", "new", "function", "every", "time", "your", "component", "renders", "and", "re-renders", ".", "so", "you", "should", "always", "bind", "it", "in", "constructor", "this.sendcontent", "=", "this.sendcontent.bind", "(", "this", ")", "in", "es6", ",", "use", "arrow", "functions", "when", "you", "use", "arrow", "functions", "then", "you", "no", "need", "to", "do", "binding", "and", "you", "can", "also", "stay", "away", "from", "scope", "related", "issues", "sendcontent", "=", "(", "event", ")", "=", ">", "{", "}", "alexandre", "kirszenberg", "is", "correct", ",", "but", "another", "important", "thing", "to", "pay", "attention", "to", ",", "is", "where", "you", "put", "your", "binding", ".", "i", "have", "been", "stuck", "with", "a", "situation", "for", "days", "(", "probably", "because", "i", "'m", "a", "beginner", ")", ",", "but", "unlike", "others", ",", "i", "knew", "about", "bind", "(", "which", "i", "had", "applied", "already", ")", "so", "i", "just", "could", "n't", "get", "my", "head", "around", "why", "i", "was", "still", "having", "those", "errors", ".", "it", "turns", "out", "that", "i", "had", "the", "bind", "in", "wrong", "order", ".", "another", "is", "also", "perhaps", "the", "fact", "that", "i", "was", "calling", "the", "function", "within", "``", "this.state", "''", ",", "which", "was", "not", "aware", "of", "the", "bind", "because", "it", "happened", "to", "be", "above", "the", "bind", "line", ",", "below", "is", "what", "i", "had", "(", "by", "the", "way", "this", "is", "my", "first", "ever", "posting", ",", "but", "i", "thought", "it", "was", "very", "important", ",", "as", "i", "could", "n't", "find", "solution", "any", "where", "else", ")", ":", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "productarray=//some", "array", "this.state=", "{", "//", "create", "an", "array", "which", "will", "hold", "components", "to", "be", "displayed", "prolisting", ":", "productarray.map", "(", "product=", ">", "{", "return", "(", "<", "prorow", "dele=", "{", "this.this.poprow", "(", ")", "}", "prodname=", "{", "product.name", "}", "prodprice=", "{", "product.price", "}", "/", ">", ")", "}", ")", "}", "this.poprow=this.poprow.bind", "(", "this", ")", ";", "//this", "was", "the", "issue", ",", "this", "line", "//should", "be", "kept", "above", "``", "this.state", "''", "solution", ":", "without", "explicitly", "binding", ",", "bind", "with", "the", "method", "name", "you", "can", "use", "fat", "arrow", "functions", "syntax", "(", ")", "=", ">", "{", "}", "that", "maintains", "the", "context", "of", "this", ".", "import", "react", "from", "'react", "'", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", "this.state", "=", "{", "inputcontent", ":", "'startvalue", "'", "}", "}", "sendcontent", "=", "(", "e", ")", "=", ">", "{", "console.log", "(", "'sending", "input", "content", "'", ",", "this.state.inputcontent", ")", ";", "}", "changecontent", "=", "(", "e", ")", "=", ">", "{", "this.setstate", "(", "{", "inputcontent", ":", "e.target.value", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "'state", ":", "'", ",", "this.state", ")", ";", "}", ")", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "h4", ">", "the", "input", "form", "is", "here", ":", "<", "/h4", ">", "title", ":", "<", "input", "type=", "''", "text", "''", "value=", "{", "this.state.inputcontent", "}", "onchange=", "{", "this.changecontent", "}", "/", ">", "<", "button", "onclick=", "{", "this.sendcontent", "}", ">", "submit", "<", "/button", ">", "<", "/div", ">", ")", "}", "}", "export", "default", "someclass", "other", "solutions", ":", "bind", "your", "functions", "in", "the", "class", "constructor", ".", "bind", "your", "functions", "in", "the", "jsx", "template", "escaping", "braces", "{", "}", "{", "this.methodname.bind", "(", "this", ")", "}", "bind", "(", "this", ")", "can", "fix", "this", "issue", ",", "and", "nowadays", "we", "can", "use", "another", "2", "ways", "to", "achieve", "this", "if", "you", "do", "n't", "like", "using", "bind", ".", "1", ")", "as", "the", "traditional", "way", ",", "we", "can", "use", "bind", "(", "this", ")", "in", "the", "constructor", ",", "so", "that", "when", "we", "use", "the", "function", "as", "jsx", "callback", ",", "the", "context", "of", "this", "is", "the", "class", "itself", ".", "class", "app1", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "//", "if", "we", "comment", "out", "the", "following", "line", ",", "//", "we", "will", "get", "run", "time", "error", "said", "`", "this", "`", "is", "undefined", ".", "this.changecolor", "=", "this.changecolor.bind", "(", "this", ")", ";", "}", "changecolor", "(", "e", ")", "{", "e.currenttarget.style.backgroundcolor", "=", "``", "#", "00ff00", "''", ";", "console.log", "(", "this.props", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.changecolor", "}", ">", "button", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "2", ")", "if", "we", "define", "the", "function", "as", "an", "attribute/field", "of", "the", "class", "with", "arrow", "function", ",", "we", "do", "n't", "need", "to", "use", "bind", "(", "this", ")", "any", "more", ".", "class", "app2", "extends", "react.component", "{", "changecolor", "=", "e", "=", ">", "{", "e.currenttarget.style.backgroundcolor", "=", "``", "#", "00ff00", "''", ";", "console.log", "(", "this.props", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.changecolor", "}", ">", "button", "1", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "3", ")", "if", "we", "use", "arrow", "function", "as", "jsx", "callback", ",", "we", "do", "n't", "need", "to", "use", "bind", "(", "this", ")", "either", ".", "and", "further", "more", ",", "we", "can", "pass", "in", "the", "parameters", ".", "looks", "good", ",", "is", "n't", "it", "?", "but", "its", "drawback", "is", "the", "performance", "concern", ",", "for", "details", "please", "refer", "reactjs", "doco", ".", "class", "app3", "extends", "react.component", "{", "changecolor", "(", "e", ",", "colorhex", ")", "{", "e.currenttarget.style.backgroundcolor", "=", "colorhex", ";", "console.log", "(", "this.props", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "e", "=", ">", "this.changecolor", "(", "e", ",", "``", "#", "ff0000", "''", ")", "}", ">", "button", "1", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "and", "i", "have", "created", "a", "codepen", "to", "demo", "these", "code", "snippets", ",", "hope", "it", "helps", ".", "i", "'m", "building", "a", "react", "component", "that", "accepts", "a", "json", "data", "source", "and", "creates", "a", "sortable", "table", ".", "each", "of", "the", "dynamic", "data", "rows", "has", "a", "unique", "key", "assigned", "to", "it", "but", "i", "'m", "still", "getting", "an", "error", "of", ":", "each", "child", "in", "an", "array", "should", "have", "a", "unique", "``", "key", "''", "prop", ".", "check", "the", "render", "method", "of", "tablecomponent", ".", "my", "tablecomponent", "render", "method", "returns", ":", "<", "table", ">", "<", "thead", "key=", "''", "thead", "''", ">", "<", "tableheader", "columns=", "{", "columnnames", "}", "/", ">", "<", "/thead", ">", "<", "tbody", "key=", "''", "tbody", "''", ">", "{", "rows", "}", "<", "/tbody", ">", "<", "/table", ">", "the", "tableheader", "component", "is", "a", "single", "row", "and", "also", "has", "a", "unique", "key", "assigned", "to", "it", ".", "each", "row", "in", "rows", "is", "built", "from", "a", "component", "with", "a", "unique", "key", ":", "<", "tablerowitem", "key=", "{", "item.id", "}", "data=", "{", "item", "}", "columns=", "{", "columnnames", "}", "/", ">", "and", "the", "tablerowitem", "looks", "like", "this", ":", "var", "tablerowitem", "=", "react.createclass", "(", "{", "render", ":", "function", "(", ")", "{", "var", "td", "=", "function", "(", ")", "{", "return", "this.props.columns.map", "(", "function", "(", "c", ")", "{", "return", "<", "td", "key=", "{", "this.props.data", "[", "c", "]", "}", ">", "{", "this.props.data", "[", "c", "]", "}", "<", "/td", ">", ";", "}", ",", "this", ")", ";", "}", ".bind", "(", "this", ")", ";", "return", "(", "<", "tr", ">", "{", "td", "(", "this.props.item", ")", "}", "<", "/tr", ">", ")", "}", "}", ")", ";", "what", "is", "causing", "the", "unique", "key", "prop", "error", "?", "you", "should", "add", "a", "key", "to", "each", "child", "as", "well", "as", "each", "element", "inside", "children", ".", "this", "way", "react", "can", "handle", "the", "minimal", "dom", "change", ".", "in", "your", "code", ",", "each", "<", "tablerowitem", "key=", "{", "item.id", "}", "data=", "{", "item", "}", "columns=", "{", "columnnames", "}", "/", ">", "is", "trying", "to", "render", "some", "children", "inside", "them", "without", "a", "key", ".", "check", "this", "example", ".", "try", "removing", "the", "key=", "{", "i", "}", "from", "the", "<", "b", ">", "<", "/b", ">", "element", "inside", "the", "div", "'s", "(", "and", "check", "the", "console", ")", ".", "in", "the", "sample", ",", "if", "we", "do", "n't", "give", "a", "key", "to", "the", "<", "b", ">", "element", "and", "we", "want", "to", "update", "only", "the", "object.city", ",", "react", "needs", "to", "re-render", "the", "whole", "row", "vs", "just", "the", "element", ".", "here", "is", "the", "code", ":", "var", "data", "=", "[", "{", "name", ":", "'jhon", "'", ",", "age:28", ",", "city", ":", "'ho", "'", "}", ",", "{", "name", ":", "'onhj", "'", ",", "age:82", ",", "city", ":", "'hn", "'", "}", ",", "{", "name", ":", "'nohj", "'", ",", "age:41", ",", "city", ":", "'it", "'", "}", "]", ";", "var", "hello", "=", "react.createclass", "(", "{", "render", ":", "function", "(", ")", "{", "var", "_data", "=", "this.props.info", ";", "console.log", "(", "_data", ")", ";", "return", "(", "<", "div", ">", "{", "_data.map", "(", "function", "(", "object", ",", "i", ")", "{", "return", "<", "div", "classname=", "{", "``", "row", "''", "}", "key=", "{", "i", "}", ">", "{", "[", "object.name", ",", "//", "remove", "the", "key", "<", "b", "classname=", "''", "fosfo", "''", "key=", "{", "i", "}", ">", "{", "object.city", "}", "<", "/b", ">", ",", "object.age", "]", "}", "<", "/div", ">", ";", "}", ")", "}", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "react.render", "(", "<", "hello", "info=", "{", "data", "}", "/", ">", ",", "document.body", ")", ";", "the", "answer", "posted", "by", "@", "chris", "at", "the", "bottom", "goes", "into", "much", "more", "detail", "than", "this", "answer", ".", "please", "take", "a", "look", "at", "https", ":", "//stackoverflow.com/a/43892905/2325522", "react", "documentation", "on", "the", "importance", "of", "keys", "in", "reconciliation", ":", "keys", "be", "careful", "when", "iterating", "over", "arrays", "!", "!", "it", "is", "a", "common", "misconception", "that", "using", "the", "index", "of", "the", "element", "in", "the", "array", "is", "an", "acceptable", "way", "of", "suppressing", "the", "error", "you", "are", "probably", "familiar", "with", ":", "each", "child", "in", "an", "array", "should", "have", "a", "unique", "``", "key", "''", "prop", ".", "however", ",", "in", "many", "cases", "it", "is", "not", "!", "this", "is", "anti-pattern", "that", "can", "in", "some", "situations", "lead", "to", "unwanted", "behavior", ".", "understanding", "the", "key", "prop", "react", "uses", "the", "key", "prop", "to", "understand", "the", "component-to-dom", "element", "relation", ",", "which", "is", "then", "used", "for", "the", "reconciliation", "process", ".", "it", "is", "therefore", "very", "important", "that", "the", "key", "always", "remains", "unique", ",", "otherwise", "there", "is", "a", "good", "chance", "react", "will", "mix", "up", "the", "elements", "and", "mutate", "the", "incorrect", "one", ".", "it", "is", "also", "important", "that", "these", "keys", "remain", "static", "throughout", "all", "re-renders", "in", "order", "to", "maintain", "best", "performance", ".", "that", "being", "said", ",", "one", "does", "not", "always", "need", "to", "apply", "the", "above", ",", "provided", "it", "is", "known", "that", "the", "array", "is", "completely", "static", ".", "however", ",", "applying", "best", "practices", "is", "encouraged", "whenever", "possible", ".", "a", "react", "developer", "said", "in", "this", "github", "issue", ":", "key", "is", "not", "really", "about", "performance", ",", "it", "'s", "more", "about", "identity", "(", "which", "in", "turn", "leads", "to", "better", "performance", ")", ".", "randomly", "assigned", "and", "changing", "values", "are", "not", "identity", "we", "ca", "n't", "realistically", "provide", "keys", "[", "automatically", "]", "without", "knowing", "how", "your", "data", "is", "modeled", ".", "i", "would", "suggest", "maybe", "using", "some", "sort", "of", "hashing", "function", "if", "you", "do", "n't", "have", "ids", "we", "already", "have", "internal", "keys", "when", "we", "use", "arrays", ",", "but", "they", "are", "the", "index", "in", "the", "array", ".", "when", "you", "insert", "a", "new", "element", ",", "those", "keys", "are", "wrong", ".", "in", "short", ",", "a", "key", "should", "be", ":", "unique", "-", "a", "key", "can", "not", "be", "identical", "to", "that", "of", "a", "sibling", "component", ".", "static", "-", "a", "key", "should", "not", "ever", "change", "between", "renders", ".", "using", "the", "key", "prop", "as", "per", "the", "explanation", "above", ",", "carefully", "study", "the", "following", "samples", "and", "try", "to", "implement", ",", "when", "possible", ",", "the", "recommended", "approach", ".", "bad", "(", "potentially", ")", "<", "tbody", ">", "{", "rows.map", "(", "(", "row", ",", "i", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", "this", "is", "arguably", "the", "most", "common", "mistake", "seen", "when", "iterating", "over", "an", "array", "in", "react", ".", "this", "approach", "is", "n't", "technically", "``", "wrong", "''", ",", "it", "'s", "just", "...", "``", "dangerous", "''", "if", "you", "do", "n't", "know", "what", "you", "are", "doing", ".", "if", "you", "are", "iterating", "through", "a", "static", "array", "then", "this", "is", "a", "perfectly", "valid", "approach", "(", "e.g", ".", "an", "array", "of", "links", "in", "your", "navigation", "menu", ")", ".", "however", ",", "if", "you", "are", "adding", ",", "removing", ",", "reordering", "or", "filtering", "items", ",", "then", "you", "need", "to", "be", "careful", ".", "take", "a", "look", "at", "this", "detailed", "explanation", "in", "the", "official", "documentation", ".", "class", "myapp", "extends", "react.component", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.state", "=", "{", "arr", ":", "[", "``", "item", "1", "''", "]", "}", "}", "click", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "{", "arr", ":", "[", "'item", "'", "+", "(", "this.state.arr.length+1", ")", "]", ".concat", "(", "this.state.arr", ")", ",", "}", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "button", "onclick=", "{", "this.click", "}", ">", "add", "<", "/button", ">", "<", "ul", ">", "{", "this.state.arr.map", "(", "(", "item", ",", "i", ")", "=", ">", "<", "item", "key=", "{", "i", "}", "text=", "{", "``", "item", "``", "+", "i", "}", ">", "{", "item", "+", "``", "``", "}", "<", "/item", ">", ")", "}", "<", "/ul", ">", "<", "/div", ">", ")", ";", "}", "}", "const", "item", "=", "(", "props", ")", "=", ">", "{", "return", "(", "<", "li", ">", "<", "label", ">", "{", "props.children", "}", "<", "/label", ">", "<", "input", "value=", "{", "props.text", "}", "/", ">", "<", "/li", ">", ")", ";", "}", "reactdom.render", "(", "<", "myapp", "/", ">", ",", "document.getelementbyid", "(", "``", "app", "''", ")", ")", ";", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js", "''", ">", "<", "/script", ">", "<", "div", "id=", "''", "app", "''", ">", "<", "/div", ">", "in", "this", "snippet", "we", "are", "using", "a", "non-static", "array", "and", "we", "are", "not", "restricting", "ourselves", "to", "using", "it", "as", "a", "stack", ".", "this", "is", "an", "unsafe", "approach", "(", "you", "'ll", "see", "why", ")", ".", "note", "how", "as", "we", "add", "items", "to", "the", "beginning", "of", "the", "array", "(", "basically", "unshift", ")", ",", "the", "value", "for", "each", "<", "input", ">", "remains", "in", "place", ".", "why", "?", "because", "the", "key", "does", "n't", "uniquely", "identify", "each", "item", ".", "in", "other", "words", ",", "at", "first", "item", "1", "has", "key=", "{", "0", "}", ".", "when", "we", "add", "the", "second", "item", ",", "the", "top", "item", "becomes", "item", "2", ",", "followed", "by", "item", "1", "as", "the", "second", "item", ".", "however", ",", "now", "item", "1", "has", "key=", "{", "1", "}", "and", "not", "key=", "{", "0", "}", "anymore", ".", "instead", ",", "item", "2", "now", "has", "key=", "{", "0", "}", "!", "!", "as", "such", ",", "react", "thinks", "the", "<", "input", ">", "elements", "have", "not", "changed", ",", "because", "the", "item", "with", "key", "0", "is", "always", "at", "the", "top", "!", "so", "why", "is", "this", "approach", "only", "sometimes", "bad", "?", "this", "approach", "is", "only", "risky", "if", "the", "array", "is", "somehow", "filtered", ",", "rearranged", ",", "or", "items", "are", "added/removed", ".", "if", "it", "is", "always", "static", ",", "then", "it", "'s", "perfectly", "safe", "to", "use", ".", "for", "example", ",", "a", "navigation", "menu", "like", "[", "``", "home", "''", ",", "``", "products", "''", ",", "``", "contact", "us", "''", "]", "can", "safely", "be", "iterated", "through", "with", "this", "method", "because", "you", "'ll", "probably", "never", "add", "new", "links", "or", "rearrange", "them", ".", "in", "short", ",", "here", "'s", "when", "you", "can", "safely", "use", "the", "index", "as", "key", ":", "the", "array", "is", "static", "and", "will", "never", "change", ".", "the", "array", "is", "never", "filtered", "(", "display", "a", "subset", "of", "the", "array", ")", ".", "the", "array", "is", "never", "reordered", ".", "the", "array", "is", "used", "as", "a", "stack", "or", "lifo", "(", "last", "in", ",", "first", "out", ")", ".", "in", "other", "words", ",", "adding", "can", "only", "be", "done", "at", "the", "end", "of", "the", "array", "(", "i.e", "push", ")", ",", "and", "only", "the", "last", "item", "can", "ever", "be", "removed", "(", "i.e", "pop", ")", ".", "had", "we", "instead", ",", "in", "the", "snippet", "above", ",", "pushed", "the", "added", "item", "to", "the", "end", "of", "the", "array", ",", "the", "order", "for", "each", "existing", "item", "would", "always", "be", "correct", ".", "very", "bad", "<", "tbody", ">", "{", "rows.map", "(", "(", "row", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "math.random", "(", ")", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", "while", "this", "approach", "will", "probably", "guarantee", "uniqueness", "of", "the", "keys", ",", "it", "will", "always", "force", "react", "to", "re-render", "each", "item", "in", "the", "list", ",", "even", "when", "this", "is", "not", "required", ".", "this", "a", "very", "bad", "solution", "as", "it", "greatly", "impacts", "performance", ".", "not", "to", "mention", "that", "one", "can", "not", "exclude", "the", "possibility", "of", "a", "key", "collision", "in", "the", "event", "that", "math.random", "(", ")", "produces", "the", "same", "number", "twice", ".", "unstable", "keys", "(", "like", "those", "produced", "by", "math.random", "(", ")", ")", "will", "cause", "many", "component", "instances", "and", "dom", "nodes", "to", "be", "unnecessarily", "recreated", ",", "which", "can", "cause", "performance", "degradation", "and", "lost", "state", "in", "child", "components", ".", "very", "good", "<", "tbody", ">", "{", "rows.map", "(", "(", "row", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "row.uniqueid", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", "this", "is", "arguably", "the", "best", "approach", "because", "it", "uses", "a", "property", "that", "is", "unique", "for", "each", "item", "in", "the", "dataset", ".", "for", "example", ",", "if", "rows", "contains", "data", "fetched", "from", "a", "database", ",", "one", "could", "use", "the", "table", "'s", "primary", "key", "(", "which", "typically", "is", "an", "auto-incrementing", "number", ")", ".", "the", "best", "way", "to", "pick", "a", "key", "is", "to", "use", "a", "string", "that", "uniquely", "identifies", "a", "list", "item", "among", "its", "siblings", ".", "most", "often", "you", "would", "use", "ids", "from", "your", "data", "as", "keys", "good", "componentwillmount", "(", ")", "{", "let", "rows", "=", "this.props.rows.map", "(", "item", "=", ">", "{", "return", "{", "uid", ":", "somelibrary.generateuniqueid", "(", ")", ",", "value", ":", "item", "}", ";", "}", ")", ";", "}", "...", "<", "tbody", ">", "{", "rows.map", "(", "(", "row", ")", "=", ">", "{", "return", "<", "objectrow", "key=", "{", "row.uid", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", "this", "is", "also", "a", "good", "approach", ".", "if", "your", "dataset", "does", "not", "contain", "any", "data", "that", "guarantees", "uniqueness", "(", "e.g", ".", "an", "array", "of", "arbitrary", "numbers", ")", ",", "there", "is", "a", "chance", "of", "a", "key", "collision", ".", "in", "such", "cases", ",", "it", "is", "best", "to", "manually", "generate", "a", "unique", "identifier", "for", "each", "item", "in", "the", "dataset", "before", "iterating", "over", "it", ".", "preferably", "when", "mounting", "the", "component", "or", "when", "the", "dataset", "is", "received", "(", "e.g", ".", "from", "props", "or", "from", "an", "async", "api", "call", ")", ",", "in", "order", "to", "do", "this", "only", "once", ",", "and", "not", "each", "time", "the", "component", "re-renders", ".", "there", "are", "already", "a", "handful", "of", "libraries", "out", "there", "that", "can", "provide", "you", "such", "keys", ".", "here", "is", "one", "example", ":", "react-key-index", ".", "this", "may", "or", "not", "help", "someone", ",", "but", "it", "might", "be", "a", "quick", "reference", ".", "this", "is", "also", "similar", "to", "all", "the", "answers", "presented", "above", ".", "i", "have", "a", "lot", "of", "locations", "that", "generate", "list", "using", "the", "structure", "below", ":", "return", "(", "{", "mylist.map", "(", "item", "=", ">", "(", "<", ">", "<", "div", "class=", "''", "some", "class", "''", ">", "{", "item.someproperty", "}", "....", "<", "/div", ">", "<", "/", ">", ")", "}", ")", "after", "a", "little", "trial", "and", "error", "(", "and", "some", "frustrations", ")", ",", "adding", "a", "key", "property", "to", "the", "outermost", "block", "resolved", "it", ".", "also", ",", "note", "that", "the", "<", ">", "tag", "is", "now", "replaced", "with", "the", "<", "div", ">", "tag", "now", ".", "return", "(", "{", "mylist.map", "(", "(", "item", ",", "index", ")", "=", ">", "(", "<", "div", "key=", "{", "index", "}", ">", "<", "div", "class=", "''", "some", "class", "''", ">", "{", "item.someproperty", "}", "....", "<", "/div", ">", "<", "/div", ">", ")", "}", ")", "of", "course", ",", "i", "'ve", "been", "naively", "using", "the", "iterating", "index", "(", "index", ")", "to", "populate", "the", "key", "value", "in", "the", "above", "example", ".", "ideally", ",", "you", "'d", "use", "something", "which", "is", "unique", "to", "the", "list", "item", ".", "just", "add", "the", "unique", "key", "to", "the", "your", "components", "data.map", "(", "(", "marker", ")", "=", ">", "{", "return", "(", "<", "yourcomponents", "key=", "{", "data.id", "}", "//", "<", "--", "--", "-", "unique", "key", "/", ">", ")", ";", "}", ")", "check", ":", "key", "=", "undef", "!", "!", "!", "you", "got", "also", "the", "warn", "message", ":", "each", "child", "in", "a", "list", "should", "have", "a", "unique", "``", "key", "''", "prop", ".", "if", "your", "code", "is", "complete", "right", ",", "but", "if", "on", "<", "objectrow", "key=", "{", "somevalue", "}", "/", ">", "somevalue", "is", "undefined", "!", "!", "!", "please", "check", "this", "first", ".", "you", "can", "save", "hours", ".", "warning", ":", "each", "child", "in", "an", "array", "or", "iterator", "should", "have", "a", "unique", "``", "key", "''", "prop", ".", "this", "is", "a", "warning", "as", "for", "array", "items", "which", "we", "are", "going", "to", "iterate", "over", "will", "need", "a", "unique", "resemblance", ".", "react", "handles", "iterating", "component", "rendering", "as", "arrays", ".", "better", "way", "to", "resolve", "this", "is", "provide", "index", "on", "the", "array", "items", "you", "are", "going", "to", "iterate", "over.for", "example", ":", "class", "usersstate", "extends", "component", "{", "state", "=", "{", "users", ":", "[", "{", "name", ":", "''", "shashank", "''", ",", "age:20", "}", ",", "{", "name", ":", "''", "vardan", "''", ",", "age:30", "}", ",", "{", "name", ":", "''", "somya", "''", ",", "age:40", "}", "]", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "this.state.users.map", "(", "(", "user", ",", "index", ")", "=", ">", "{", "return", "<", "userstate", "key=", "{", "index", "}", "age=", "{", "user.age", "}", ">", "{", "user.name", "}", "<", "/userstate", ">", "}", ")", "}", "<", "/div", ">", ")", "}", "index", "is", "react", "built-in", "props", ".", "best", "solution", "of", "define", "unique", "key", "in", "react", ":", "inside", "the", "map", "you", "initialized", "the", "name", "post", "then", "key", "define", "by", "key=", "{", "post.id", "}", "or", "in", "my", "code", "you", "see", "i", "define", "the", "name", "item", "then", "i", "define", "key", "by", "key=", "{", "item.id", "}", ":", "<", "div", "classname=", "''", "container", "''", ">", "{", "posts.map", "(", "item", "=", ">", "(", "<", "div", "classname=", "''", "card", "border-primary", "mb-3", "''", "key=", "{", "item.id", "}", ">", "<", "div", "classname=", "''", "card-header", "''", ">", "{", "item.name", "}", "<", "/div", ">", "<", "div", "classname=", "''", "card-body", "''", ">", "<", "h4", "classname=", "''", "card-title", "''", ">", "{", "item.username", "}", "<", "/h4", ">", "<", "p", "classname=", "''", "card-text", "''", ">", "{", "item.email", "}", "<", "/p", ">", "<", "/div", ">", "<", "/div", ">", ")", ")", "}", "<", "/div", ">", "i", "was", "running", "into", "this", "error", "message", "because", "of", "<", ">", "<", "/", ">", "being", "returned", "for", "some", "items", "in", "the", "array", "when", "instead", "null", "needs", "to", "be", "returned", ".", "this", "is", "a", "warning", ",", "but", "addressing", "this", "will", "make", "reacts", "rendering", "much", "faster", ",", "this", "is", "because", "react", "needs", "to", "uniquely", "identify", "each", "items", "in", "the", "list", ".", "lets", "say", "if", "the", "state", "of", "an", "element", "of", "that", "list", "changes", "in", "reacts", "virtual", "dom", "then", "react", "needs", "to", "figure", "out", "which", "element", "got", "changed", "and", "where", "in", "the", "dom", "it", "needs", "to", "change", "so", "that", "browser", "dom", "will", "be", "in", "sync", "with", "the", "reacts", "virtual", "dom", ".", "as", "a", "solution", "just", "introduce", "a", "key", "attribute", "to", "each", "li", "tag", ".", "this", "key", "should", "be", "a", "unique", "value", "to", "each", "element", ".", "var", "tablerowitem", "=", "react.createclass", "(", "{", "render", ":", "function", "(", ")", "{", "var", "td", "=", "function", "(", ")", "{", "return", "this.props.columns.map", "(", "function", "(", "c", ",", "i", ")", "{", "return", "<", "td", "key=", "{", "i", "}", ">", "{", "this.props.data", "[", "c", "]", "}", "<", "/td", ">", ";", "}", ",", "this", ")", ";", "}", ".bind", "(", "this", ")", ";", "return", "(", "<", "tr", ">", "{", "td", "(", "this.props.item", ")", "}", "<", "/tr", ">", ")", "}", "}", ")", ";", "this", "will", "sove", "the", "problem", ".", "in", "reactjs", "if", "you", "are", "rendering", "an", "array", "of", "elements", "you", "should", "have", "a", "unique", "key", "for", "each", "those", "elements", ".", "normally", "those", "kinda", "situations", "are", "creating", "a", "list", ".", "example", ":", "function", "list", "(", ")", "{", "const", "numbers", "=", "[", "0,1,2,3", "]", ";", "return", "(", "<", "ul", ">", "{", "numbers.map", "(", "(", "n", ")", "=", ">", "<", "li", ">", "{", "n", "}", "<", "/li", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "reactdom.render", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "in", "the", "above", "example", ",", "it", "creates", "a", "dynamic", "list", "using", "li", "tag", ",", "so", "since", "li", "tag", "does", "not", "have", "a", "unique", "key", "it", "shows", "an", "error", ".", "after", "fixed", ":", "function", "list", "(", ")", "{", "const", "numbers", "=", "[", "0,1,2,3", "]", ";", "return", "(", "<", "ul", ">", "{", "numbers.map", "(", "(", "n", ")", "=", ">", "<", "li", "key=", "{", "n", "}", ">", "{", "n", "}", "<", "/li", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "reactdom.render", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "alternative", "solution", "when", "use", "map", "when", "you", "do", "n't", "have", "a", "unique", "key", "(", "this", "is", "not", "recommended", "by", "react", "eslint", ")", ":", "function", "list", "(", ")", "{", "const", "numbers", "=", "[", "0,1,2,3,4,4", "]", ";", "return", "(", "<", "ul", ">", "{", "numbers.map", "(", "(", "n", ",", "i", ")", "=", ">", "<", "li", "key=", "{", "i", "}", ">", "{", "n", "}", "<", "/li", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "reactdom.render", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "live", "example", ":", "https", ":", "//codepen.io/spmsupun/pen/wvwdgwg", "i", "fixed", "this", "using", "guid", "for", "each", "key", "like", "this", ":", "generating", "guid", ":", "guid", "(", ")", "{", "return", "this.s4", "(", ")", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "'-", "'", "+", "this.s4", "(", ")", "+", "this.s4", "(", ")", "+", "this.s4", "(", ")", ";", "}", "s4", "(", ")", "{", "return", "math.floor", "(", "(", "1", "+", "math.random", "(", ")", ")", "*", "0x10000", ")", ".tostring", "(", "16", ")", ".substring", "(", "1", ")", ";", "}", "and", "then", "assigning", "this", "value", "to", "markers", ":", "{", "this.state.markers.map", "(", "marker", "=", ">", "(", "<", "mapview.marker", "key=", "{", "this.guid", "(", ")", "}", "coordinate=", "{", "marker.coordinates", "}", "title=", "{", "marker.title", "}", "/", ">", ")", ")", "}", "i", "'m", "trying", "to", "organize", "my", "state", "by", "using", "nested", "property", "like", "this", ":", "this.state", "=", "{", "someproperty", ":", "{", "flag", ":", "true", "}", "}", "but", "updating", "state", "like", "this", ",", "this.setstate", "(", "{", "someproperty.flag", ":", "false", "}", ")", ";", "does", "n't", "work", ".", "how", "can", "this", "be", "done", "correctly", "?", "in", "order", "to", "setstate", "for", "a", "nested", "object", "you", "can", "follow", "the", "below", "approach", "as", "i", "think", "setstate", "does", "n't", "handle", "nested", "updates", ".", "var", "someproperty", "=", "{", "...", "this.state.someproperty", "}", "someproperty.flag", "=", "true", ";", "this.setstate", "(", "{", "someproperty", "}", ")", "the", "idea", "is", "to", "create", "a", "dummy", "object", "perform", "operations", "on", "it", "and", "then", "replace", "the", "component", "'s", "state", "with", "the", "updated", "object", "now", ",", "the", "spread", "operator", "creates", "only", "one", "level", "nested", "copy", "of", "the", "object", ".", "if", "your", "state", "is", "highly", "nested", "like", ":", "this.state", "=", "{", "someproperty", ":", "{", "someotherproperty", ":", "{", "anotherproperty", ":", "{", "flag", ":", "true", "}", "..", "}", "...", "}", "...", "}", "you", "could", "setstate", "using", "spread", "operator", "at", "each", "level", "like", "this.setstate", "(", "prevstate", "=", ">", "(", "{", "...", "prevstate", ",", "someproperty", ":", "{", "...", "prevstate.someproperty", ",", "someotherproperty", ":", "{", "...", "prevstate.someproperty.someotherproperty", ",", "anotherproperty", ":", "{", "...", "prevstate.someproperty.someotherproperty.anotherproperty", ",", "flag", ":", "false", "}", "}", "}", "}", ")", ")", "however", "the", "above", "syntax", "get", "every", "ugly", "as", "the", "state", "becomes", "more", "and", "more", "nested", "and", "hence", "i", "recommend", "you", "to", "use", "immutability-helper", "package", "to", "update", "the", "state", ".", "see", "this", "answer", "on", "how", "to", "update", "state", "with", "immutability", "helper", ".", "to", "write", "it", "in", "one", "line", "this.setstate", "(", "{", "someproperty", ":", "{", "...", "this.state.someproperty", ",", "flag", ":", "false", "}", "}", ")", ";", "sometimes", "direct", "answers", "are", "not", "the", "best", "ones", ":", ")", "short", "version", ":", "this", "code", "this.state", "=", "{", "someproperty", ":", "{", "flag", ":", "true", "}", "}", "should", "be", "simplified", "as", "something", "like", "this.state", "=", "{", "somepropertyflag", ":", "true", "}", "long", "version", ":", "currently", "you", "should", "n't", "want", "to", "work", "with", "nested", "state", "in", "react", ".", "because", "react", "is", "not", "oriented", "to", "work", "with", "nested", "states", "and", "all", "solutions", "proposed", "here", "look", "as", "hacks", ".", "they", "do", "n't", "use", "the", "framework", "but", "fight", "with", "it", ".", "they", "suggest", "to", "write", "not", "so", "clear", "code", "for", "doubtful", "purpose", "of", "grouping", "some", "properties", ".", "so", "they", "are", "very", "interesting", "as", "an", "answer", "to", "the", "challenge", "but", "practically", "useless", ".", "lets", "imagine", "the", "following", "state", ":", "{", "parent", ":", "{", "child1", ":", "'value", "1", "'", ",", "child2", ":", "'value", "2", "'", ",", "...", "child100", ":", "'value", "100", "'", "}", "}", "what", "will", "happen", "if", "you", "change", "just", "a", "value", "of", "child1", "?", "react", "will", "not", "re-render", "the", "view", "because", "it", "uses", "shallow", "comparison", "and", "it", "will", "find", "that", "parent", "property", "did", "n't", "change", ".", "btw", "mutating", "the", "state", "object", "directly", "is", "considered", "to", "be", "a", "bad", "practice", "in", "general", ".", "so", "you", "need", "to", "re-create", "the", "whole", "parent", "object", ".", "but", "in", "this", "case", "we", "will", "meet", "another", "problem", ".", "react", "will", "think", "that", "all", "children", "have", "changed", "their", "values", "and", "will", "re-render", "all", "of", "them", ".", "of", "course", "it", "is", "not", "good", "for", "performance", ".", "it", "is", "still", "possible", "to", "solve", "that", "problem", "by", "writing", "some", "complicated", "logic", "in", "shouldcomponentupdate", "(", ")", "but", "i", "would", "prefer", "to", "stop", "here", "and", "use", "simple", "solution", "from", "the", "short", "version", ".", "disclaimer", "nested", "state", "in", "react", "is", "wrong", "design", "read", "this", "excellent", "answer", ".", "reasoning", "behind", "this", "answer", ":", "react", "'s", "setstate", "is", "just", "a", "built-in", "convenience", ",", "but", "you", "soon", "realise", "that", "it", "has", "its", "limits", ".", "using", "custom", "properties", "and", "intelligent", "use", "of", "forceupdate", "gives", "you", "much", "more", ".", "eg", ":", "class", "myclass", "extends", "react.component", "{", "mystate", "=", "someobject", "inputvalue", "=", "42", "...", "mobx", ",", "for", "example", ",", "ditches", "state", "completely", "and", "uses", "custom", "observable", "properties", ".", "use", "observables", "instead", "of", "state", "in", "react", "components", ".", "the", "answer", "to", "your", "misery", "-", "see", "example", "here", "there", "is", "another", "shorter", "way", "to", "update", "whatever", "nested", "property", ".", "this.setstate", "(", "state", "=", ">", "{", "state.nested.flag", "=", "false", "state.another.deep.prop", "=", "true", "return", "state", "}", ")", "on", "one", "line", "this.setstate", "(", "state", "=", ">", "(", "state.nested.flag", "=", "false", ",", "state", ")", ")", "note", ":", "this", "here", "is", "comma", "operator", "~mdn", ",", "see", "it", "in", "action", "here", "(", "sandbox", ")", ".", "it", "is", "similar", "to", "(", "though", "this", "does", "n't", "change", "state", "reference", ")", "this.state.nested.flag", "=", "false", "this.forceupdate", "(", ")", "for", "the", "subtle", "difference", "in", "this", "context", "between", "forceupdate", "and", "setstate", "see", "the", "linked", "example", ".", "of", "course", "this", "is", "abusing", "some", "core", "principles", ",", "as", "the", "state", "should", "be", "read-only", ",", "but", "since", "you", "are", "immediately", "discarding", "the", "old", "state", "and", "replacing", "it", "with", "new", "state", ",", "it", "is", "completely", "ok.", "warning", "even", "though", "the", "component", "containing", "the", "state", "will", "update", "and", "rerender", "properly", "(", "except", "this", "gotcha", ")", ",", "the", "props", "will", "fail", "to", "propagate", "to", "children", "(", "see", "spymaster", "'s", "comment", "below", ")", ".", "only", "use", "this", "technique", "if", "you", "know", "what", "you", "are", "doing", ".", "for", "example", ",", "you", "may", "pass", "a", "changed", "flat", "prop", "that", "is", "updated", "and", "passed", "easily", ".", "render", "(", "//some", "complex", "render", "with", "your", "nested", "state", "<", "childcomponent", "complexnestedprop=", "{", "this.state.nested", "}", "pleasererender=", "{", "math.random", "(", ")", "}", "/", ">", ")", "now", "even", "though", "reference", "for", "complexnestedprop", "did", "not", "change", "(", "shouldcomponentupdate", ")", "this.props.complexnestedprop", "===", "nextprops.complexnestedprop", "the", "component", "will", "rerender", "whenever", "parent", "component", "updates", ",", "which", "is", "the", "case", "after", "calling", "this.setstate", "or", "this.forceupdate", "in", "the", "parent", ".", "effects", "of", "mutating", "the", "state", "using", "nested", "state", "and", "mutating", "the", "state", "directly", "is", "dangerous", "because", "different", "objects", "might", "hold", "(", "intentionally", "or", "not", ")", "different", "(", "older", ")", "references", "to", "the", "state", "and", "might", "not", "necessarily", "know", "when", "to", "update", "(", "for", "example", "when", "using", "purecomponent", "or", "if", "shouldcomponentupdate", "is", "implemented", "to", "return", "false", ")", "or", "are", "intended", "to", "display", "old", "data", "like", "in", "the", "example", "below", ".", "imagine", "a", "timeline", "that", "is", "supposed", "to", "render", "historic", "data", ",", "mutating", "the", "data", "under", "the", "hand", "will", "result", "in", "unexpected", "behaviour", "as", "it", "will", "also", "change", "previous", "items", ".", "anyway", "here", "you", "can", "see", "that", "nested", "purechildclass", "it", "not", "rerendered", "due", "to", "props", "failing", "to", "propagate", ".", "if", "you", "are", "using", "es2015", "you", "have", "access", "to", "the", "object.assign", ".", "you", "can", "use", "it", "as", "follows", "to", "update", "a", "nested", "object", ".", "this.setstate", "(", "{", "someproperty", ":", "object.assign", "(", "{", "}", ",", "this.state.someproperty", ",", "{", "flag", ":", "false", "}", ")", "}", ")", ";", "you", "merge", "the", "updated", "properties", "with", "the", "existing", "and", "use", "the", "returned", "object", "to", "update", "the", "state", ".", "edit", ":", "added", "an", "empty", "object", "as", "target", "to", "the", "assign", "function", "to", "make", "sure", "the", "state", "is", "n't", "mutated", "directly", "as", "carkod", "pointed", "out", ".", "const", "newstate", "=", "object.assign", "(", "{", "}", ",", "this.state", ")", ";", "newstate.property.nestedproperty", "=", "``", "new", "value", "''", ";", "this.setstate", "(", "newstate", ")", ";", "there", "are", "many", "libraries", "to", "help", "with", "this", ".", "for", "example", ",", "using", "immutability-helper", ":", "import", "update", "from", "'immutability-helper", "'", ";", "const", "newstate", "=", "update", "(", "this.state", ",", "{", "someproperty", ":", "{", "flag", ":", "{", "$", "set", ":", "false", "}", "}", ",", "}", ";", "this.setstate", "(", "newstate", ")", ";", "using", "lodash/fp", "set", ":", "import", "{", "set", "}", "from", "'lodash/fp", "'", ";", "const", "newstate", "=", "set", "(", "[", "``", "someproperty", "''", ",", "``", "flag", "''", "]", ",", "false", ",", "this.state", ")", ";", "using", "lodash/fp", "merge", ":", "import", "{", "merge", "}", "from", "'lodash/fp", "'", ";", "const", "newstate", "=", "merge", "(", "this.state", ",", "{", "someproperty", ":", "{", "flag", ":", "false", "}", ",", "}", ")", ";", "we", "use", "immer", "https", ":", "//github.com/mweststrate/immer", "to", "handle", "these", "kinds", "of", "issues", ".", "just", "replaced", "this", "code", "in", "one", "of", "our", "components", "this.setstate", "(", "prevstate", "=", ">", "(", "{", "...", "prevstate", ",", "preferences", ":", "{", "...", "prevstate.preferences", ",", "[", "key", "]", ":", "newvalue", "}", "}", ")", ")", ";", "with", "this", "import", "produce", "from", "'immer", "'", ";", "this.setstate", "(", "produce", "(", "draft", "=", ">", "{", "draft.preferences", "[", "key", "]", "=", "newvalue", ";", "}", ")", ")", ";", "with", "immer", "you", "handle", "your", "state", "as", "a", "``", "normal", "object", "''", ".", "the", "magic", "happens", "behind", "the", "scene", "with", "proxy", "objects", ".", "here", "'s", "a", "variation", "on", "the", "first", "answer", "given", "in", "this", "thread", "which", "does", "n't", "require", "any", "extra", "packages", ",", "libraries", "or", "special", "functions", ".", "state", "=", "{", "someproperty", ":", "{", "flag", ":", "'string", "'", "}", "}", "handlechange", "=", "(", "value", ")", "=", ">", "{", "const", "newstate", "=", "{", "...", "this.state.someproperty", ",", "flag", ":", "value", "}", "this.setstate", "(", "{", "someproperty", ":", "newstate", "}", ")", "}", "in", "order", "to", "set", "the", "state", "of", "a", "specific", "nested", "field", ",", "you", "have", "set", "the", "whole", "object", ".", "i", "did", "this", "by", "creating", "a", "variable", ",", "newstate", "and", "spreading", "the", "contents", "of", "the", "current", "state", "into", "it", "first", "using", "the", "es2015", "spread", "operator", ".", "then", ",", "i", "replaced", "the", "value", "of", "this.state.flag", "with", "the", "new", "value", "(", "since", "i", "set", "flag", ":", "value", "after", "i", "spread", "the", "current", "state", "into", "the", "object", ",", "the", "flag", "field", "in", "the", "current", "state", "is", "overridden", ")", ".", "then", ",", "i", "simply", "set", "the", "state", "of", "someproperty", "to", "my", "newstate", "object", ".", "although", "nesting", "is", "n't", "really", "how", "you", "should", "treat", "a", "component", "state", ",", "sometimes", "for", "something", "easy", "for", "single", "tier", "nesting", ".", "for", "a", "state", "like", "this", "state", "=", "{", "contact", ":", "{", "phone", ":", "'888-888-8888", "'", ",", "email", ":", "'test", "@", "test.com", "'", "}", "address", ":", "{", "street", ":", "''", "}", ",", "occupation", ":", "{", "}", "}", "a", "re-useable", "method", "ive", "used", "would", "look", "like", "this", ".", "handlechange", "=", "(", "obj", ")", "=", ">", "e", "=", ">", "{", "let", "x", "=", "this.state", "[", "obj", "]", ";", "x", "[", "e.target.name", "]", "=", "e.target.value", ";", "this.setstate", "(", "{", "[", "obj", "]", ":", "x", "}", ")", ";", "}", ";", "then", "just", "passing", "in", "the", "obj", "name", "for", "each", "nesting", "you", "want", "to", "address", "...", "<", "textfield", "name=", "''", "street", "''", "onchange=", "{", "handlechange", "(", "'address", "'", ")", "}", "/", ">", "i", "used", "this", "solution", ".", "if", "you", "have", "a", "nested", "state", "like", "this", ":", "this.state", "=", "{", "forminputs", ":", "{", "friendname", ":", "{", "value", ":", "''", ",", "isvalid", ":", "false", ",", "errormsg", ":", "''", "}", ",", "friendemail", ":", "{", "value", ":", "''", ",", "isvalid", ":", "false", ",", "errormsg", ":", "''", "}", "}", "you", "can", "declare", "the", "handlechange", "function", "that", "copy", "current", "status", "and", "re-assigns", "it", "with", "changed", "values", "handlechange", "(", "el", ")", "{", "let", "inputname", "=", "el.target.name", ";", "let", "inputvalue", "=", "el.target.value", ";", "let", "statuscopy", "=", "object.assign", "(", "{", "}", ",", "this.state", ")", ";", "statuscopy.forminputs", "[", "inputname", "]", ".value", "=", "inputvalue", ";", "this.setstate", "(", "statuscopy", ")", ";", "}", "here", "the", "html", "with", "the", "event", "listener", "<", "input", "type=", "''", "text", "''", "onchange=", "{", "this.handlechange", "}", "``", "name=", "''", "friendname", "''", "/", ">", "create", "a", "copy", "of", "the", "state", ":", "let", "someproperty", "=", "json.parse", "(", "json.stringify", "(", "this.state.someproperty", ")", ")", "make", "changes", "in", "this", "object", ":", "someproperty.flag", "=", "``", "false", "''", "now", "update", "the", "state", "this.setstate", "(", "{", "someproperty", "}", ")", "although", "you", "asked", "about", "a", "state", "of", "class-based", "react", "component", ",", "the", "same", "problem", "exists", "with", "usestate", "hook", ".", "even", "worse", ":", "usestate", "hook", "does", "not", "accept", "partial", "updates", ".", "so", "this", "question", "became", "very", "relevant", "when", "usestate", "hook", "was", "introduced", ".", "i", "have", "decided", "to", "post", "the", "following", "answer", "to", "make", "sure", "the", "question", "covers", "more", "modern", "scenarios", "where", "the", "usestate", "hook", "is", "used", ":", "if", "you", "have", "got", ":", "const", "[", "state", ",", "setstate", "]", "=", "usestate", "(", "{", "someproperty", ":", "{", "flag", ":", "true", ",", "othernestedprop", ":", "1", "}", ",", "otherprop", ":", "2", "}", ")", "you", "can", "set", "the", "nested", "property", "by", "cloning", "the", "current", "and", "patching", "the", "required", "segments", "of", "the", "data", ",", "for", "example", ":", "setstate", "(", "current", "=", ">", "{", "...", "current", ",", "someproperty", ":", "{", "...", "current.someproperty", ",", "flag", ":", "false", "}", "}", ")", ";", "or", "you", "can", "use", "immer", "library", "to", "simplify", "the", "cloning", "and", "patching", "of", "the", "object", ".", "or", "you", "can", "use", "hookstate", "library", "(", "disclaimer", ":", "i", "am", "an", "author", ")", "to", "simply", "the", "management", "of", "complex", "(", "local", "and", "global", ")", "state", "data", "entirely", "and", "improve", "the", "performance", "(", "read", ":", "not", "to", "worry", "about", "rendering", "optimization", ")", ":", "import", "{", "usestatelink", "}", "from", "'", "@", "hookstate/core", "'", "const", "state", "=", "usestatelink", "(", "{", "someproperty", ":", "{", "flag", ":", "true", ",", "othernestedprop", ":", "1", "}", ",", "otherprop", ":", "2", "}", ")", "get", "the", "field", "to", "render", ":", "state.nested.someproperty.nested.flag.get", "(", ")", "//", "or", "state.get", "(", ")", ".someproperty.flag", "set", "the", "nested", "field", ":", "state.nested.someproperty.nested.flag.set", "(", "false", ")", "here", "is", "the", "hookstate", "example", ",", "where", "the", "state", "is", "deeply", "/", "recursively", "nested", "in", "tree-like", "data", "structure", ".", "two", "other", "options", "not", "mentioned", "yet", ":", "if", "you", "have", "deeply", "nested", "state", ",", "consider", "if", "you", "can", "restructure", "the", "child", "objects", "to", "sit", "at", "the", "root", ".", "this", "makes", "the", "data", "easier", "to", "update", ".", "there", "are", "many", "handy", "libraries", "available", "for", "handling", "immutable", "state", "listed", "in", "the", "redux", "docs", ".", "i", "recommend", "immer", "since", "it", "allows", "you", "to", "write", "code", "in", "a", "mutative", "manner", "but", "handles", "the", "necessary", "cloning", "behind", "the", "scenes", ".", "it", "also", "freezes", "the", "resulting", "object", "so", "you", "ca", "n't", "accidentally", "mutate", "it", "later", ".", "to", "make", "things", "generic", ",", "i", "worked", "on", "@", "shubhamkhatri", "'s", "and", "@", "qwerty", "'s", "answers", ".", "state", "object", "this.state", "=", "{", "name", ":", "``", ",", "grandparent", ":", "{", "parent1", ":", "{", "child", ":", "``", "}", ",", "parent2", ":", "{", "child", ":", "``", "}", "}", "}", ";", "input", "controls", "<", "input", "value=", "{", "this.state.name", "}", "onchange=", "{", "this.updatestate", "}", "type=", "''", "text", "''", "name=", "''", "name", "''", "/", ">", "<", "input", "value=", "{", "this.state.grandparent.parent1.child", "}", "onchange=", "{", "this.updatestate", "}", "type=", "''", "text", "''", "name=", "''", "grandparent.parent1.child", "''", "/", ">", "<", "input", "value=", "{", "this.state.grandparent.parent2.child", "}", "onchange=", "{", "this.updatestate", "}", "type=", "''", "text", "''", "name=", "''", "grandparent.parent2.child", "''", "/", ">", "updatestate", "method", "setstate", "as", "@", "shubhamkhatri", "'s", "answer", "updatestate", "(", "event", ")", "{", "const", "path", "=", "event.target.name.split", "(", "'", ".", "'", ")", ";", "const", "depth", "=", "path.length", ";", "const", "oldstate", "=", "this.state", ";", "const", "newstate", "=", "{", "...", "oldstate", "}", ";", "let", "newstatelevel", "=", "newstate", ";", "let", "oldstatelevel", "=", "oldstate", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "depth", ";", "i", "+=", "1", ")", "{", "if", "(", "i", "===", "depth", "-", "1", ")", "{", "newstatelevel", "[", "path", "[", "i", "]", "]", "=", "event.target.value", ";", "}", "else", "{", "newstatelevel", "[", "path", "[", "i", "]", "]", "=", "{", "...", "oldstatelevel", "[", "path", "[", "i", "]", "]", "}", ";", "oldstatelevel", "=", "oldstatelevel", "[", "path", "[", "i", "]", "]", ";", "newstatelevel", "=", "newstatelevel", "[", "path", "[", "i", "]", "]", ";", "}", "}", "this.setstate", "(", "newstate", ")", ";", "}", "setstate", "as", "@", "qwerty", "'s", "answer", "updatestate", "(", "event", ")", "{", "const", "path", "=", "event.target.name.split", "(", "'", ".", "'", ")", ";", "const", "depth", "=", "path.length", ";", "const", "state", "=", "{", "...", "this.state", "}", ";", "let", "ref", "=", "state", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "depth", ";", "i", "+=", "1", ")", "{", "if", "(", "i", "===", "depth", "-", "1", ")", "{", "ref", "[", "path", "[", "i", "]", "]", "=", "event.target.value", ";", "}", "else", "{", "ref", "=", "ref", "[", "path", "[", "i", "]", "]", ";", "}", "}", "this.setstate", "(", "state", ")", ";", "}", "note", ":", "these", "above", "methods", "wo", "n't", "work", "for", "arrays", "i", "take", "very", "seriously", "the", "concerns", "already", "voiced", "around", "creating", "a", "complete", "copy", "of", "your", "component", "state", ".", "with", "that", "said", ",", "i", "would", "strongly", "suggest", "immer", ".", "import", "produce", "from", "'immer", "'", ";", "<", "input", "value=", "{", "this.state.form.username", "}", "onchange=", "{", "e", "=", ">", "produce", "(", "this.state", ",", "s", "=", ">", "{", "s.form.username", "=", "e.target.value", "}", ")", "}", "/", ">", "this", "should", "work", "for", "react.purecomponent", "(", "i.e", ".", "shallow", "state", "comparisons", "by", "react", ")", "as", "immer", "cleverly", "uses", "a", "proxy", "object", "to", "efficiently", "copy", "an", "arbitrarily", "deep", "state", "tree", ".", "immer", "is", "also", "more", "typesafe", "compared", "to", "libraries", "like", "immutability", "helper", ",", "and", "is", "ideal", "for", "javascript", "and", "typescript", "users", "alike", ".", "typescript", "utility", "function", "function", "setstatedeep", "<", "s", ">", "(", "comp", ":", "react.component", "<", "any", ",", "s", ",", "any", ">", ",", "fn", ":", "(", "s", ":", "draft", "<", "readonly", "<", "s", ">", ">", ")", "=", ">", "any", ")", "{", "comp.setstate", "(", "produce", "(", "comp.state", ",", "s", "=", ">", "{", "fn", "(", "s", ")", ";", "}", ")", ")", "}", "onchange=", "{", "e", "=", ">", "setstatedeep", "(", "this", ",", "s", "=", ">", "s.form.username", "=", "e.target.value", ")", "}", "stateupdate", "=", "(", ")", "=", ">", "{", "let", "obj", "=", "this.state", ";", "if", "(", "this.props.v12_data.values.email", ")", "{", "obj.obj_v12.customer.emailaddress", "=", "this.props.v12_data.values.email", "}", "this.setstate", "(", "obj", ")", "}", "i", "found", "this", "to", "work", "for", "me", ",", "having", "a", "project", "form", "in", "my", "case", "where", "for", "example", "you", "have", "an", "id", ",", "and", "a", "name", "and", "i", "'d", "rather", "maintain", "state", "for", "a", "nested", "project", ".", "return", "(", "<", "div", ">", "<", "h2", ">", "project", "details", "<", "/h2", ">", "<", "form", ">", "<", "input", "label=", "''", "id", "''", "group", "type=", "''", "number", "''", "value=", "{", "this.state.project.id", "}", "onchange=", "{", "(", "event", ")", "=", ">", "this.setstate", "(", "{", "project", ":", "{", "...", "this.state.project", ",", "id", ":", "event.target.value", "}", "}", ")", "}", "/", ">", "<", "input", "label=", "''", "name", "''", "group", "type=", "''", "text", "''", "value=", "{", "this.state.project.name", "}", "onchange=", "{", "(", "event", ")", "=", ">", "this.setstate", "(", "{", "project", ":", "{", "...", "this.state.project", ",", "name", ":", "event.target.value", "}", "}", ")", "}", "/", ">", "<", "/form", ">", "<", "/div", ">", ")", "let", "me", "know", "!", "something", "like", "this", "might", "suffice", ",", "const", "isobject", "=", "(", "thing", ")", "=", ">", "{", "if", "(", "thing", "&", "&", "typeof", "thing", "===", "'object", "'", "&", "&", "typeof", "thing", "!", "==", "null", "&", "&", "!", "(", "array.isarray", "(", "thing", ")", ")", ")", "{", "return", "true", ";", "}", "return", "false", ";", "}", "/", "*", "call", "with", "an", "array", "containing", "the", "path", "to", "the", "property", "you", "want", "to", "access", "and", "the", "current", "component/redux", "state", ".", "for", "example", "if", "we", "want", "to", "update", "`", "hello", "`", "within", "the", "following", "obj", "const", "obj", "=", "{", "someprimitive", ":", "false", ",", "somenestedobj", ":", "{", "hello:1", "}", "}", "we", "would", "do", ":", "//clone", "the", "object", "const", "cloned", "=", "clone", "(", "[", "'somenestedobj", "'", ",", "'hello", "'", "]", ",", "obj", ")", "//set", "the", "new", "value", "cloned.somenestedobj.hello", "=", "5", ";", "*", "/", "const", "clone", "=", "(", "arr", ",", "state", ")", "=", ">", "{", "let", "clonedobj", "=", "{", "...", "state", "}", "const", "originalobj", "=", "clonedobj", ";", "arr.foreach", "(", "property", "=", ">", "{", "if", "(", "!", "(", "property", "in", "clonedobj", ")", ")", "{", "throw", "new", "error", "(", "'state", "missing", "property", "'", ")", "}", "if", "(", "isobject", "(", "clonedobj", "[", "property", "]", ")", ")", "{", "clonedobj", "[", "property", "]", "=", "{", "...", "originalobj", "[", "property", "]", "}", ";", "clonedobj", "=", "clonedobj", "[", "property", "]", ";", "}", "}", ")", "return", "originalobj", ";", "}", "const", "nestedobj", "=", "{", "someproperty", ":", "true", ",", "somenestedobj", ":", "{", "someotherproperty", ":", "true", "}", "}", "const", "clonedobj", "=", "clone", "(", "[", "'someproperty", "'", "]", ",", "nestedobj", ")", ";", "console.log", "(", "clonedobj", "===", "nestedobj", ")", "//returns", "false", "console.log", "(", "clonedobj.someproperty", "===", "nestedobj.someproperty", ")", "//returns", "true", "console.log", "(", "clonedobj.somenestedobj", "===", "nestedobj.somenestedobj", ")", "//returns", "true", "console.log", "(", ")", "const", "clonedobj2", "=", "clone", "(", "[", "'someproperty", "'", ",", "'somenestedobj", "'", ",", "'someotherproperty", "'", "]", ",", "nestedobj", ")", ";", "console.log", "(", "clonedobj2", "===", "nestedobj", ")", "//", "returns", "false", "console.log", "(", "clonedobj2.somenestedobj", "===", "nestedobj.somenestedobj", ")", "//returns", "false", "//returns", "true", "(", "does", "n't", "attempt", "to", "clone", "because", "its", "primitive", "type", ")", "console.log", "(", "clonedobj2.somenestedobj.someotherproperty", "===", "nestedobj.somenestedobj.someotherproperty", ")", "i", "know", "it", "is", "an", "old", "question", "but", "still", "wanted", "to", "share", "how", "i", "achieved", "this", ".", "assuming", "state", "in", "constructor", "looks", "like", "this", ":", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "{", "loading", ":", "false", ",", "user", ":", "{", "email", ":", "``", "''", "}", ",", "organization", ":", "{", "name", ":", "``", "''", "}", "}", ";", "this.handlechange", "=", "this.handlechange.bind", "(", "this", ")", ";", "}", "my", "handlechange", "function", "is", "like", "this", ":", "handlechange", "(", "e", ")", "{", "const", "names", "=", "e.target.name.split", "(", "``", ".", "``", ")", ";", "const", "value", "=", "e.target.type", "===", "``", "checkbox", "''", "?", "e.target.checked", ":", "e.target.value", ";", "this.setstate", "(", "(", "state", ")", "=", ">", "{", "state", "[", "names", "[", "0", "]", "]", "[", "names", "[", "1", "]", "]", "=", "value", ";", "return", "{", "[", "names", "[", "0", "]", "]", ":", "state", "[", "names", "[", "0", "]", "]", "}", ";", "}", ")", ";", "}", "and", "make", "sure", "you", "name", "inputs", "accordingly", ":", "<", "input", "type=", "''", "text", "''", "name=", "''", "user.email", "''", "onchange=", "{", "this.handlechange", "}", "value=", "{", "this.state.user.firstname", "}", "placeholder=", "''", "email", "address", "''", "/", ">", "<", "input", "type=", "''", "text", "''", "name=", "''", "organization.name", "''", "onchange=", "{", "this.handlechange", "}", "value=", "{", "this.state.organization.name", "}", "placeholder=", "''", "organization", "name", "''", "/", ">", "i", "do", "nested", "updates", "with", "a", "reduce", "search", ":", "example", ":", "the", "nested", "variables", "in", "state", ":", "state", "=", "{", "coords", ":", "{", "x", ":", "0", ",", "y", ":", "0", ",", "z", ":", "0", "}", "}", "the", "function", ":", "handlechange", "=", "nestedattr", "=", ">", "event", "=", ">", "{", "const", "{", "target", ":", "{", "value", "}", "}", "=", "event", ";", "const", "attrs", "=", "nestedattr.split", "(", "'", ".", "'", ")", ";", "let", "statevar", "=", "this.state", "[", "attrs", "[", "0", "]", "]", ";", "if", "(", "attrs.length", ">", "1", ")", "attrs.reduce", "(", "(", "a", ",", "b", ",", "index", ",", "arr", ")", "=", ">", "{", "if", "(", "index==arr.length-1", ")", "a", "[", "b", "]", "=", "value", ";", "else", "if", "(", "a", "[", "b", "]", "!", "=null", ")", "return", "a", "[", "b", "]", "else", "return", "a", ";", "}", ",", "statevar", ")", ";", "else", "statevar", "=", "value", ";", "this.setstate", "(", "{", "[", "attrs", "[", "0", "]", "]", ":", "statevar", "}", ")", "}", "use", ":", "<", "input", "value=", "{", "this.state.coords.x", "}", "onchange=", "{", "this.handletextchange", "(", "'coords.x", "'", ")", "}", "/", ">", "this", "is", "my", "initialstate", "const", "initialstateinput", "=", "{", "cabecerafamilia", ":", "{", "familia", ":", "``", ",", "direccion", ":", "``", ",", "telefonos", ":", "``", ",", "email", ":", "``", "}", ",", "motivoconsulta", ":", "``", ",", "fechahora", ":", "``", ",", "corresponsables", ":", "[", "]", ",", "}", "the", "hook", "or", "you", "can", "replace", "it", "with", "the", "state", "(", "class", "component", ")", "const", "[", "infoagendamiento", ",", "setinfoagendamiento", "]", "=", "usestate", "(", "initialstateinput", ")", ";", "the", "method", "for", "handlechange", "const", "actualizarstate", "=", "e", "=", ">", "{", "const", "nameobjects", "=", "e.target.name.split", "(", "'", ".", "'", ")", ";", "const", "newstate", "=", "setstatenested", "(", "infoagendamiento", ",", "nameobjects", ",", "e.target.value", ")", ";", "setinfoagendamiento", "(", "{", "...", "newstate", "}", ")", ";", "}", ";", "method", "for", "set", "state", "with", "nested", "states", "const", "setstatenested", "=", "(", "state", ",", "nameobjects", ",", "value", ")", "=", ">", "{", "let", "i", "=", "0", ";", "let", "operativestate", "=", "state", ";", "if", "(", "nameobjects.length", ">", "1", ")", "{", "for", "(", "i", "=", "0", ";", "i", "<", "nameobjects.length", "-", "1", ";", "i++", ")", "{", "operativestate", "=", "operativestate", "[", "nameobjects", "[", "i", "]", "]", ";", "}", "}", "operativestate", "[", "nameobjects", "[", "i", "]", "]", "=", "value", ";", "return", "state", ";", "}", "finally", "this", "is", "the", "input", "that", "i", "use", "<", "input", "type=", "''", "text", "''", "classname=", "''", "form-control", "''", "name=", "''", "cabecerafamilia.direccion", "''", "placeholder=", "''", "direcci\u00f3n", "''", "defaultvalue=", "{", "infoagendamiento.cabecerafamilia.direccion", "}", "onchange=", "{", "actualizarstate", "}", "/", ">", "if", "you", "are", "using", "formik", "in", "your", "project", "it", "has", "some", "easy", "way", "to", "handle", "this", "stuff", ".", "here", "is", "the", "most", "easiest", "way", "to", "do", "with", "formik", ".", "first", "set", "your", "initial", "values", "inside", "the", "formik", "initivalues", "attribute", "or", "in", "the", "react", ".", "state", "here", ",", "the", "initial", "values", "is", "define", "in", "react", "state", "state", "=", "{", "data", ":", "{", "fy", ":", "{", "active", ":", "``", "n", "''", "}", "}", "}", "define", "above", "initialvalues", "for", "formik", "field", "inside", "formik", "initivalues", "attribute", "<", "formik", "initialvalues=", "{", "this.state.data", "}", "onsubmit=", "{", "(", "values", ",", "actions", ")", "=", ">", "{", "...", "your", "actions", "goes", "here", "}", "}", ">", "{", "(", "{", "issubmitting", "}", ")", "=", ">", "(", "<", "form", ">", "<", "field", "type=", "''", "checkbox", "''", "name=", "''", "fy.active", "''", "onchange=", "{", "(", "e", ")", "=", ">", "{", "const", "value", "=", "e.target.checked", ";", "if", "(", "value", ")", "setfieldvalue", "(", "'fy.active", "'", ",", "'", "y", "'", ")", "else", "setfieldvalue", "(", "'fy.active", "'", ",", "'", "n", "'", ")", "}", "}", "/", ">", "<", "/form", ">", ")", "}", "<", "/formik", ">", "make", "a", "console", "to", "the", "check", "the", "state", "updated", "into", "string", "instead", "of", "booleanthe", "formik", "setfieldvalue", "function", "to", "set", "the", "state", "or", "go", "with", "react", "debugger", "tool", "to", "see", "the", "changes", "iniside", "formik", "state", "values", ".", "try", "this", "code", ":", "this.setstate", "(", "{", "someproperty", ":", "{", "flag", ":", "false", "}", "}", ")", ";", "this", "is", "clearly", "not", "the", "right", "or", "best", "way", "to", "do", ",", "however", "it", "is", "cleaner", "to", "my", "view", ":", "this.state.hugenestedobject", "=", "hugenestedobject", ";", "this.state.anotherhugenestedobject", "=", "anotherhugenestedobject", ";", "this.setstate", "(", "{", "}", ")", "however", ",", "react", "itself", "should", "iterate", "thought", "nested", "objects", "and", "update", "state", "and", "dom", "accordingly", "which", "is", "not", "there", "yet", ".", "i", "saw", "following", "in", "a", "book", ":", "this.setstate", "(", "state", "=", ">", "state.someproperty.falg", "=", "false", ")", ";", "but", "i", "'m", "not", "sure", "if", "it", "'s", "right", "..", "i", "want", "to", "add", "an", "element", "to", "the", "end", "of", "a", "state", "array", ",", "is", "this", "the", "correct", "way", "to", "do", "it", "?", "this.state.arrayvar.push", "(", "newelement", ")", ";", "this.setstate", "(", "{", "arrayvar", ":", "this.state.arrayvar", "}", ")", ";", "i", "am", "concerned", "that", "modifying", "the", "array", "in-place", "with", "push", "might", "cause", "trouble", "-", "is", "it", "safe", "?", "the", "alternative", "of", "making", "a", "copy", "of", "the", "array", ",", "and", "setstateing", "that", "seems", "wasteful", ".", "the", "react", "docs", "says", ":", "treat", "this.state", "as", "if", "it", "were", "immutable", ".", "your", "push", "will", "mutate", "the", "state", "directly", "and", "that", "could", "potentially", "lead", "to", "error", "prone", "code", ",", "even", "if", "you", "are", "``", "resetting", "''", "the", "state", "again", "afterwards", ".", "f.ex", ",", "it", "could", "lead", "to", "that", "some", "lifecycle", "methods", "like", "componentdidupdate", "won", "\u2019", "t", "trigger", ".", "the", "recommended", "approach", "in", "later", "react", "versions", "is", "to", "use", "an", "updater", "function", "when", "modifying", "states", "to", "prevent", "race", "conditions", ":", "this.setstate", "(", "prevstate", "=", ">", "(", "{", "arrayvar", ":", "[", "...", "prevstate.arrayvar", ",", "newelement", "]", "}", ")", ")", "the", "memory", "``", "waste", "''", "is", "not", "an", "issue", "compared", "to", "the", "errors", "you", "might", "face", "using", "non-standard", "state", "modifications", ".", "alternative", "syntax", "for", "earlier", "react", "versions", "you", "can", "use", "concat", "to", "get", "a", "clean", "syntax", "since", "it", "returns", "a", "new", "array", ":", "this.setstate", "(", "{", "arrayvar", ":", "this.state.arrayvar.concat", "(", "[", "newelement", "]", ")", "}", ")", "in", "es6", "you", "can", "use", "the", "spread", "operator", ":", "this.setstate", "(", "{", "arrayvar", ":", "[", "...", "this.state.arrayvar", ",", "newelement", "]", "}", ")", "easiest", ",", "if", "you", "are", "using", "es6", ".", "initialarray", "=", "[", "1", ",", "2", ",", "3", "]", ";", "newarray", "=", "[", "...", "initialarray", ",", "4", "]", ";", "//", "--", ">", "[", "1,2,3,4", "]", "new", "array", "will", "be", "[", "1,2,3,4", "]", "to", "update", "your", "state", "in", "react", "this.setstate", "(", "{", "arrayvar", ":", "[", "...", "this.state.arrayvar", ",", "newelement", "]", "}", ")", ";", "learn", "more", "about", "array", "destructuring", "the", "simplest", "way", "with", "es6", ":", "this.setstate", "(", "prevstate", "=", ">", "(", "{", "array", ":", "[", "...", "prevstate.array", ",", "newelement", "]", "}", ")", ")", "react", "may", "batch", "updates", ",", "and", "therefore", "the", "correct", "approach", "is", "to", "provide", "setstate", "with", "a", "function", "that", "performs", "the", "update", ".", "for", "the", "react", "update", "addon", ",", "the", "following", "will", "reliably", "work", ":", "this.setstate", "(", "state", "=", ">", "update", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "4", "]", "}", "}", ")", ")", ";", "or", "for", "concat", "(", ")", ":", "this.setstate", "(", "state", "=", ">", "(", "{", "array", ":", "state.array.concat", "(", "[", "4", "]", ")", "}", ")", ")", ";", "the", "following", "shows", "what", "https", ":", "//jsbin.com/mofekakuqi/7/edit", "?", "js", ",", "output", "as", "an", "example", "of", "what", "happens", "if", "you", "get", "it", "wrong", ".", "the", "settimeout", "(", ")", "invocation", "correctly", "adds", "three", "items", "because", "react", "will", "not", "batch", "updates", "within", "a", "settimeout", "callback", "(", "see", "https", ":", "//groups.google.com/d/msg/reactjs/g6pljvptgx0/0ihyw2zk9dej", ")", ".", "the", "buggy", "onclick", "will", "only", "add", "``", "third", "''", ",", "but", "the", "fixed", "one", ",", "will", "add", "f", ",", "s", "and", "t", "as", "expected", ".", "class", "list", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "{", "array", ":", "[", "]", "}", "settimeout", "(", "this.addsome", ",", "500", ")", ";", "}", "addsome", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "update", "(", "this.state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "first", "''", "]", "}", "}", ")", ")", ";", "this.setstate", "(", "update", "(", "this.state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "second", "''", "]", "}", "}", ")", ")", ";", "this.setstate", "(", "update", "(", "this.state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "third", "''", "]", "}", "}", ")", ")", ";", "}", ";", "addsomefixed", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "state", "=", ">", "update", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "f", "''", "]", "}", "}", ")", ")", ";", "this.setstate", "(", "state", "=", ">", "update", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "s", "''", "]", "}", "}", ")", ")", ";", "this.setstate", "(", "state", "=", ">", "update", "(", "state", ",", "{", "array", ":", "{", "$", "push", ":", "[", "``", "t", "''", "]", "}", "}", ")", ")", ";", "}", ";", "render", "(", ")", "{", "const", "list", "=", "this.state.array.map", "(", "(", "item", ",", "i", ")", "=", ">", "{", "return", "<", "li", "key=", "{", "i", "}", ">", "{", "item", "}", "<", "/li", ">", "}", ")", ";", "console.log", "(", "this.state", ")", ";", "return", "(", "<", "div", "classname='list", "'", ">", "<", "button", "onclick=", "{", "this.addsome", "}", ">", "add", "three", "<", "/button", ">", "<", "button", "onclick=", "{", "this.addsomefixed", "}", ">", "add", "three", "(", "fixed", ")", "<", "/button", ">", "<", "ul", ">", "{", "list", "}", "<", "/ul", ">", "<", "/div", ">", ")", ";", "}", "}", ";", "reactdom.render", "(", "<", "list", "/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "as", "@", "nilgun", "mentioned", "in", "the", "comment", ",", "you", "can", "use", "the", "react", "immutability", "helpers", ".", "i", "'ve", "found", "this", "to", "be", "super", "useful", ".", "from", "the", "docs", ":", "simple", "push", "var", "initialarray", "=", "[", "1", ",", "2", ",", "3", "]", ";", "var", "newarray", "=", "update", "(", "initialarray", ",", "{", "$", "push", ":", "[", "4", "]", "}", ")", ";", "//", "=", ">", "[", "1", ",", "2", ",", "3", ",", "4", "]", "initialarray", "is", "still", "[", "1", ",", "2", ",", "3", "]", ".", "if", "you", "are", "using", "functional", "component", "please", "use", "this", "as", "below", ".", "const", "[", "chathistory", ",", "setchathistory", "]", "=", "usestate", "(", "[", "]", ")", ";", "//", "define", "the", "state", "const", "chathistorylist", "=", "[", "...", "chathistory", ",", "{", "'from", "'", ":", "'me", "'", ",", "'message", "'", ":", "e.target.value", "}", "]", ";", "//", "new", "array", "need", "to", "update", "setchathistory", "(", "chathistorylist", ")", ";", "//", "update", "the", "state", "for", "added", "new", "element", "into", "the", "array", ",", "push", "(", ")", "should", "be", "the", "answer", ".", "for", "remove", "element", "and", "update", "state", "of", "array", ",", "below", "code", "works", "for", "me", ".", "splice", "(", "index", ",", "1", ")", "can", "not", "work", ".", "const", "[", "arraystate", ",", "setarraystate", "]", "=", "react.usestate", "<", "any", "[", "]", ">", "(", "[", "]", ")", ";", "...", "//", "index", "is", "the", "index", "for", "the", "element", "you", "want", "to", "remove", "const", "newarraystate", "=", "arraystate.filter", "(", "(", "value", ",", "theindex", ")", "=", ">", "{", "return", "index", "!", "==", "theindex", "}", ")", ";", "setarraystate", "(", "newarraystate", ")", ";", "this", "worked", "for", "me", "to", "add", "an", "array", "within", "an", "array", "this.setstate", "(", "prevstate", "=", ">", "(", "{", "component", ":", "prevstate.component.concat", "(", "new", "array", "(", "[", "'new", "'", ",", "'new", "'", "]", ")", ")", "}", ")", ")", ";", "here", "'s", "a", "2020", ",", "reactjs", "hook", "example", "that", "i", "thought", "could", "help", "others", ".", "i", "am", "using", "it", "to", "add", "new", "rows", "to", "a", "reactjs", "table", ".", "let", "me", "know", "if", "i", "could", "improve", "on", "something", ".", "adding", "a", "new", "element", "to", "a", "functional", "state", "component", ":", "define", "the", "state", "data", ":", "const", "[", "data", ",", "setdata", "]", "=", "usestate", "(", "[", "{", "id", ":", "1", ",", "name", ":", "'john", "'", ",", "age", ":", "16", "}", ",", "{", "id", ":", "2", ",", "name", ":", "'jane", "'", ",", "age", ":", "22", "}", ",", "{", "id", ":", "3", ",", "name", ":", "'josh", "'", ",", "age", ":", "21", "}", "]", ")", ";", "have", "a", "button", "trigger", "a", "function", "to", "add", "a", "new", "element", "<", "button", "//", "pass", "the", "current", "state", "data", "to", "the", "handleadd", "function", "so", "we", "can", "append", "to", "it", ".", "onclick=", "{", "(", ")", "=", ">", "handleadd", "(", "data", ")", "}", ">", "add", "a", "row", "<", "/button", ">", "function", "handleadd", "(", "currentdata", ")", "{", "//", "return", "last", "data", "array", "element", "let", "lastdataobject", "=", "currenttabledata", "[", "currenttabledata.length", "-", "1", "]", "//", "assign", "last", "elements", "id", "to", "a", "variable", ".", "let", "lastid", "=", "object.values", "(", "lastdataobject", ")", "[", "0", "]", "//", "build", "a", "new", "element", "with", "a", "new", "id", "based", "off", "the", "last", "element", "in", "the", "array", "let", "newdataelement", "=", "{", "id", ":", "lastid", "+", "1", ",", "name", ":", "'jill", "'", ",", "age", ":", "55", ",", "}", "//", "build", "a", "new", "state", "object", "const", "newstatedata", "=", "[", "...", "currentdata", ",", "newdataelement", "]", "//", "update", "the", "state", "setdata", "(", "newstatedata", ")", ";", "//", "print", "newly", "updated", "state", "for", "(", "const", "element", "of", "newstatedata", ")", "{", "console.log", "(", "'new", "data", ":", "'", "+", "object.values", "(", "element", ")", ".join", "(", "'", ",", "'", ")", ")", "}", "}", "option", "one", "is", "using", "this.setstate", "(", "prevstate", "=", ">", "(", "{", "arrayvar", ":", "[", "...", "prevstate.arrayvar", ",", "newelement", "]", "}", ")", ")", "option", "2", ":", "this.setstate", "(", "{", "arrayvar", ":", "this.state.arrayvar.concat", "(", "[", "newelement", "]", ")", "}", ")", "option", "3", ":", "function", "abc", "(", ")", "{", "const", "data", "=", "this.state.myarray", ";", "data.push", "(", "{", "a:1", ",", "b:2", "}", ")", "this.setstate", "(", "{", "myarray", ":", "data", "}", ")", "}", "this.setstate", "(", "{", "arrayvar", ":", "[", "...", "this.state.arrayvar", ",", "...", "newelement", "]", "}", ")", "i", "am", "trying", "to", "push", "value", "in", "an", "array", "state", "and", "set", "value", "like", "this", "and", "define", "state", "array", "and", "push", "value", "by", "map", "function", ".", "this.state", "=", "{", "createjob", ":", "[", "]", ",", "totalamount", ":", "number=0", "}", "your_api_json_array.map", "(", "(", "_", ")", "=", ">", "{", "this.setstate", "(", "{", "totalamount", ":", "this.state.totalamount", "+=", "_.your_api_json.price", "}", ")", "this.state.createjob.push", "(", "{", "id", ":", "_._id", ",", "price", ":", "_.your_api_json.price", "}", ")", "return", "this.setstate", "(", "{", "createjob", ":", "this.state.createjob", "}", ")", "}", ")", "//", "--", "--", "--", "--", "--", "--", "--", "--", "--", "code", "is", "return", "in", "typescript", "const", "updatemydata1", "=", "(", "rowindex", ":", "any", ",", "columnid", ":", "any", ",", "value", ":", "any", ")", "=", ">", "{", "setitems", "(", "old", "=", ">", "old.map", "(", "(", "row", ",", "index", ")", "=", ">", "{", "if", "(", "index", "===", "rowindex", ")", "{", "return", "object.assign", "(", "object.assign", "(", "{", "}", ",", "old", "[", "rowindex", "]", ")", ",", "{", "[", "columnid", "]", ":", "value", "}", ")", ";", "}", "return", "row", ";", "}", ")", ")", ";", "this", "code", "work", "for", "me", ":", "fetch", "(", "'http", ":", "//localhost:8080", "'", ")", ".then", "(", "response", "=", ">", "response.json", "(", ")", ")", ".then", "(", "json", "=", ">", "{", "this.setstate", "(", "{", "mystate", ":", "this.state.mystate.push.apply", "(", "this.state.mystate", ",", "json", ")", "}", ")", "}", ")", "i", "'m", "trying", "to", "send", "data", "from", "a", "child", "component", "to", "it", "'s", "parent", "as", "follow", ":", "const", "parentcomponent", "=", "react.createclass", "(", "{", "getinitialstate", "(", ")", "{", "return", "{", "language", ":", "``", ",", "}", ";", "}", ",", "handlelanguagecode", ":", "function", "(", "langvalue", ")", "{", "this.setstate", "(", "{", "language", ":", "langvalue", "}", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguage", "onselectlanguage=", "{", "this.handlelanguage", "}", "/", ">", "<", "/div", ">", ")", ";", "}", ")", ";", "and", "here", "is", "the", "child", "component", ":", "export", "const", "selectlanguage", "=", "react.createclass", "(", "{", "getinitialstate", ":", "function", "(", ")", "{", "return", "{", "selectedcode", ":", "``", ",", "selectedlanguage", ":", "``", ",", "}", ";", "}", ",", "handlelangchange", ":", "function", "(", "e", ")", "{", "var", "lang", "=", "this.state.selectedlanguage", ";", "var", "code", "=", "this.state.selectedcode", ";", "this.props.onselectlanguage", "(", "{", "selectedlanguage", ":", "lang", "}", ")", ";", "this.props.onselectlanguage", "(", "{", "selectedcode", ":", "code", "}", ")", ";", "}", ",", "render", "(", ")", "{", "var", "json", "=", "require", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "var", "jsonarray", "=", "json.languages", ";", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref='dropdown", "'", "data=", "{", "jsonarray", "}", "value=", "{", "this.state.selectedlanguage", "}", "casesensitive=", "{", "false", "}", "minlength=", "{", "3", "}", "filter='contains", "'", "onchange=", "{", "this.handlelangchange", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "what", "i", "need", "is", "to", "get", "the", "selected", "value", "by", "user", "in", "the", "parent", "component", ".", "i", "'m", "getting", "this", "error", ":", "uncaught", "typeerror", ":", "this.props.onselectlanguage", "is", "not", "a", "function", "can", "anyone", "help", "me", "to", "find", "the", "problem", "?", "p.s", ".", "the", "child", "component", "is", "creating", "a", "dropdown", "from", "a", "json", "file", ",", "and", "i", "need", "the", "dropdown", "list", "to", "show", "both", "elements", "of", "the", "json", "array", "next", "to", "each", "other", "(", "like", ":", "``", "aaa", ",", "english", "''", "as", "the", "first", "choice", "!", ")", "{", "``", "languages", "''", ":", "[", "[", "``", "aaa", "''", ",", "``", "english", "''", "]", ",", "[", "``", "aab", "''", ",", "``", "swedish", "''", "]", ",", "}", "this", "should", "work", ".", "while", "sending", "the", "prop", "back", "you", "are", "sending", "that", "as", "an", "object", "rather", "send", "that", "as", "a", "value", "or", "alternatively", "use", "it", "as", "an", "object", "in", "the", "parent", "component", ".", "secondly", "you", "need", "to", "format", "your", "json", "object", "to", "contain", "name", "value", "pairs", "and", "use", "valuefield", "and", "textfield", "attribute", "of", "dropdownlist", "short", "answer", "parent", ":", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguage", "onselectlanguage=", "{", "this.handlelanguage", "}", "/", ">", "<", "/div", ">", "child", ":", "handlelangchange", "=", "(", ")", "=", ">", "{", "var", "lang", "=", "this.dropdown.value", ";", "this.props.onselectlanguage", "(", "lang", ")", ";", "}", "detailed", ":", "edit", ":", "considering", "react.createclass", "is", "deprecated", "from", "v16.0", "onwards", ",", "it", "is", "better", "to", "go", "ahead", "and", "create", "a", "react", "component", "by", "extending", "react.component", ".", "passing", "data", "from", "child", "to", "parent", "component", "with", "this", "syntax", "will", "look", "like", "parent", "class", "parentcomponent", "extends", "react.component", "{", "state", "=", "{", "language", ":", "``", "}", "handlelanguage", "=", "(", "langvalue", ")", "=", ">", "{", "this.setstate", "(", "{", "language", ":", "langvalue", "}", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguage", "onselectlanguage=", "{", "this.handlelanguage", "}", "/", ">", "<", "/div", ">", ")", "}", "}", "child", "var", "json", "=", "require", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "var", "jsonarray", "=", "json.languages", ";", "export", "class", "selectlanguage", "extends", "react.component", "{", "state", "=", "{", "selectedcode", ":", "``", ",", "selectedlanguage", ":", "jsonarray", "[", "0", "]", ",", "}", "handlelangchange", "=", "(", ")", "=", ">", "{", "var", "lang", "=", "this.dropdown.value", ";", "this.props.onselectlanguage", "(", "lang", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref=", "{", "(", "ref", ")", "=", ">", "this.dropdown", "=", "ref", "}", "data=", "{", "jsonarray", "}", "valuefield='lang", "'", "textfield='lang", "'", "casesensitive=", "{", "false", "}", "minlength=", "{", "3", "}", "filter='contains", "'", "onchange=", "{", "this.handlelangchange", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", "using", "createclass", "syntax", "which", "the", "op", "used", "in", "his", "answer", "parent", "const", "parentcomponent", "=", "react.createclass", "(", "{", "getinitialstate", "(", ")", "{", "return", "{", "language", ":", "``", ",", "}", ";", "}", ",", "handlelanguage", ":", "function", "(", "langvalue", ")", "{", "this.setstate", "(", "{", "language", ":", "langvalue", "}", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "col-sm-9", "''", ">", "<", "selectlanguage", "onselectlanguage=", "{", "this.handlelanguage", "}", "/", ">", "<", "/div", ">", ")", ";", "}", ")", ";", "child", "var", "json", "=", "require", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "var", "jsonarray", "=", "json.languages", ";", "export", "const", "selectlanguage", "=", "react.createclass", "(", "{", "getinitialstate", ":", "function", "(", ")", "{", "return", "{", "selectedcode", ":", "``", ",", "selectedlanguage", ":", "jsonarray", "[", "0", "]", ",", "}", ";", "}", ",", "handlelangchange", ":", "function", "(", ")", "{", "var", "lang", "=", "this.refs.dropdown.value", ";", "this.props.onselectlanguage", "(", "lang", ")", ";", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref='dropdown", "'", "data=", "{", "jsonarray", "}", "valuefield='lang", "'", "textfield='lang", "'", "casesensitive=", "{", "false", "}", "minlength=", "{", "3", "}", "filter='contains", "'", "onchange=", "{", "this.handlelangchange", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "json", ":", "{", "``", "languages", "''", ":", "[", "{", "``", "code", "''", ":", "``", "aaa", "''", ",", "``", "lang", "''", ":", "``", "english", "''", "}", ",", "{", "``", "code", "''", ":", "``", "aab", "''", ",", "``", "lang", "''", ":", "``", "swedish", "''", "}", ",", "]", "}", "to", "pass", "data", "from", "child", "component", "to", "parent", "component", "in", "parent", "component", ":", "getdata", "(", "val", ")", "{", "//", "do", "not", "forget", "to", "bind", "getdata", "in", "constructor", "console.log", "(", "val", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "child", "senddata=", "{", "this.getdata", "}", "/", ">", ")", ";", "}", "in", "child", "component", ":", "demomethod", "(", ")", "{", "this.props.senddata", "(", "value", ")", ";", "}", "considering", "react", "function", "components", "and", "using", "hooks", "are", "getting", "more", "popular", "these", "days", ",", "i", "will", "give", "a", "simple", "example", "of", "how", "to", "passing", "data", "from", "child", "to", "parent", "component", "in", "parent", "function", "component", "we", "will", "have", ":", "import", "react", ",", "{", "usestate", ",", "useeffect", "}", "from", "``", "react", "''", ";", "then", "const", "[", "childdata", ",", "setchilddata", "]", "=", "usestate", "(", "``", "''", ")", ";", "and", "passing", "setchilddata", "(", "which", "do", "a", "job", "similar", "to", "this.setstate", "in", "class", "components", ")", "to", "child", "return", "(", "<", "childcomponent", "passchilddata=", "{", "setchilddata", "}", "/", ">", ")", "in", "child", "component", "first", "we", "get", "the", "receiving", "props", "function", "childcomponent", "(", "props", ")", "{", "return", "(", "...", ")", "}", "then", "you", "can", "pass", "data", "anyhow", "like", "using", "a", "handler", "function", "const", "functionhandler", "=", "(", "data", ")", "=", ">", "{", "props.passchilddata", "(", "data", ")", ";", "}", "i", "found", "the", "approach", "how", "to", "get", "data", "from", "child", "component", "in", "parents", "when", "i", "need", "it", ".", "parent", ":", "class", "parentcomponent", "extends", "component", "{", "onsubmit", "(", "data", ")", "{", "let", "mappoint", "=", "this.getmappoint", "(", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "form", "onsubmit=", "{", "this.onsubmit.bind", "(", "this", ")", "}", ">", "<", "childcomponent", "getcurrentpoint=", "{", "getmappoint", "=", ">", "{", "this.getmappoint", "=", "getmappoint", "}", "}", "/", ">", "<", "input", "type=", "''", "submit", "''", "value=", "''", "submit", "''", "/", ">", "<", "/form", ">", ")", "}", "}", "child", ":", "class", "childcomponent", "extends", "component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "if", "(", "props.getcurrentpoint", ")", "{", "props.getcurrentpoint", "(", "this.getmappoint.bind", "(", "this", ")", ")", ";", "}", "}", "getmappoint", "(", ")", "{", "return", "this.point", ";", "}", "}", "this", "example", "showing", "how", "to", "pass", "function", "from", "child", "component", "to", "parent", "and", "use", "this", "function", "to", "get", "data", "from", "child", ".", "from", "child", "component", "to", "parent", "component", "as", "below", "parent", "component", "class", "parent", "extends", "react.component", "{", "state", "=", "{", "message", ":", "``", "parent", "message", "''", "}", "callbackfunction", "=", "(", "childdata", ")", "=", ">", "{", "this.setstate", "(", "{", "message", ":", "childdata", "}", ")", "}", ",", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "parentcallback", "=", "{", "this.callbackfunction", "}", "/", ">", "<", "p", ">", "{", "this.state.message", "}", "<", "/p", ">", "<", "/div", ">", ")", ";", "}", "}", "child", "component", "class", "child", "extends", "react.component", "{", "sendbackdata", "=", "(", ")", "=", ">", "{", "this.props.parentcallback", "(", "``", "child", "message", "''", ")", ";", "}", ",", "render", "(", ")", "{", "<", "button", "onclick=", "{", "sendbackdata", "}", ">", "click", "me", "to", "send", "back", "<", "/button", ">", "}", "}", ";", "i", "hope", "this", "work", "in", "react", "v16.8+", "function", "component", ",", "you", "can", "use", "usestate", "(", ")", "to", "create", "a", "function", "state", "that", "lets", "you", "update", "the", "parent", "state", ",", "then", "pass", "it", "on", "to", "child", "as", "a", "props", "attribute", ",", "then", "inside", "the", "child", "component", "you", "can", "trigger", "the", "parent", "state", "function", ",", "the", "following", "is", "a", "working", "snippet", ":", "const", "{", "usestate", ",", "useeffect", "}", "=", "react", ";", "function", "timer", "(", "{", "setparentcounter", "}", ")", "{", "const", "[", "counter", ",", "setcounter", "]", "=", "react.usestate", "(", "0", ")", ";", "useeffect", "(", "(", ")", "=", ">", "{", "let", "countersystem", ";", "countersystem", "=", "settimeout", "(", "(", ")", "=", ">", "setcounter", "(", "counter", "+", "1", ")", ",", "1000", ")", ";", "return", "(", ")", "=", ">", "{", "cleartimeout", "(", "countersystem", ")", ";", "}", ";", "}", ",", "[", "counter", "]", ")", ";", "return", "(", "<", "div", "classname=", "''", "app", "''", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "setparentcounter", "(", "counter", ")", ";", "}", "}", ">", "set", "parent", "counter", "value", "<", "/button", ">", "<", "hr", "/", ">", "<", "div", ">", "child", "counter", ":", "{", "counter", "}", "<", "/div", ">", "<", "/div", ">", ")", ";", "}", "function", "app", "(", ")", "{", "const", "[", "parentcounter", ",", "setparentcounter", "]", "=", "usestate", "(", "0", ")", ";", "return", "(", "<", "div", "classname=", "''", "app", "''", ">", "parent", "counter", ":", "{", "parentcounter", "}", "<", "hr", "/", ">", "<", "timer", "setparentcounter=", "{", "setparentcounter", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "reactdom.render", "(", "<", "app", "/", ">", ",", "document.getelementbyid", "(", "'react-root", "'", ")", ")", ";", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/16.8.4/umd/react.production.min.js", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.4/umd/react-dom.production.min.js", "''", ">", "<", "/script", ">", "<", "div", "id=", "''", "react-root", "''", ">", "<", "/div", ">", "react.createclass", "method", "has", "been", "deprecated", "in", "the", "new", "version", "of", "react", ",", "you", "can", "do", "it", "very", "simply", "in", "the", "following", "way", "make", "one", "functional", "component", "and", "another", "class", "component", "to", "maintain", "state", ":", "parent", ":", "const", "parentcomp", "=", "(", ")", "=", ">", "{", "getlanguage", "=", "(", "language", ")", "=", ">", "{", "console.log", "(", "'language", "in", "parent", "component", ":", "'", ",", "language", ")", ";", "}", "<", "childcomp", "ongetlanguage=", "{", "getlanguage", "}", "}", ";", "child", ":", "class", "childcomp", "extends", "react.component", "{", "state", "=", "{", "selectedlanguage", ":", "``", "}", "handlelangchange", "=", "e", "=", ">", "{", "const", "language", "=", "e.target.value", ";", "thi.setstate", "(", "{", "selectedlanguage", "=", "language", ";", "}", ")", ";", "this.props.ongetlanguage", "(", "{", "language", "}", ")", ";", "}", "render", "(", ")", "{", "const", "json", "=", "require", "(", "``", "json", "!", "..", "/languages.json", "''", ")", ";", "const", "jsonarray", "=", "json.languages", ";", "const", "selectedlanguage", "=", "this.state", ";", "return", "(", "<", "div", ">", "<", "dropdownlist", "ref='dropdown", "'", "data=", "{", "jsonarray", "}", "value=", "{", "tselectedlanguage", "}", "casesensitive=", "{", "false", "}", "minlength=", "{", "3", "}", "filter='contains", "'", "onchange=", "{", "this.handlelangchange", "}", "/", ">", "<", "/div", ">", ")", ";", "}", "}", ";", "you", "can", "even", "avoid", "the", "function", "at", "the", "parent", "updating", "the", "state", "directly", "in", "parent", "component", ":", "render", "(", ")", "{", "return", "(", "<", "child", "senddata=", "{", "v", "=", ">", "this.setstate", "(", "{", "item", ":", "v", "}", ")", "}", "/", ">", ")", ";", "}", "in", "the", "child", "component", ":", "demomethod", "(", ")", "{", "this.props.senddata", "(", "value", ")", ";", "}", "the", "idea", "is", "to", "send", "a", "callback", "to", "the", "child", "which", "will", "be", "called", "to", "give", "the", "data", "back", "a", "complete", "and", "minimal", "example", "using", "functions", ":", "app", "will", "create", "a", "child", "which", "will", "compute", "a", "random", "number", "and", "send", "it", "back", "directly", "to", "the", "parent", ",", "which", "will", "console.log", "the", "result", "const", "child", "=", "(", "{", "handlerandom", "}", ")", "=", ">", "{", "handlerandom", "(", "math.random", "(", ")", ")", "return", "<", "span", ">", "child", "<", "/span", ">", "}", "const", "app", "=", "(", ")", "=", ">", "<", "child", "handlerandom=", "{", "(", "num", ")", "=", ">", "console.log", "(", "num", ")", "}", "/", ">", "pass", "data", "from", "child", "to", "parent", "component", "using", "callback", "you", "need", "to", "pass", "from", "parent", "to", "child", "callback", "function", ",", "and", "then", "call", "it", "in", "the", "child", ".", "parent", "component", ":", "-timemodal", "handletimevalue", "=", "(", "timevalue", ")", "=", ">", "{", "this.setstate", "(", "{", "pouringdiff", ":", "timevalue", "}", ")", ";", "}", "<", "timeselection", "prepourprehours=", "{", "prepourprehours", "}", "setpourtime=", "{", "this.setpourtime", "}", "isprepour=", "{", "isprepour", "}", "isresident=", "{", "isresident", "}", "ismilitaryformattime=", "{", "ismilitaryformattime", "}", "communitydatetime=", "{", "moment", "(", "communitydt", ")", ".format", "(", "``", "mm/dd/yyyy", "hh", ":", "mm", "a", "''", ")", "}", "onselectpouringtimediff=", "{", "this.handletimevalue", "}", "/", ">", "note", ":", "-", "onselectpouringtimediff=", "{", "this.handletimevalue", "}", "in", "the", "child", "component", "call", "props", "when", "required", "componentdidmount", "(", ")", ":", "void", "{", "//", "todo", "use", "this", "as", "per", "your", "scenrio", "this.props.onselectpouringtimediff", "(", "pouringdiff", ")", ";", "}", "ok", ",", "i", "'ll", "try", "and", "make", "this", "quick", "because", "it", "should", "be", "an", "easy", "fix", "...", "i", "'ve", "read", "a", "bunch", "of", "similar", "questions", ",", "and", "the", "answer", "seems", "to", "be", "quite", "obvious", ".", "nothing", "i", "would", "ever", "have", "to", "look", "up", "in", "the", "first", "place", "!", "but", "...", "i", "am", "having", "an", "error", "that", "i", "can", "not", "fathom", "how", "to", "fix", "or", "why", "its", "happening", ".", "as", "follows", ":", "class", "nightlifetypes", "extends", "component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "{", "barclublounge", ":", "false", ",", "seethetown", ":", "true", ",", "eventsentertainment", ":", "true", ",", "familyfriendlyonly", ":", "false", "}", "this.handleonchange", "=", "this.handleonchange.bind", "(", "this", ")", ";", "}", "handleonchange", "=", "(", "event", ")", "=", ">", "{", "if", "(", "event.target.classname", "==", "``", "barclublounge", "''", ")", "{", "this.setstate", "(", "{", "barclublounge", ":", "event.target.checked", "}", ")", ";", "console.log", "(", "event.target.checked", ")", "console.log", "(", "this.state.barclublounge", ")", "}", "}", "render", "(", ")", "{", "return", "(", "<", "input", "classname=", "''", "barclublounge", "''", "type='checkbox", "'", "onchange=", "{", "this.handleonchange", "}", "checked=", "{", "this.state.barclublounge", "}", "/", ">", ")", "}", "more", "code", "surrounds", "this", "but", "this", "is", "where", "my", "problem", "lies", ".", "should", "work", ",", "right", "?", "i", "'ve", "also", "tried", "this", ":", "handleonchange", "=", "(", "event", ")", "=", ">", "{", "if", "(", "event.target.classname", "==", "``", "barclublounge", "''", ")", "{", "this.setstate", "(", "{", "barclublounge", ":", "!", "this.state.barclublounge", "}", ")", ";", "console.log", "(", "event.target.checked", ")", "console.log", "(", "this.state.barclublounge", ")", "}", "so", "i", "have", "those", "two", "console.log", "(", ")", "'s", ",", "both", "should", "be", "the", "same", ".", "i", "'m", "literally", "setting", "the", "state", "to", "be", "the", "same", "as", "the", "event.target.checked", "in", "the", "line", "above", "it", "!", "but", "it", "always", "returns", "the", "opposite", "of", "what", "it", "should", ".", "same", "goes", "for", "when", "i", "use", "!", "this.state.barclublounge", ";", "if", "it", "starts", "false", ",", "on", "my", "first", "click", "it", "remains", "false", ",", "even", "though", "whether", "the", "checkbox", "is", "checked", "or", "not", "is", "based", "off", "of", "the", "state", "!", "!", "it", "'s", "a", "crazy", "paradox", "and", "i", "have", "no", "idea", "whats", "going", "on", ",", "please", "help", "!", "reason", "is", "setstate", "is", "asynchronous", ",", "you", "ca", "n't", "expect", "the", "updated", "state", "value", "just", "after", "the", "setstate", ",", "if", "you", "want", "to", "check", "the", "value", "use", "a", "callback", "method", ".", "pass", "a", "method", "as", "callback", "that", "will", "be", "get", "executed", "after", "the", "setstate", "complete", "its", "task", ".", "why", "setstate", "is", "asynchronous", "?", "this", "is", "because", "setstate", "alters", "the", "state", "and", "causes", "re", "rendering", ".", "this", "can", "be", "an", "expensive", "operation", "and", "making", "it", "synchronous", "might", "leave", "the", "browser", "unresponsive", ".", "thus", "the", "setstate", "calls", "are", "asynchronous", "as", "well", "as", "batched", "for", "better", "ui", "experience", "and", "performance", ".", "from", "doc", ":", "setstate", "(", ")", "does", "not", "immediately", "mutate", "this.state", "but", "creates", "a", "pending", "state", "transition", ".", "accessing", "this.state", "after", "calling", "this", "method", "can", "potentially", "return", "the", "existing", "value", ".", "there", "is", "no", "guarantee", "of", "synchronous", "operation", "of", "calls", "to", "setstate", "and", "calls", "may", "be", "batched", "for", "performance", "gains", ".", "using", "callback", "method", "with", "setstate", ":", "to", "check", "the", "updated", "state", "value", "just", "after", "the", "setstate", ",", "use", "a", "callback", "method", "like", "this", ":", "setstate", "(", "{", "key", ":", "value", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "'updated", "state", "value", "'", ",", "this.state.key", ")", "}", ")", "check", "this", ":", "class", "nightlifetypes", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "{", "barclublounge", ":", "false", ",", "seethetown", ":", "true", ",", "eventsentertainment", ":", "true", ",", "familyfriendlyonly", ":", "false", "}", "}", "handleonchange", "=", "(", "event", ")", "=", ">", "{", "//", "arrow", "function", "binds", "`", "this", "`", "let", "value", "=", "event.target.checked", ";", "if", "(", "event.target.classname", "==", "``", "barclublounge", "''", ")", "{", "this.setstate", "(", "{", "barclublounge", ":", "value", "}", ",", "(", ")", "=", ">", "{", "//here", "console.log", "(", "value", ")", ";", "console.log", "(", "this.state.barclublounge", ")", ";", "//both", "will", "print", "same", "value", "}", ")", ";", "}", "}", "render", "(", ")", "{", "return", "(", "<", "input", "classname=", "''", "barclublounge", "''", "type='checkbox", "'", "onchange=", "{", "this.handleonchange", "}", "checked=", "{", "this.state.barclublounge", "}", "/", ">", ")", "}", "}", "reactdom.render", "(", "<", "nightlifetypes/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js", "''", ">", "<", "/script", ">", "<", "div", "id='app'/", ">", "since", "setstate", "is", "a", "async", "function", ".", "that", "means", "after", "calling", "setstate", "state", "variable", "does", "not", "immediately", "change", ".", "so", "if", "you", "want", "to", "perform", "other", "actions", "immediately", "after", "changing", "the", "state", "you", "should", "use", "callback", "method", "of", "setstate", "inside", "your", "setstate", "update", "function", ".", "handleonchange", "=", "(", "event", ")", "=", ">", "{", "let", "inputstate", "=", "event.target.checked", ";", "if", "(", "event.target.classname", "==", "``", "barclublounge", "''", ")", "{", "this.setstate", "(", "{", "barclublounge", ":", "inputstate", "}", ",", "(", ")", "=", ">", "{", "//here", "console.log", "(", "this.state.barclublounge", ")", ";", "//here", "you", "can", "call", "other", "functions", "which", "use", "this", "state", "variable", "//", "}", ")", ";", "}", "}", "this", "is", "by-design", "due", "to", "performance", "considerations", ".", "setstate", "in", "react", "is", "a", "function", "guaranteed", "to", "re-render", "component", ",", "which", "is", "a", "costly", "cpu", "process", ".", "as", "such", ",", "its", "designers", "wanted", "to", "optimize", "by", "gathering", "multiple", "rendering", "actions", "into", "one", ",", "hence", "setstate", "is", "asynchronous", ".", "i", "have", "two", "components", ".", "parent", "component", "child", "component", "i", "was", "trying", "to", "call", "child", "'s", "method", "from", "parent", ",", "i", "tried", "this", "way", "but", "could", "n't", "get", "a", "result", "class", "parent", "extends", "component", "{", "render", "(", ")", "{", "return", "(", "<", "child", ">", "<", "button", "onclick=", "{", "child.getalert", "(", ")", "}", ">", "click", "<", "/button", ">", "<", "/child", ">", ")", ";", "}", "}", "class", "child", "extends", "component", "{", "getalert", "(", ")", "{", "alert", "(", "'clicked", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", "ref=", "''", "hello", "''", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "is", "there", "a", "way", "to", "call", "child", "'s", "method", "from", "the", "parent", "?", "note", ":", "child", "and", "parent", "components", "are", "in", "two", "different", "files", "first", "off", ",", "let", "me", "express", "that", "this", "is", "generally", "not", "the", "way", "to", "go", "about", "things", "in", "react", "land", ".", "usually", "what", "you", "want", "to", "do", "is", "pass", "down", "functionality", "to", "children", "in", "props", ",", "and", "pass", "up", "notifications", "from", "children", "in", "events", "(", "or", "better", "yet", ":", "dispatch", ")", ".", "but", "if", "you", "must", "expose", "an", "imperative", "method", "on", "a", "child", "component", ",", "you", "can", "use", "refs", ".", "remember", "this", "is", "an", "escape", "hatch", "and", "usually", "indicates", "a", "better", "design", "is", "available", ".", "previously", ",", "refs", "were", "only", "supported", "for", "class-based", "components", ".", "with", "the", "advent", "of", "react", "hooks", ",", "that", "'s", "no", "longer", "the", "case", "using", "hooks", "and", "function", "components", "(", ">", "=", "react", "@", "16.8", ")", "const", "{", "forwardref", ",", "useref", ",", "useimperativehandle", "}", "=", "react", ";", "//", "we", "need", "to", "wrap", "component", "in", "`", "forwardref", "`", "in", "order", "to", "gain", "//", "access", "to", "the", "ref", "object", "that", "is", "assigned", "using", "the", "`", "ref", "`", "prop", ".", "//", "this", "ref", "is", "passed", "as", "the", "second", "parameter", "to", "the", "function", "component", ".", "const", "child", "=", "forwardref", "(", "(", "props", ",", "ref", ")", "=", ">", "{", "//", "the", "component", "instance", "will", "be", "extended", "//", "with", "whatever", "you", "return", "from", "the", "callback", "passed", "//", "as", "the", "second", "argument", "useimperativehandle", "(", "ref", ",", "(", ")", "=", ">", "(", "{", "getalert", "(", ")", "{", "alert", "(", "``", "getalert", "from", "child", "''", ")", ";", "}", "}", ")", ")", ";", "return", "<", "h1", ">", "hi", "<", "/h1", ">", ";", "}", ")", ";", "const", "parent", "=", "(", ")", "=", ">", "{", "//", "in", "order", "to", "gain", "access", "to", "the", "child", "component", "instance", ",", "//", "you", "need", "to", "assign", "it", "to", "a", "`", "ref", "`", ",", "so", "we", "call", "`", "useref", "(", ")", "`", "to", "get", "one", "const", "childref", "=", "useref", "(", ")", ";", "return", "(", "<", "div", ">", "<", "child", "ref=", "{", "childref", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "childref.current.getalert", "(", ")", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", ";", "reactdom.render", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "<", "script", "src=", "''", "https", ":", "//unpkg.com/react", "@", "16/umd/react.development.js", "''", "crossorigin", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//unpkg.com/react-dom", "@", "16/umd/react-dom.development.js", "''", "crossorigin", ">", "<", "/script", ">", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "documentation", "for", "useimperativehandle", "(", ")", "is", "here", ":", "useimperativehandle", "customizes", "the", "instance", "value", "that", "is", "exposed", "to", "parent", "components", "when", "using", "ref", ".", "using", "class", "components", "(", ">", "=", "react", "@", "16.4", ")", "const", "{", "component", "}", "=", "react", ";", "class", "parent", "extends", "component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.child", "=", "react.createref", "(", ")", ";", "}", "onclick", "=", "(", ")", "=", ">", "{", "this.child.current.getalert", "(", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "ref=", "{", "this.child", "}", "/", ">", "<", "button", "onclick=", "{", "this.onclick", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extends", "component", "{", "getalert", "(", ")", "{", "alert", "(", "'getalert", "from", "child", "'", ")", ";", "}", "render", "(", ")", "{", "return", "<", "h1", ">", "hello", "<", "/h1", ">", ";", "}", "}", "reactdom.render", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'root", "'", ")", ")", ";", "<", "script", "src=", "''", "https", ":", "//unpkg.com/react", "@", "16/umd/react.development.js", "''", "crossorigin", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//unpkg.com/react-dom", "@", "16/umd/react-dom.development.js", "''", "crossorigin", ">", "<", "/script", ">", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "legacy", "api", "(", "<", "=", "react", "@", "16.3", ")", "for", "historical", "purposes", ",", "here", "'s", "the", "callback-based", "style", "you", "'d", "use", "with", "react", "versions", "before", "16.3", ":", "const", "{", "component", "}", "=", "react", ";", "const", "{", "render", "}", "=", "reactdom", ";", "class", "parent", "extends", "component", "{", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "ref=", "{", "instance", "=", ">", "{", "this.child", "=", "instance", ";", "}", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "this.child.getalert", "(", ")", ";", "}", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extends", "component", "{", "getalert", "(", ")", "{", "alert", "(", "'clicked", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "render", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js", "''", ">", "<", "/script", ">", "<", "div", "id=", "''", "app", "''", ">", "<", "/div", ">", "you", "can", "use", "another", "pattern", "here", ":", "class", "parent", "extends", "component", "{", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "setclick=", "{", "click", "=", ">", "this.clickchild", "=", "click", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "this.clickchild", "(", ")", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extends", "component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.getalert", "=", "this.getalert.bind", "(", "this", ")", ";", "}", "componentdidmount", "(", ")", "{", "this.props.setclick", "(", "this.getalert", ")", ";", "}", "getalert", "(", ")", "{", "alert", "(", "'clicked", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", "ref=", "''", "hello", "''", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "what", "it", "does", "is", "to", "set", "the", "parent", "'s", "clickchild", "method", "when", "child", "is", "mounted", ".", "in", "this", "way", "when", "you", "click", "the", "button", "in", "parent", "it", "will", "call", "clickchild", "which", "calls", "child", "'s", "getalert", ".", "this", "also", "works", "if", "your", "child", "is", "wrapped", "with", "connect", "(", ")", "so", "you", "do", "n't", "need", "the", "getwrappedinstance", "(", ")", "hack", ".", "note", "you", "ca", "n't", "use", "onclick=", "{", "this.clickchild", "}", "in", "parent", "because", "when", "parent", "is", "rendered", "child", "is", "not", "mounted", "so", "this.clickchild", "is", "not", "assigned", "yet", ".", "using", "onclick=", "{", "(", ")", "=", ">", "this.clickchild", "(", ")", "}", "is", "fine", "because", "when", "you", "click", "the", "button", "this.clickchild", "should", "already", "be", "assigned", ".", "alternative", "method", "with", "useeffect", ":", "parent", ":", "const", "[", "refresh", ",", "dorefresh", "]", "=", "usestate", "(", "0", ")", ";", "<", "button", "onclick=", "{", "(", ")", "=", ">", "dorefresh", "(", "prev", "=", ">", "prev", "+", "1", ")", "}", "/", ">", "<", "children", "refresh=", "{", "refresh", "}", "/", ">", "children", ":", "useeffect", "(", "(", ")", "=", ">", "{", "performrefresh", "(", ")", ";", "//children", "function", "of", "interest", "}", ",", "[", "props.refresh", "]", ")", ";", "https", ":", "//facebook.github.io/react/tips/expose-component-functions.html", "for", "more", "answers", "ref", "here", "call", "methods", "on", "react", "children", "components", "by", "looking", "into", "the", "refs", "of", "the", "``", "reason", "''", "component", ",", "you", "'re", "breaking", "encapsulation", "and", "making", "it", "impossible", "to", "refactor", "that", "component", "without", "carefully", "examining", "all", "the", "places", "it", "'s", "used", ".", "because", "of", "this", ",", "we", "strongly", "recommend", "treating", "refs", "as", "private", "to", "a", "component", ",", "much", "like", "state", ".", "in", "general", ",", "data", "should", "be", "passed", "down", "the", "tree", "via", "props", ".", "there", "are", "a", "few", "exceptions", "to", "this", "(", "such", "as", "calling", ".focus", "(", ")", "or", "triggering", "a", "one-time", "animation", "that", "does", "n't", "really", "``", "change", "''", "the", "state", ")", "but", "any", "time", "you", "'re", "exposing", "a", "method", "called", "``", "set", "''", ",", "props", "are", "usually", "a", "better", "choice", ".", "try", "to", "make", "it", "so", "that", "the", "inner", "input", "component", "worries", "about", "its", "size", "and", "appearance", "so", "that", "none", "of", "its", "ancestors", "do", ".", "we", "can", "use", "refs", "in", "another", "way", "as-", "we", "are", "going", "to", "create", "a", "parent", "element", ",", "it", "will", "render", "a", "<", "child/", ">", "component", ".", "as", "you", "can", "see", ",", "the", "component", "that", "will", "be", "rendered", ",", "you", "need", "to", "add", "the", "ref", "attribute", "and", "provide", "a", "name", "for", "it", ".", "then", ",", "the", "triggerchildalert", "function", ",", "located", "in", "the", "parent", "class", "will", "access", "the", "refs", "property", "of", "the", "this", "context", "(", "when", "the", "triggerchildalert", "function", "is", "triggered", "will", "access", "the", "child", "reference", "and", "it", "will", "has", "all", "the", "functions", "of", "the", "child", "element", ")", ".", "class", "parent", "extends", "react.component", "{", "triggerchildalert", "(", ")", "{", "this.refs.child.callchildmethod", "(", ")", ";", "//", "to", "get", "child", "parent", "returned", "value-", "//", "this.value", "=", "this.refs.child.callchildmethod", "(", ")", ";", "//", "alert", "(", "'returned", "value-", "'+this.value", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "/", "*", "note", "that", "you", "need", "to", "give", "a", "value", "to", "the", "ref", "parameter", ",", "in", "this", "case", "child", "*", "/", "}", "<", "child", "ref=", "''", "child", "''", "/", ">", "<", "button", "onclick=", "{", "this.triggerchildalert", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "now", ",", "the", "child", "component", ",", "as", "theoretically", "designed", "previously", ",", "will", "look", "like", ":", "class", "child", "extends", "react.component", "{", "callchildmethod", "(", ")", "{", "alert", "(", "'hello", "world", "'", ")", ";", "//", "to", "return", "some", "value", "//", "return", "this.state.somevalue", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "here", "is", "the", "source", "code-", "hope", "will", "help", "you", "!", "if", "you", "are", "doing", "this", "simply", "because", "you", "want", "the", "child", "to", "provide", "a", "re-usable", "trait", "to", "its", "parents", ",", "then", "you", "might", "consider", "doing", "that", "using", "render-props", "instead", ".", "that", "technique", "actually", "turns", "the", "structure", "upside", "down", ".", "the", "child", "now", "wraps", "the", "parent", ",", "so", "i", "have", "renamed", "it", "to", "alerttrait", "below", ".", "i", "kept", "the", "name", "parent", "for", "continuity", ",", "although", "it", "is", "not", "really", "a", "parent", "now", ".", "//", "use", "it", "like", "this", ":", "<", "alerttrait", "rendercomponent=", "{", "parent", "}", "/", ">", "class", "alerttrait", "extends", "component", "{", "//", "you", "will", "need", "to", "bind", "this", "function", ",", "if", "it", "uses", "'this", "'", "doalert", "(", ")", "{", "alert", "(", "'clicked", "'", ")", ";", "}", "render", "(", ")", "{", "return", "this.props.rendercomponent", "(", "{", "doalert", ":", "this.doalert", "}", ")", ";", "}", "}", "class", "parent", "extends", "component", "{", "render", "(", ")", "{", "return", "(", "<", "button", "onclick=", "{", "this.props.doalert", "}", ">", "click", "<", "/button", ">", ")", ";", "}", "}", "in", "this", "case", ",", "the", "alerttrait", "provides", "one", "or", "more", "traits", "which", "it", "passes", "down", "as", "props", "to", "whatever", "component", "it", "was", "given", "in", "its", "rendercomponent", "prop", ".", "the", "parent", "receives", "doalert", "as", "a", "prop", ",", "and", "can", "call", "it", "when", "needed", ".", "(", "for", "clarity", ",", "i", "called", "the", "prop", "rendercomponent", "in", "the", "above", "example", ".", "but", "in", "the", "react", "docs", "linked", "above", ",", "they", "just", "call", "it", "render", ".", ")", "the", "trait", "component", "can", "render", "stuff", "surrounding", "the", "parent", ",", "in", "its", "render", "function", ",", "but", "it", "does", "not", "render", "anything", "inside", "the", "parent", ".", "actually", "it", "could", "render", "things", "inside", "the", "parent", ",", "if", "it", "passed", "another", "prop", "(", "e.g", ".", "renderchild", ")", "to", "the", "parent", ",", "which", "the", "parent", "could", "then", "use", "during", "its", "render", "method", ".", "this", "is", "somewhat", "different", "from", "what", "the", "op", "asked", "for", ",", "but", "some", "people", "might", "end", "up", "here", "(", "like", "we", "did", ")", "because", "they", "wanted", "to", "create", "a", "reusable", "trait", ",", "and", "thought", "that", "a", "child", "component", "was", "a", "good", "way", "to", "do", "that", ".", "i", "was", "n't", "satisfied", "with", "any", "of", "the", "solutions", "presented", "here", ".", "there", "is", "actually", "a", "very", "simple", "solution", "that", "can", "be", "done", "using", "pure", "javascript", "without", "relying", "upon", "some", "react", "functionality", "other", "than", "the", "basic", "props", "object", "-", "and", "it", "gives", "you", "the", "benefit", "of", "communicating", "in", "either", "direction", "(", "parent", "-", ">", "child", ",", "child", "-", ">", "parent", ")", ".", "you", "need", "to", "pass", "an", "object", "from", "the", "parent", "component", "to", "the", "child", "component", ".", "this", "object", "is", "what", "i", "refer", "to", "as", "a", "``", "bi-directional", "reference", "''", "or", "biref", "for", "short", ".", "basically", ",", "the", "object", "contains", "a", "reference", "to", "methods", "in", "the", "parent", "that", "the", "parent", "wants", "to", "expose", ".", "and", "the", "child", "component", "attaches", "methods", "to", "the", "object", "that", "the", "parent", "can", "call", ".", "something", "like", "this", ":", "//", "parent", "component", ".", "function", "myparentcomponent", "(", "props", ")", "{", "function", "someparentfunction", "(", ")", "{", "//", "the", "child", "component", "can", "call", "this", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "function", "inside", "the", "child", "component", ".", "biref.somechildfunction", "(", ")", ";", "}", "//", "add", "all", "the", "functions", "here", "that", "the", "child", "can", "call", ".", "var", "biref", "=", "{", "someparentfunction", ":", "someparentfunction", "}", "return", "<", "div", ">", "<", "mychildcomponent", "biref=", "{", "biref", "}", "/", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "//", "child", "component", "function", "mychildcomponent", "(", "props", ")", "{", "function", "somechildfunction", "(", ")", "{", "//", "the", "parent", "component", "can", "call", "this", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "parent", "function", ".", "props.biref.someparentfunction", "(", ")", ";", "}", "//", "add", "all", "the", "child", "functions", "to", "props.biref", "that", "you", "want", "the", "parent", "//", "to", "be", "able", "to", "call", ".", "props.biref.somechildfunction", "=", "somechildfunction", ";", "return", "<", "div", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "the", "other", "advantage", "to", "this", "solution", "is", "that", "you", "can", "add", "a", "lot", "more", "functions", "in", "the", "parent", "and", "child", "while", "passing", "them", "from", "the", "parent", "to", "the", "child", "using", "only", "a", "single", "property", ".", "an", "improvement", "over", "the", "code", "above", "is", "to", "not", "add", "the", "parent", "and", "child", "functions", "directly", "to", "the", "biref", "object", "but", "rather", "to", "sub", "members", ".", "parent", "functions", "should", "be", "added", "to", "a", "member", "called", "``", "parent", "''", "while", "the", "child", "functions", "should", "be", "added", "to", "a", "member", "called", "``", "child", "''", ".", "//", "parent", "component", ".", "function", "myparentcomponent", "(", "props", ")", "{", "function", "someparentfunction", "(", ")", "{", "//", "the", "child", "component", "can", "call", "this", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "function", "inside", "the", "child", "component", ".", "biref.child.somechildfunction", "(", ")", ";", "}", "//", "add", "all", "the", "functions", "here", "that", "the", "child", "can", "call", ".", "var", "biref", "=", "{", "parent", ":", "{", "someparentfunction", ":", "someparentfunction", "}", "}", "return", "<", "div", ">", "<", "mychildcomponent", "biref=", "{", "biref", "}", "/", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "//", "child", "component", "function", "mychildcomponent", "(", "props", ")", "{", "function", "somechildfunction", "(", ")", "{", "//", "the", "parent", "component", "can", "call", "this", "function", ".", "}", "function", "onbuttonclick", "(", ")", "{", "//", "call", "the", "parent", "function", ".", "props.biref.parent.someparentfunction", "(", ")", ";", "}", "//", "add", "all", "the", "child", "functions", "to", "props.biref", "that", "you", "want", "the", "parent", "//", "to", "be", "able", "to", "call", ".", "props.biref", "{", "child", ":", "{", "somechildfunction", ":", "somechildfunction", "}", "}", "return", "<", "div", ">", "<", "button", "onclick=", "{", "onbuttonclick", "}", "/", ">", "<", "/div", ">", ";", "}", "by", "placing", "parent", "and", "child", "functions", "into", "separate", "members", "of", "the", "biref", "object", ",", "you", "'ll", "have", "a", "clean", "separation", "between", "the", "two", "and", "easily", "see", "which", "ones", "belong", "to", "parent", "or", "child", ".", "it", "also", "helps", "to", "prevent", "a", "child", "component", "from", "accidentally", "overwriting", "a", "parent", "function", "if", "the", "same", "function", "appears", "in", "both", ".", "one", "last", "thing", "is", "that", "if", "you", "note", ",", "the", "parent", "component", "creates", "the", "biref", "object", "with", "var", "whereas", "the", "child", "component", "accesses", "it", "through", "the", "props", "object", ".", "it", "might", "be", "tempting", "to", "not", "define", "the", "biref", "object", "in", "the", "parent", "and", "access", "it", "from", "its", "parent", "through", "its", "own", "props", "parameter", "(", "which", "might", "be", "the", "case", "in", "a", "hierarchy", "of", "ui", "elements", ")", ".", "this", "is", "risky", "because", "the", "child", "may", "think", "a", "function", "it", "is", "calling", "on", "the", "parent", "belongs", "to", "the", "parent", "when", "it", "might", "actually", "belong", "to", "a", "grandparent", ".", "there", "'s", "nothing", "wrong", "with", "this", "as", "long", "as", "you", "are", "aware", "of", "it", ".", "unless", "you", "have", "a", "reason", "for", "supporting", "some", "hierarchy", "beyond", "a", "parent/child", "relationship", ",", "it", "'s", "best", "to", "create", "the", "biref", "in", "your", "parent", "component", ".", "i", "hope", "i", "'m", "not", "repeating", "anything", "from", "above", "but", "what", "about", "passing", "a", "callback", "prop", "that", "sets", "the", "function", "in", "the", "parent", "?", "this", "works", "and", "is", "pretty", "easy", ".", "(", "added", "code", "is", "between", "the", "////", "'s", ")", "class", "parent", "extends", "component", "{", "/////", "getalert", "=", "(", ")", "=", ">", "{", "}", "//", "initial", "value", "for", "getalert", "setgetalertmethod", "=", "(", "newmethod", ")", "=", ">", "{", "this.getalert", "=", "newmethod", ";", "}", "/////", "render", "(", ")", "{", "return", "(", "<", "child", "setgetalertmethod=", "{", "this.setgetalertmethod", "}", ">", "<", "button", "onclick=", "{", "this.getalert", "}", ">", "click", "<", "/button", ">", "<", "/child", ">", ")", ";", "}", "}", "class", "child", "extends", "component", "{", "/////", "componentdidmount", "(", ")", "{", "this.props.setgetalertmethod", "(", "this.getalert", ")", ";", "}", "/////", "getalert", "(", ")", "=", ">", "{", "alert", "(", "'clicked", "'", ")", ";", "}", "render", "(", ")", "{", "return", "(", "<", "h1", "ref=", "''", "hello", "''", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "you", "can", "achieve", "this", "easily", "in", "this", "way", "steps-", "create", "a", "boolean", "variable", "in", "the", "state", "in", "the", "parent", "class", ".", "update", "this", "when", "you", "want", "to", "call", "a", "function", ".", "create", "a", "prop", "variable", "and", "assign", "the", "boolean", "variable", ".", "from", "the", "child", "component", "access", "that", "variable", "using", "props", "and", "execute", "the", "method", "you", "want", "by", "having", "an", "if", "condition", ".", "class", "child", "extends", "component", "{", "method=", "(", ")", "=", ">", "{", "--", "your", "method", "body", "--", "}", "render", "(", ")", "{", "return", "(", "//check", "whether", "the", "variable", "has", "been", "updated", "or", "not", "if", "(", "this.props.updatemethod", ")", "{", "this.method", "(", ")", ";", "}", ")", "}", "}", "class", "parent", "extends", "component", "{", "constructor", "(", ")", "{", "this.state=", "{", "callmethod", ":", "false", "}", "}", "render", "(", ")", "{", "return", "(", "//update", "state", "according", "to", "your", "requirement", "this.setstate", "(", "{", "callmethod", ":", "true", "}", "}", "<", "child", "updatemethod=", "{", "this.state.callmethod", "}", ">", "<", "/child", ">", ")", ";", "}", "}", "i", "'m", "using", "useeffect", "hook", "to", "overcome", "the", "headache", "of", "doing", "all", "this", "so", "now", "i", "pass", "a", "variable", "down", "to", "child", "like", "this", ":", "<", "parentcomponent", ">", "<", "childcomponent", "arbitrary=", "{", "value", "}", "/", ">", "<", "/parentcomponent", ">", "useeffect", "(", "(", ")", "=", ">", "callthefunctiontobecalled", "(", "value", ")", ",", "[", "value", "]", ")", ";", "here", "my", "demo", ":", "https", ":", "//stackblitz.com/edit/react-dgz1ee", "?", "file=styles.css", "i", "am", "using", "useeffect", "to", "call", "the", "children", "component", "'s", "methods", ".", "i", "have", "tried", "with", "proxy", "and", "setter_getter", "but", "sor", "far", "useeffect", "seems", "to", "be", "the", "more", "convenient", "way", "to", "call", "a", "child", "method", "from", "parent", ".", "to", "use", "proxy", "and", "setter_getter", "it", "seems", "there", "is", "some", "subtlety", "to", "overcome", "first", ",", "because", "the", "element", "firstly", "rendered", "is", "an", "objectlike", "'s", "element", "through", "the", "ref.current", "return", "=", ">", "<", "div/", ">", "'s", "specificity", ".", "concerning", "useeffect", ",", "you", "can", "also", "leverage", "on", "this", "approach", "to", "set", "the", "parent", "'s", "state", "depending", "on", "what", "you", "want", "to", "do", "with", "the", "children", ".", "in", "the", "demo", "'s", "link", "i", "have", "provided", ",", "you", "will", "find", "my", "full", "reactjs", "'", "code", "with", "my", "draftwork", "inside", "'s", "so", "you", "can", "appreciate", "the", "workflow", "of", "my", "solution", ".", "here", "i", "am", "providing", "you", "my", "reactjs", "'", "snippet", "with", "the", "relevant", "code", "only", ".", ":", "import", "react", ",", "{", "component", ",", "createref", ",", "forwardref", ",", "usestate", ",", "useeffect", "}", "from", "``", "react", "''", ";", "{", "...", "}", "//", "child", "component", "//", "i", "am", "defining", "here", "a", "forwardref", "'s", "element", "to", "get", "the", "child", "'s", "methods", "from", "the", "parent", "//", "through", "the", "ref", "'s", "element", ".", "let", "child", "=", "forwardref", "(", "(", "props", ",", "ref", ")", "=", ">", "{", "//", "i", "am", "fetching", "the", "parent", "'s", "method", "here", "//", "that", "allows", "me", "to", "connect", "the", "parent", "and", "the", "child", "'s", "components", "let", "{", "validatechildren", "}", "=", "props", ";", "//", "i", "am", "initializing", "the", "state", "of", "the", "children", "//", "good", "if", "we", "can", "even", "leverage", "on", "the", "functional", "children", "'s", "state", "let", "initialstate", "=", "{", "one", ":", "``", "hello", "world", "''", ",", "two", ":", "(", ")", "=", ">", "{", "console.log", "(", "``", "i", "am", "accessing", "child", "method", "from", "parent", ":", "]", ".", "``", ")", ";", "return", "``", "child", "method", "achieve", "''", ";", "}", "}", ";", "//", "usestate", "initialization", "const", "[", "componentstate", ",", "setcomponentstate", "]", "=", "usestate", "(", "initialstate", ")", ";", "//", "useeffect", "will", "allow", "me", "to", "communicate", "with", "the", "parent", "//", "through", "a", "lifecycle", "data", "flow", "useeffect", "(", "(", ")", "=", ">", "{", "ref.current", "=", "{", "componentstate", "}", ";", "validatechildren", "(", "ref.current.componentstate.two", ")", ";", "}", ")", ";", "{", "...", "}", "}", ")", ";", "{", "...", "}", "//", "parent", "component", "class", "app", "extends", "component", "{", "//", "initialize", "the", "ref", "inside", "the", "constructor", "element", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.childref", "=", "createref", "(", ")", ";", "}", "//", "i", "am", "implementing", "a", "parent", "'s", "method", "//", "in", "child", "useeffect", "'s", "method", "validatechildren", "=", "childrenmethod", "=", ">", "{", "//", "access", "children", "method", "from", "parent", "childrenmethod", "(", ")", ";", "//", "or", "signaling", "children", "is", "ready", "console.log", "(", "``", "children", "active", "''", ")", ";", "}", ";", "{", "...", "}", "render", "(", ")", "{", "return", "(", "{", "//", "i", "am", "referencing", "the", "children", "//", "also", "i", "am", "implementing", "the", "parent", "logic", "connector", "'s", "function", "//", "in", "the", "child", ",", "here", "=", ">", "this.validatechildren", "'s", "function", "}", "<", "child", "ref=", "{", "this.childref", "}", "validatechildren=", "{", "this.validatechildren", "}", "/", ">", "<", "/div", ">", ")", "}", "we", "'re", "happy", "with", "a", "custom", "hook", "we", "call", "usecounterkey", ".", "it", "just", "sets", "up", "a", "counterkey", ",", "or", "a", "key", "that", "counts", "up", "from", "zero", ".", "the", "function", "it", "returns", "resets", "the", "key", "(", "i.e", ".", "increment", ")", ".", "(", "i", "believe", "this", "is", "the", "most", "idiomatic", "way", "in", "react", "to", "reset", "a", "component", "-", "just", "bump", "the", "key", ".", ")", "however", "this", "hook", "also", "works", "in", "any", "situation", "where", "you", "want", "to", "send", "a", "one-time", "message", "to", "the", "client", "to", "do", "something", ".", "e.g", ".", "we", "use", "it", "to", "focus", "a", "control", "in", "the", "child", "on", "a", "certain", "parent", "event", "-", "it", "just", "autofocuses", "anytime", "the", "key", "is", "updated", ".", "(", "if", "more", "props", "are", "needed", "they", "could", "be", "set", "prior", "to", "resetting", "the", "key", "so", "they", "'re", "available", "when", "the", "event", "happens", ".", ")", "this", "method", "has", "a", "bit", "of", "a", "learning", "curve", "b/c", "it", "'s", "not", "as", "straightforward", "as", "a", "typical", "event", "handler", ",", "but", "it", "seems", "the", "most", "idiomatic", "way", "to", "handle", "this", "in", "react", "that", "we", "'ve", "found", "(", "since", "keys", "already", "function", "this", "way", ")", ".", "def", "open", "to", "feedback", "on", "this", "method", "but", "it", "is", "working", "well", "!", "//", "main", "helper", "hook", ":", "export", "function", "usecounterkey", "(", ")", "{", "const", "[", "key", ",", "setkey", "]", "=", "usestate", "(", "0", ")", ";", "return", "[", "key", ",", "(", ")", "=", ">", "setkey", "(", "prev", "=", ">", "prev", "+", "1", ")", "]", "as", "const", ";", "}", "sample", "usages", ":", "//", "sample", "1", "-", "normal", "react", ",", "just", "reset", "a", "control", "by", "changing", "key", "on", "demand", "function", "sample1", "(", ")", "{", "const", "[", "inputlinecounterkey", ",", "resetinputline", "]", "=", "usecounterkey", "(", ")", ";", "return", "<", ">", "<", "inputline", "key=", "{", "inputlinecounterkey", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "resetinputline", "(", ")", "}", "/", ">", "<", ">", ";", "}", "//", "second", "sample", "-", "anytime", "the", "counterkey", "is", "incremented", ",", "child", "calls", "focus", "(", ")", "on", "the", "input", "function", "sample2", "(", ")", "{", "const", "[", "amountfocuscounterkey", ",", "focusamountinput", "]", "=", "usecounterkey", "(", ")", ";", "//", "...", "call", "focusamountinput", "in", "some", "hook", "or", "event", "handler", "as", "needed", "return", "<", "workoutamountinput", "focuscounterkey=", "{", "amountfocuscounterkey", "}", "/", ">", "}", "function", "workoutamountinput", "(", "props", ")", "{", "useeffect", "(", "(", ")", "=", ">", "{", "if", "(", "counterkey", ">", "0", ")", "{", "//", "do", "n't", "focus", "initially", "focusamount", "(", ")", ";", "}", "}", ",", "[", "counterkey", "]", ")", ";", "//", "...", "}", "(", "credit", "to", "kent", "dodds", "for", "the", "counterkey", "concept", ".", ")", "you", "can", "make", "inheritance", "inversion", "(", "look", "it", "up", "here", ":", "https", ":", "//medium.com/", "@", "franleplant/react-higher-order-components-in-depth-cf9032ee6c3e", ")", ".", "that", "way", "you", "have", "access", "to", "instance", "of", "the", "component", "that", "you", "would", "be", "wrapping", "(", "thus", "you", "'ll", "be", "able", "to", "access", "it", "'s", "functions", ")", "i", "think", "that", "the", "most", "basic", "way", "to", "call", "methods", "is", "by", "setting", "a", "request", "on", "the", "child", "component", ".", "then", "as", "soon", "as", "the", "child", "handles", "the", "request", ",", "it", "calls", "a", "callback", "method", "to", "reset", "the", "request", ".", "the", "reset", "mechanism", "is", "necessary", "to", "be", "able", "to", "send", "the", "same", "request", "multiple", "times", "after", "each", "other", ".", "in", "parent", "component", "in", "the", "render", "method", "of", "the", "parent", ":", "const", "{", "request", "}", "=", "this.state", ";", "return", "(", "<", "child", "request=", "{", "request", "}", "onrequesthandled=", "{", "(", ")", "-", ">", "resetrequest", "(", ")", "}", "/", ">", ")", ";", "the", "parent", "needs", "2", "methods", ",", "to", "communicate", "with", "its", "child", "in", "2", "directions", ".", "sendrequest", "(", ")", "{", "const", "request", "=", "{", "param", ":", "``", "value", "''", "}", ";", "this.setstate", "(", "{", "request", "}", ")", ";", "}", "resetrequest", "(", ")", "{", "const", "request", "=", "null", ";", "this.setstate", "(", "{", "request", "}", ")", ";", "}", "in", "child", "component", "the", "child", "updates", "its", "internal", "state", ",", "copying", "the", "request", "from", "the", "props", ".", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "const", "{", "request", "}", "=", "props", ";", "this.state", "=", "{", "request", "}", ";", "}", "static", "getderivedstatefromprops", "(", "props", ",", "state", ")", "{", "const", "{", "request", "}", "=", "props", ";", "if", "(", "request", "!", "==", "state.request", ")", "return", "{", "request", "}", ";", "return", "null", ";", "}", "then", "finally", "it", "handles", "the", "request", ",", "and", "sends", "the", "reset", "to", "the", "parent", ":", "componentdidmount", "(", ")", "{", "const", "{", "request", "}", "=", "this.state", ";", "//", "todo", "handle", "request", ".", "const", "{", "onrequesthandled", "}", "=", "this.props", ";", "if", "(", "onrequesthandled", "!", "=", "null", ")", "onrequesthandled", "(", ")", ";", "}", "another", "way", "of", "triggering", "a", "child", "function", "from", "parent", "is", "to", "make", "use", "of", "the", "componentdidupdate", "function", "in", "child", "component", ".", "i", "pass", "a", "prop", "triggerchildfunc", "from", "parent", "to", "child", ",", "which", "initially", "is", "null", ".", "the", "value", "changes", "to", "a", "function", "when", "the", "button", "is", "clicked", "and", "child", "notice", "that", "change", "in", "componentdidupdate", "and", "calls", "its", "own", "internal", "function", ".", "since", "prop", "triggerchildfunc", "changes", "to", "a", "function", ",", "we", "also", "get", "a", "callback", "to", "the", "parent", ".", "if", "parent", "do", "n't", "need", "to", "know", "when", "the", "function", "is", "called", "the", "value", "triggerchildfunc", "could", "for", "example", "change", "from", "null", "to", "true", "instead", ".", "const", "{", "component", "}", "=", "react", ";", "const", "{", "render", "}", "=", "reactdom", ";", "class", "parent", "extends", "component", "{", "state", "=", "{", "triggerfunc", ":", "null", "}", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "child", "triggerchildfunc=", "{", "this.state.triggerfunc", "}", "/", ">", "<", "button", "onclick=", "{", "(", ")", "=", ">", "{", "this.setstate", "(", "{", "triggerfunc", ":", "(", ")", "=", ">", "alert", "(", "'callback", "in", "parent", "'", ")", "}", ")", "}", "}", ">", "click", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", "class", "child", "extends", "component", "{", "componentdidupdate", "(", "prevprops", ")", "{", "if", "(", "this.props.triggerchildfunc", "!", "==", "prevprops.triggerchildfunc", ")", "{", "this.onparenttrigger", "(", ")", ";", "}", "}", "onparenttrigger", "(", ")", "{", "alert", "(", "'parent", "triggered", "me", "'", ")", ";", "//", "let", "'s", "call", "the", "passed", "variable", "from", "parent", "if", "it", "'s", "a", "function", "if", "(", "this.props.triggerchildfunc", "&", "&", "{", "}", ".tostring.call", "(", "this.props.triggerchildfunc", ")", "===", "'", "[", "object", "function", "]", "'", ")", "{", "this.props.triggerchildfunc", "(", ")", ";", "}", "}", "render", "(", ")", "{", "return", "(", "<", "h1", ">", "hello", "<", "/h1", ">", ")", ";", "}", "}", "render", "(", "<", "parent", "/", ">", ",", "document.getelementbyid", "(", "'app", "'", ")", ")", ";", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js", "''", ">", "<", "/script", ">", "<", "div", "id='app", "'", ">", "<", "/div", ">", "codepen", ":", "https", ":", "//codepen.io/calsal/pen/nwpxbjv", "?", "editors=1010", "here", "'s", "a", "bug", "?", "to", "look", "out", "for", ":", "i", "concur", "with", "rossipedia", "'s", "solution", "using", "forwardref", ",", "useref", ",", "useimperativehandle", "there", "'s", "some", "misinformation", "online", "that", "says", "refs", "can", "only", "be", "created", "from", "react", "class", "components", ",", "but", "you", "can", "indeed", "use", "function", "components", "if", "you", "use", "the", "aforementioned", "hooks", "above", ".", "a", "note", ",", "the", "hooks", "only", "worked", "for", "me", "after", "i", "changed", "the", "file", "to", "not", "use", "withrouter", "(", ")", "when", "exporting", "the", "component", ".", "i.e", ".", "a", "change", "from", "export", "default", "withrouter", "(", "tableconfig", ")", ";", "to", "instead", "be", "export", "default", "tableconfig", ";", "in", "hindsight", "the", "withrouter", "(", ")", "is", "not", "needed", "for", "such", "a", "component", "anyway", ",", "but", "usually", "it", "does", "n't", "hurt", "anything", "having", "it", "in", ".", "my", "use", "case", "is", "that", "i", "created", "a", "component", "to", "create", "a", "table", "to", "handle", "the", "viewing", "and", "editing", "of", "config", "values", ",", "and", "i", "wanted", "to", "be", "able", "to", "tell", "this", "child", "component", "to", "reset", "it", "'s", "state", "values", "whenever", "the", "parent", "form", "'s", "reset", "button", "was", "hit", ".", "useref", "(", ")", "would", "n't", "properly", "get", "the", "ref", "or", "ref.current", "(", "kept", "on", "getting", "null", ")", "until", "i", "removed", "withrouter", "(", ")", "from", "the", "file", "containing", "my", "child", "component", "tableconfig", "i", "understand", "that", "react", "tutorials", "and", "documentation", "warn", "in", "no", "uncertain", "terms", "that", "state", "should", "not", "be", "directly", "mutated", "and", "that", "everything", "should", "go", "through", "setstate", ".", "i", "would", "like", "to", "understand", "why", ",", "exactly", ",", "i", "ca", "n't", "just", "directly", "change", "state", "and", "then", "(", "in", "the", "same", "function", ")", "call", "this.setstate", "(", "{", "}", ")", "just", "to", "trigger", "the", "render", ".", "e.g", ".", ":", "the", "below", "code", "seems", "to", "work", "just", "fine", ":", "const", "react", "=", "require", "(", "'react", "'", ")", ";", "const", "app", "=", "react.createclass", "(", "{", "getinitialstate", ":", "function", "(", ")", "{", "return", "{", "some", ":", "{", "rather", ":", "{", "deeply", ":", "{", "embedded", ":", "{", "stuff", ":", "1", "}", "}", "}", "}", "}", ";", "}", ",", "updatecounter", ":", "function", "(", ")", "{", "this.state.some.rather.deeply.embedded.stuff++", ";", "this.setstate", "(", "{", "}", ")", ";", "//", "just", "to", "trigger", "the", "render", "...", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "div", ">", "counter", "value", ":", "{", "this.state.some.rather.deeply.embedded.stuff", "}", "<", "br", ">", "<", "/br", ">", "<", "button", "onclick=", "{", "this.updatecounter", "}", ">", "inc", "<", "/button", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "export", "default", "app", ";", "i", "am", "all", "for", "following", "conventions", "but", "i", "would", "like", "to", "enhance", "my", "further", "understanding", "of", "how", "reactjs", "actually", "works", "and", "what", "can", "go", "wrong", "or", "is", "it", "sub-optimal", "with", "the", "above", "code", ".", "the", "notes", "under", "the", "this.setstate", "documentation", "basically", "identify", "two", "gotchas", ":", "that", "if", "you", "mutate", "state", "directly", "and", "then", "subsequently", "call", "this.setstate", "this", "may", "replace", "(", "overwrite", "?", ")", "the", "mutation", "you", "made", ".", "i", "do", "n't", "see", "how", "this", "can", "happen", "in", "the", "above", "code", ".", "that", "setstate", "may", "mutate", "this.state", "effectively", "in", "an", "asynchronous", "/", "deferred", "way", "and", "so", "when", "accessing", "this.state", "right", "after", "calling", "this.setstate", "you", "are", "not", "guaranteed", "to", "access", "the", "final", "mutated", "state", ".", "i", "get", "that", ",", "by", "this", "is", "not", "an", "issue", "if", "this.setstate", "is", "the", "last", "call", "of", "the", "update", "function", ".", "the", "react", "docs", "for", "setstate", "have", "this", "to", "say", ":", "never", "mutate", "this.state", "directly", ",", "as", "calling", "setstate", "(", ")", "afterwards", "may", "replace", "the", "mutation", "you", "made", ".", "treat", "this.state", "as", "if", "it", "were", "immutable", ".", "setstate", "(", ")", "does", "not", "immediately", "mutate", "this.state", "but", "creates", "a", "pending", "state", "transition", ".", "accessing", "this.state", "after", "calling", "this", "method", "can", "potentially", "return", "the", "existing", "value", ".", "there", "is", "no", "guarantee", "of", "synchronous", "operation", "of", "calls", "to", "setstate", "and", "calls", "may", "be", "batched", "for", "performance", "gains", ".", "setstate", "(", ")", "will", "always", "trigger", "a", "re-render", "unless", "conditional", "rendering", "logic", "is", "implemented", "in", "shouldcomponentupdate", "(", ")", ".", "if", "mutable", "objects", "are", "being", "used", "and", "the", "logic", "can", "not", "be", "implemented", "in", "shouldcomponentupdate", "(", ")", ",", "calling", "setstate", "(", ")", "only", "when", "the", "new", "state", "differs", "from", "the", "previous", "state", "will", "avoid", "unnecessary", "re-renders", ".", "basically", ",", "if", "you", "modify", "this.state", "directly", ",", "you", "create", "a", "situation", "where", "those", "modifications", "might", "get", "overwritten", ".", "related", "to", "your", "extended", "questions", "1", ")", "and", "2", ")", ",", "setstate", "(", ")", "is", "not", "immediate", ".", "it", "queues", "a", "state", "transition", "based", "on", "what", "it", "thinks", "is", "going", "on", "which", "may", "not", "include", "the", "direct", "changes", "to", "this.state", ".", "since", "it", "'s", "queued", "rather", "than", "applied", "immediately", ",", "it", "'s", "entirely", "possible", "that", "something", "is", "modified", "in", "between", "such", "that", "your", "direct", "changes", "get", "overwritten", ".", "if", "nothing", "else", ",", "you", "might", "be", "better", "off", "just", "considering", "that", "not", "directly", "modifying", "this.state", "can", "be", "seen", "as", "good", "practice", ".", "you", "may", "know", "personally", "that", "your", "code", "interacts", "with", "react", "in", "such", "a", "way", "that", "these", "over-writes", "or", "other", "issues", "ca", "n't", "happen", "but", "you", "'re", "creating", "a", "situation", "where", "other", "developers", "or", "future", "updates", "can", "suddenly", "find", "themselves", "with", "weird", "or", "subtle", "issues", ".", "this", "answer", "is", "to", "provide", "enough", "information", "to", "not", "change/mutate", "the", "state", "directly", "in", "react", ".", "react", "follows", "unidirectional", "data", "flow", ".", "meaning", ",", "the", "data", "flow", "inside", "react", "should", "and", "will", "be", "expected", "to", "be", "in", "a", "circular", "path", ".", "react", "'s", "data", "flow", "without", "flux", "to", "make", "react", "work", "like", "this", ",", "developers", "made", "the", "react", "similar", "to", "functional", "programming", ".", "the", "thumb", "rule", "of", "functional", "programming", "is", "immutability", ".", "let", "me", "explain", "it", "loud", "and", "clear", ".", "how", "does", "the", "unidirectional", "flow", "works", "?", "states", "are", "a", "data", "store", "which", "contains", "the", "data", "of", "a", "component", ".", "the", "view", "of", "a", "component", "renders", "based", "on", "the", "state", ".", "when", "the", "view", "needs", "to", "change", "something", "on", "the", "screen", ",", "that", "value", "should", "be", "supplied", "from", "the", "store", ".", "to", "make", "this", "happen", ",", "react", "provides", "setstate", "(", ")", "function", "which", "takes", "in", "an", "object", "of", "new", "states", "and", "does", "an", "compare", "and", "merge", "(", "similar", "to", "object.assign", "(", ")", ")", "over", "the", "previous", "state", "and", "adds", "the", "new", "state", "to", "the", "state", "data", "store", ".", "whenever", "the", "data", "in", "the", "state", "store", "changes", ",", "react", "will", "trigger", "an", "re-render", "with", "the", "new", "state", "which", "the", "view", "consumes", "and", "shows", "it", "on", "the", "screen", ".", "this", "cycle", "will", "continue", "throughout", "the", "component", "'s", "lifetime", ".", "if", "you", "see", "the", "above", "steps", ",", "it", "clearly", "shows", "a", "lot", "of", "things", "are", "happening", "behind", "when", "you", "change", "the", "state", ".", "so", ",", "when", "you", "mutate", "the", "state", "directly", "and", "call", "setstate", "(", ")", "with", "an", "empty", "object", ".", "the", "previous", "state", "will", "be", "polluted", "with", "your", "mutation", ".", "due", "to", "which", ",", "the", "shallow", "compare", "and", "merge", "of", "two", "states", "will", "be", "disturbed", "or", "wo", "n't", "happen", ",", "because", "you", "'ll", "have", "only", "one", "state", "now", ".", "this", "will", "disrupt", "all", "the", "react", "'s", "lifecycle", "methods", ".", "as", "a", "result", ",", "your", "app", "will", "behave", "abnormal", "or", "even", "crash", ".", "most", "of", "the", "times", ",", "it", "wo", "n't", "affect", "your", "app", "because", "all", "the", "apps", "which", "we", "use", "for", "testing", "this", "are", "pretty", "small", ".", "and", "another", "downside", "of", "mutation", "of", "objects", "and", "arrays", "in", "javascript", "is", ",", "when", "you", "assign", "an", "object", "or", "an", "array", ",", "you", "'re", "just", "making", "a", "reference", "of", "that", "object", "or", "that", "array", ".", "when", "you", "mutate", "them", ",", "all", "the", "reference", "to", "that", "object", "or", "that", "array", "will", "be", "affected", ".", "react", "handles", "this", "in", "a", "intelligent", "way", "in", "the", "background", "and", "simply", "give", "us", "an", "api", "to", "make", "it", "work", ".", "most", "common", "errors", "done", "when", "handling", "states", "in", "react", "//original", "state", "this.state", "=", "{", "a", ":", "[", "1,2,3,4,5", "]", "}", "//changing", "the", "state", "in", "react", "//need", "to", "add", "'", "6", "'", "in", "the", "array", "//bad", "approach", "const", "b", "=", "this.state.a.push", "(", "6", ")", "this.setstate", "(", "{", "a", ":", "b", "}", ")", "in", "the", "above", "example", ",", "this.state.a.push", "(", "6", ")", "will", "mutate", "the", "state", "directly", ".", "assigning", "it", "to", "another", "variable", "and", "calling", "setstate", "is", "same", "as", "what", "'s", "shown", "below", ".", "as", "we", "mutated", "the", "state", "anyway", ",", "there", "'s", "no", "point", "assigning", "it", "to", "another", "variable", "and", "calling", "setstate", "with", "that", "variable", ".", "//same", "as", "this.state.a.push", "(", "6", ")", "this.setstate", "(", "{", "}", ")", "most", "of", "the", "people", "does", "this", ".", "this", "is", "so", "wrong", ".", "this", "breaks", "the", "beauty", "of", "react", "and", "it", "'ll", "make", "you", "a", "bad", "programmer", ".", "so", ",", "what", "'s", "the", "best", "way", "to", "handle", "states", "in", "react", "?", "let", "me", "explain", ".", "when", "you", "need", "to", "change", "'something", "'", "in", "the", "existing", "state", ",", "first", "get", "a", "copy", "of", "that", "'something", "'", "from", "the", "current", "state", ".", "//original", "state", "this.state", "=", "{", "a", ":", "[", "1,2,3,4,5", "]", "}", "//changing", "the", "state", "in", "react", "//need", "to", "add", "'", "6", "'", "in", "the", "array", "//create", "a", "copy", "of", "this.state.a", "//you", "can", "use", "es6", "'s", "destructuring", "or", "loadash", "'s", "_.clone", "(", ")", "const", "currentstatecopy", "=", "[", "...", "this.state.a", "]", "now", ",", "mutating", "currentstatecopy", "wo", "n't", "mutate", "the", "original", "state", ".", "do", "operations", "over", "currentstatecopy", "and", "set", "it", "as", "the", "new", "state", "using", "setstate", "(", ")", ".", "currentstatecopy.push", "(", "6", ")", "this.state", "(", "{", "a", ":", "currentstatecopy", "}", ")", "this", "is", "beautify", ",", "right", "?", "by", "doing", "this", ",", "all", "the", "references", "of", "this.state.a", "wo", "n't", "get", "affected", "until", "we", "use", "setstate", ".", "this", "gives", "you", "control", "over", "your", "code", "and", "this", "'ll", "help", "you", "write", "elegant", "test", "and", "make", "you", "confident", "about", "the", "performance", "of", "the", "code", "in", "production", ".", "to", "answer", "your", "question", ",", "why", "ca", "n't", "i", "directly", "modify", "a", "component", "'s", "state", "?", "yes", ",", "you", "can", ".", "but", ",", "you", "need", "to", "face", "the", "following", "consequences", ".", "when", "you", "scale", ",", "you", "'ll", "be", "writing", "unmanageable", "code", ".", "you", "'ll", "lose", "control", "of", "state", "across", "components", ".", "instead", "of", "using", "react", ",", "you", "'ll", "be", "writing", "custom", "codes", "over", "react", ".", "immutability", "is", "not", "necessary", "thing", "because", "javascript", "is", "single", "threaded", ".", "but", ",", "it", "'s", "a", "good", "to", "follow", "practice", "which", "will", "help", "you", "in", "the", "long", "run", ".", "ps", ".", "i", "'ve", "written", "about", "10000", "lines", "of", "mutable", "react", "js", "code", ".", "if", "it", "breaks", "now", ",", "i", "do", "n't", "know", "where", "to", "look", "into", "because", "all", "the", "values", "are", "mutated", "somewhere", ".", "when", "i", "realized", "this", ",", "i", "started", "writing", "immutable", "code", ".", "trust", "me", "!", "that", "'s", "the", "best", "thing", "you", "can", "do", "it", "to", "a", "product", "or", "an", "app", ".", "hope", "this", "helps", "!", "the", "simplest", "answer", "to", "``", "why", "ca", "n't", "i", "directly", "modify", "a", "component", "'s", "state", ":", "is", "all", "about", "updating", "phase", ".", "when", "we", "update", "the", "state", "of", "a", "component", "all", "it", "'s", "children", "are", "going", "to", "be", "rendered", "as", "well", ".", "or", "our", "entire", "component", "tree", "rendered", ".", "but", "when", "i", "say", "our", "entire", "component", "tree", "is", "rendered", "that", "doesn", "\u2019", "t", "mean", "that", "the", "entire", "dom", "is", "updated", ".", "when", "a", "component", "is", "rendered", "we", "basically", "get", "a", "react", "element", ",", "so", "that", "is", "updating", "our", "virtual", "dom", ".", "react", "will", "then", "look", "at", "the", "virtual", "dom", ",", "it", "also", "has", "a", "copy", "of", "the", "old", "virtual", "dom", ",", "that", "is", "why", "we", "shouldn", "\u2019", "t", "update", "the", "state", "directly", ",", "so", "we", "can", "have", "two", "different", "object", "references", "in", "memory", ",", "we", "have", "the", "old", "virtual", "dom", "as", "well", "as", "the", "new", "virtual", "dom", ".", "then", "react", "will", "figure", "out", "what", "is", "changed", "and", "based", "on", "that", "it", "will", "update", "the", "real", "dom", "accordingly", ".", "hope", "it", "helps", ".", "to", "avoid", "every", "time", "to", "create", "a", "copy", "of", "this.state.element", "you", "can", "use", "update", "with", "$", "set", "or", "$", "push", "or", "many", "others", "from", "immutability-helper", "e.g", ".", ":", "import", "update", "from", "'immutability-helper", "'", ";", "const", "newdata", "=", "update", "(", "mydata", ",", "{", "x", ":", "{", "y", ":", "{", "z", ":", "{", "$", "set", ":", "7", "}", "}", "}", ",", "a", ":", "{", "b", ":", "{", "$", "push", ":", "[", "9", "]", "}", "}", "}", ")", ";", "setstate", "trigger", "re", "rendering", "of", "the", "components.when", "we", "want", "to", "update", "state", "again", "and", "again", "we", "must", "need", "to", "setstate", "otherwise", "it", "does", "n't", "work", "correctly", ".", "my", "current", "understanding", "is", "based", "on", "this", "and", "this", "answer", ":", "if", "you", "do", "n't", "use", "shouldcomponentupdate", "or", "any", "other", "lifecycle", "methods", "(", "like", "componentwillreceiveprops", ",", "componentwillupdate", ",", "and", "componentdidupdate", ")", "where", "you", "compare", "the", "old", "and", "new", "props/state", "then", "its", "fine", "to", "mutate", "state", "and", "then", "call", "setstate", "(", ")", ",", "otherwise", "it", "is", "not", "fine", ".", "i", "am", "developing", "an", "application", "in", "which", "i", "check", "if", "the", "user", "is", "not", "loggedin", ".", "i", "have", "to", "display", "the", "login", "form", ",", "else", "dispatch", "an", "action", "that", "would", "change", "the", "route", "and", "load", "other", "component", ".", "here", "is", "my", "code", ":", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "//", "dispatch", "an", "action", "to", "change", "the", "route", "}", "//", "return", "login", "component", "<", "login", "/", ">", "}", "how", "can", "i", "achieve", "this", "as", "i", "can", "not", "change", "states", "inside", "the", "render", "function", ".", "considering", "you", "are", "using", "react-router", "v4", "use", "your", "component", "with", "withrouter", "and", "use", "history.push", "from", "props", "to", "change", "the", "route", ".", "you", "need", "to", "make", "use", "of", "withrouter", "only", "when", "your", "component", "is", "not", "receiving", "the", "router", "props", ",", "this", "may", "happen", "in", "cases", "when", "your", "component", "is", "a", "nested", "child", "of", "a", "component", "rendered", "by", "the", "router", "and", "you", "have", "n't", "passed", "the", "router", "props", "to", "it", "or", "when", "the", "component", "is", "not", "linked", "to", "the", "router", "at", "all", "and", "is", "rendered", "as", "a", "separate", "component", "from", "the", "routes", ".", "import", "{", "withrouter", "}", "from", "'react-router", "'", ";", "class", "app", "extends", "react.component", "{", "...", "componendidmount", "(", ")", "{", "//", "get", "isloggedin", "from", "localstorage", "or", "api", "call", "if", "(", "isloggedin", ")", "{", "//", "dispatch", "an", "action", "to", "change", "the", "route", "this.props.history.push", "(", "'/home", "'", ")", ";", "}", "}", "render", "(", ")", "{", "//", "return", "login", "component", "return", "<", "login", "/", ">", "}", "}", "export", "default", "withrouter", "(", "app", ")", ";", "important", "note", "if", "you", "are", "using", "withrouter", "to", "prevent", "updates", "from", "being", "blocked", "by", "shouldcomponentupdate", ",", "it", "is", "important", "that", "withrouter", "wraps", "the", "component", "that", "implements", "shouldcomponentupdate", ".", "for", "example", ",", "when", "using", "redux", ":", "//", "this", "gets", "around", "shouldcomponentupdate", "withrouter", "(", "connect", "(", "...", ")", "(", "mycomponent", ")", ")", "//", "this", "does", "not", "connect", "(", "...", ")", "(", "withrouter", "(", "mycomponent", ")", ")", "or", "you", "could", "use", "redirect", "import", "{", "withrouter", "}", "from", "'react-router", "'", ";", "class", "app", "extends", "react.component", "{", "...", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "return", "<", "redirect", "to=", "''", "/home", "''", "/", ">", "}", "//", "return", "login", "component", "return", "<", "login", "/", ">", "}", "}", "with", "react-router", "v2", "or", "react-router", "v3", ",", "you", "can", "make", "use", "of", "context", "to", "dynamically", "change", "the", "route", "like", "class", "app", "extends", "react.component", "{", "...", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "//", "dispatch", "an", "action", "to", "change", "the", "route", "this.context.router.push", "(", "'/home", "'", ")", ";", "}", "//", "return", "login", "component", "return", "<", "login", "/", ">", "}", "}", "app.contexttypes", "=", "{", "router", ":", "react.proptypes.object.isrequired", "}", "export", "default", "app", ";", "or", "use", "import", "{", "browserhistory", "}", "from", "'react-router", "'", ";", "browserhistory.push", "(", "'/some/path", "'", ")", ";", "in", "react-router", "version", "4", ":", "import", "react", "from", "'react", "'", "import", "{", "browserrouter", "as", "router", ",", "route", ",", "redirect", "}", "from", "'react-router-dom", "'", "const", "example", "=", "(", ")", "=", ">", "(", "if", "(", "isloggedin", ")", "{", "<", "othercomponent", "/", ">", "}", "else", "{", "<", "router", ">", "<", "redirect", "push", "to=", "''", "/login", "''", "/", ">", "<", "route", "path=", "''", "/login", "''", "component=", "{", "login", "}", "/", ">", "<", "/router", ">", "}", ")", "const", "login", "=", "(", ")", "=", ">", "(", "<", "h1", ">", "form", "components", "<", "/h1", ">", "...", ")", "export", "default", "example", ";", "another", "alternative", "is", "to", "handle", "this", "using", "thunk-style", "asynchronous", "actions", "(", "which", "are", "safe/allowed", "to", "have", "side-effects", ")", ".", "if", "you", "use", "thunk", ",", "you", "can", "inject", "the", "same", "history", "object", "into", "both", "your", "<", "router", ">", "component", "and", "thunk", "actions", "using", "thunk.withextraargument", ",", "like", "this", ":", "import", "react", "from", "'react", "'", "import", "{", "browserrouter", "as", "router", ",", "route", ",", "redirect", "}", "from", "'react-router-dom", "'", "import", "{", "createbrowserhistory", "}", "from", "``", "history", "''", "import", "{", "applymiddleware", ",", "createstore", "}", "from", "``", "redux", "''", "import", "thunk", "from", "``", "redux-thunk", "''", "const", "history", "=", "createbrowserhistory", "(", ")", "const", "middlewares", "=", "applymiddleware", "(", "thunk.withextraargument", "(", "{", "history", "}", ")", ")", "const", "store", "=", "createstore", "(", "appreducer", ",", "middlewares", ")", "render", "(", "<", "provider", "store=", "{", "store", "}", "<", "router", "history=", "{", "history", "}", ">", "<", "route", "path=", "''", "*", "''", "component=", "{", "catchall", "}", "/", ">", "<", "/router", "<", "/provider", ">", ",", "appdiv", ")", "then", "in", "your", "action-creators", ",", "you", "will", "have", "a", "history", "instance", "that", "is", "safe", "to", "use", "with", "reactrouter", ",", "so", "you", "can", "just", "trigger", "a", "regular", "redux", "event", "if", "you", "'re", "not", "logged", "in", ":", "//", "meanwhile", "...", "in", "action-creators.js", "export", "const", "notloggedin", "=", "(", ")", "=", ">", "{", "return", "(", "dispatch", ",", "getstate", ",", "{", "history", "}", ")", "=", ">", "{", "history.push", "(", "`", "/login", "`", ")", "}", "}", "another", "advantage", "of", "this", "is", "that", "the", "url", "is", "easier", "to", "handle", ",", "now", ",", "so", "we", "can", "put", "redirect", "info", "on", "the", "query", "string", ",", "etc", ".", "you", "can", "try", "still", "doing", "this", "check", "in", "your", "render", "methods", ",", "but", "if", "it", "causes", "problems", ",", "you", "might", "consider", "doing", "it", "in", "componentdidmount", ",", "or", "elsewhere", "in", "the", "lifecycle", "(", "although", "also", "i", "understand", "the", "desire", "to", "stick", "with", "stateless", "functional", "compeonents", "!", ")", "you", "can", "still", "use", "redux", "and", "mapdispatchtoprops", "to", "inject", "the", "action", "creator", "into", "your", "comptonent", ",", "so", "your", "component", "is", "still", "only", "loosely", "connected", "to", "redux", ".", "those", "who", "are", "facing", "issues", "in", "implementing", "this", "on", "react-router", "v4", ".", "here", "is", "a", "working", "solution", "for", "navigating", "through", "the", "react", "app", "programmatically", ".", "history.js", "import", "createhistory", "from", "'history/createbrowserhistory", "'", "export", "default", "createhistory", "(", ")", "app.js", "or", "route.jsx", ".", "pass", "history", "as", "a", "prop", "to", "your", "router", ".", "import", "{", "router", ",", "route", "}", "from", "'react-router-dom", "'", "import", "history", "from", "'./history", "'", "...", "<", "router", "history=", "{", "history", "}", ">", "<", "route", "path=", "''", "/test", "''", "component=", "{", "test", "}", "/", ">", "<", "/router", ">", "you", "can", "use", "push", "(", ")", "to", "navigate", ".", "import", "history", "from", "'./history", "'", "...", "render", "(", ")", "{", "if", "(", "isloggedin", ")", "{", "history.push", "(", "'/test", "'", ")", "//", "this", "should", "change", "the", "url", "and", "re-render", "test", "component", "}", "//", "return", "login", "component", "<", "login", "/", ">", "}", "all", "thanks", "to", "this", "comment", ":", "https", ":", "//github.com/reacttraining/react-router/issues/3498", "#", "issuecomment-301057248", "this", "is", "my", "handle", "loggedin", ".", "react-router", "v4", "privateroute", "is", "allow", "enter", "path", "if", "user", "is", "loggedin", "and", "save", "the", "token", "to", "localstorge", "function", "privateroute", "(", "{", "component", ":", "component", ",", "...", "rest", "}", ")", "{", "return", "(", "<", "route", "{", "...", "rest", "}", "render=", "{", "props", "=", ">", "(", "localstorage.token", ")", "?", "<", "component", "{", "...", "props", "}", "/", ">", ":", "(", "<", "redirect", "to=", "{", "{", "pathname", ":", "'/signin", "'", ",", "state", ":", "{", "from", ":", "props.location", "}", ",", "}", "}", "/", ">", ")", "}", "/", ">", ")", ";", "}", "define", "all", "paths", "in", "your", "app", "in", "here", "export", "default", "(", "<", "main", ">", "<", "switch", ">", "<", "route", "exact", "path=", "''", "/signin", "''", "component=", "{", "signin", "}", "/", ">", "<", "route", "exact", "path=", "''", "/signup", "''", "component=", "{", "signup", "}", "/", ">", "<", "privateroute", "path=", "''", "/", "''", "component=", "{", "home", "}", "/", ">", "<", "/switch", ">", "<", "/main", ">", ")", ";", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "this.props.redirect", "?", "<", "redirect", "to=", "''", "/", "''", "/", ">", ":", "''", "}", "<", "div", ">", "add", "here", "component", "codes", "<", "/div", ">", "<", "/div", ">", ")", ";", "}", "i", "would", "suggest", "you", "to", "use", "connected-react-router", "https", ":", "//github.com/supasate/connected-react-router", "which", "helps", "to", "perform", "navigation", "even", "from", "reducers/actions", "if", "you", "want", ".", "it", "is", "well", "documented", "and", "easy", "to", "configure", "i", "was", "able", "to", "use", "history", "within", "stateless", "functional", "component", ",", "using", "withrouter", "following", "way", "(", "needed", "to", "ignore", "typescript", "warning", ")", ":", "import", "{", "withrouter", "}", "from", "'react-router-dom", "'", ";", "...", "type", "props", "=", "{", "myprop", ":", "boolean", "}", ";", "//", "@", "ts-ignore", "export", "const", "mycomponent", ":", "fc", "<", "props", ">", "=", "withrouter", "(", "(", "{", "myprop", ",", "history", "}", ")", "=", ">", "{", "...", "}", ")", "i", "have", "just", "found", "that", "in", "react", "this.setstate", "(", ")", "function", "in", "any", "component", "is", "asynchronous", "or", "is", "called", "after", "the", "completion", "of", "the", "function", "that", "it", "was", "called", "in", ".", "now", "i", "searched", "and", "found", "this", "blog", "(", "setstate", "(", ")", "state", "mutation", "operation", "may", "be", "synchronous", "in", "reactjs", ")", "here", "he", "found", "that", "setstate", "is", "async", "(", "called", "when", "stack", "is", "empty", ")", "or", "sync", "(", "called", "as", "soon", "as", "called", ")", "depending", "on", "how", "the", "change", "of", "state", "was", "triggered", ".", "now", "these", "two", "things", "are", "hard", "to", "digest", "in", "the", "blog", "the", "setstate", "function", "is", "called", "inside", "a", "function", "updatestate", ",", "but", "what", "triggered", "the", "updatestate", "function", "is", "not", "something", "that", "a", "called", "function", "would", "know", "about", ".", "why", "would", "they", "make", "setstate", "async", "as", "js", "is", "single", "threaded", "language", "and", "this", "setstate", "is", "not", "a", "webapi", "or", "server", "call", "so", "has", "to", "be", "done", "on", "js", "'s", "thread", "only", ".", "are", "they", "doing", "this", "so", "that", "re-rendering", "does", "not", "stop", "all", "the", "event", "listeners", "and", "stuff", ",", "or", "there", "is", "some", "other", "design", "issue", ".", "you", "can", "call", "a", "function", "after", "the", "state", "value", "has", "updated", ":", "this.setstate", "(", "{", "foo", ":", "'bar", "'", "}", ",", "(", ")", "=", ">", "{", "//", "do", "something", "here", ".", "}", ")", ";", "also", ",", "if", "you", "have", "lots", "of", "states", "to", "update", "at", "once", ",", "group", "them", "all", "within", "the", "same", "setstate", ":", "instead", "of", ":", "this.setstate", "(", "{", "foo", ":", "``", "one", "''", "}", ",", "(", ")", "=", ">", "{", "this.setstate", "(", "{", "bar", ":", "``", "two", "''", "}", ")", ";", "}", ")", ";", "just", "do", "this", ":", "this.setstate", "(", "{", "foo", ":", "``", "one", "''", ",", "bar", ":", "``", "two", "''", "}", ")", ";", "1", ")", "setstate", "actions", "are", "asynchronous", "and", "are", "batched", "for", "performance", "gains", ".", "this", "is", "explained", "in", "the", "documentation", "of", "setstate", ".", "setstate", "(", ")", "does", "not", "immediately", "mutate", "this.state", "but", "creates", "a", "pending", "state", "transition", ".", "accessing", "this.state", "after", "calling", "this", "method", "can", "potentially", "return", "the", "existing", "value", ".", "there", "is", "no", "guarantee", "of", "synchronous", "operation", "of", "calls", "to", "setstate", "and", "calls", "may", "be", "batched", "for", "performance", "gains", ".", "2", ")", "why", "would", "they", "make", "setstate", "async", "as", "js", "is", "a", "single", "threaded", "language", "and", "this", "setstate", "is", "not", "a", "webapi", "or", "server", "call", "?", "this", "is", "because", "setstate", "alters", "the", "state", "and", "causes", "rerendering", ".", "this", "can", "be", "an", "expensive", "operation", "and", "making", "it", "synchronous", "might", "leave", "the", "browser", "unresponsive", ".", "thus", "the", "setstate", "calls", "are", "asynchronous", "as", "well", "as", "batched", "for", "better", "ui", "experience", "and", "performance", ".", "i", "know", "this", "question", "is", "old", ",", "but", "it", "has", "been", "causing", "a", "lot", "of", "confusion", "for", "many", "reactjs", "users", "for", "a", "long", "time", ",", "including", "me", ".", "recently", "dan", "abramov", "(", "from", "the", "react", "team", ")", "just", "wrote", "up", "a", "great", "explanation", "as", "to", "why", "the", "nature", "of", "setstate", "is", "async", ":", "https", ":", "//github.com/facebook/react/issues/11527", "#", "issuecomment-360199710", "setstate", "is", "meant", "to", "be", "asynchronous", ",", "and", "there", "are", "a", "few", "really", "good", "reasons", "for", "that", "in", "the", "linked", "explanation", "by", "dan", "abramov", ".", "this", "does", "n't", "mean", "it", "will", "always", "be", "asynchronous", "-", "it", "mainly", "means", "that", "you", "just", "ca", "n't", "depend", "on", "it", "being", "synchronous", ".", "reactjs", "takes", "into", "consideration", "many", "variables", "in", "the", "scenario", "that", "you", "'re", "changing", "the", "state", "in", ",", "to", "decide", "when", "the", "state", "should", "actually", "be", "updated", "and", "your", "component", "rerendered", ".", "a", "simple", "example", "to", "demonstrate", "this", ",", "is", "that", "if", "you", "call", "setstate", "as", "a", "reaction", "to", "a", "user", "action", ",", "then", "the", "state", "will", "probably", "be", "updated", "immediately", "(", "although", ",", "again", ",", "you", "ca", "n't", "count", "on", "it", ")", ",", "so", "the", "user", "wo", "n't", "feel", "any", "delay", ",", "but", "if", "you", "call", "setstate", "in", "reaction", "to", "an", "ajax", "call", "response", "or", "some", "other", "event", "that", "is", "n't", "triggered", "by", "the", "user", ",", "then", "the", "state", "might", "be", "updated", "with", "a", "slight", "delay", ",", "since", "the", "user", "wo", "n't", "really", "feel", "this", "delay", ",", "and", "it", "will", "improve", "performance", "by", "waiting", "to", "batch", "multiple", "state", "updates", "together", "and", "rerender", "the", "dom", "fewer", "times", ".", "good", "article", "here", "https", ":", "//github.com/vasanthk/react-bits/blob/master/patterns/27.passing-function-to-setstate.md", "//", "assuming", "this.state.count", "===", "0", "this.setstate", "(", "{", "count", ":", "this.state.count", "+", "1", "}", ")", ";", "this.setstate", "(", "{", "count", ":", "this.state.count", "+", "1", "}", ")", ";", "this.setstate", "(", "{", "count", ":", "this.state.count", "+", "1", "}", ")", ";", "//", "this.state.count", "===", "1", ",", "not", "3", "solution", "this.setstate", "(", "(", "prevstate", ",", "props", ")", "=", ">", "(", "{", "count", ":", "prevstate.count", "+", "props.increment", "}", ")", ")", ";", "or", "pass", "callback", "this.setstate", "(", "{", ".....", "}", ",", "callback", ")", "https", ":", "//medium.com/javascript-scene/setstate-gate-abc10a9b2d82", "https", ":", "//medium.freecodecamp.org/functional-setstate-is-the-future-of-react-374f30401b6b", "you", "can", "use", "the", "following", "wrap", "to", "make", "sync", "call", "this.setstate", "(", "(", "state", "=", ">", "{", "return", "{", "something", "}", "}", ")", "imagine", "incrementing", "a", "counter", "in", "some", "component", ":", "class", "somecomponent", "extends", "component", "{", "state", "=", "{", "updatedbydiv", ":", "``", ",", "updatedbybtn", ":", "``", ",", "counter", ":", "0", "}", "divcounthandler", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "{", "updatedbydiv", ":", "'div", "'", ",", "counter", ":", "this.state.counter", "+", "1", "}", ")", ";", "console.log", "(", "'divcounthandler", "executed", "'", ")", ";", "}", "btncounthandler", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "{", "updatedbybtn", ":", "'button", "'", ",", "counter", ":", "this.state.counter", "+", "1", "}", ")", ";", "console.log", "(", "'btncounthandler", "executed", "'", ")", ";", "}", "...", "...", "render", "(", ")", "{", "return", "(", "...", "//", "a", "parent", "div", "<", "div", "onclick=", "{", "this.divcounthandler", "}", ">", "//", "a", "child", "button", "<", "button", "onclick=", "{", "this.btncounthandler", "}", ">", "increment", "count", "<", "/button", ">", "<", "/div", ">", "...", ")", "}", "}", "there", "is", "a", "count", "handler", "attached", "to", "both", "the", "parent", "and", "the", "child", "components", ".", "this", "is", "done", "purposely", "so", "we", "can", "execute", "the", "setstate", "(", ")", "twice", "within", "the", "same", "click", "event", "bubbling", "context", ",", "but", "from", "within", "2", "different", "handlers", ".", "as", "we", "would", "imagine", ",", "a", "single", "click", "event", "on", "the", "button", "would", "now", "trigger", "both", "these", "handlers", "since", "the", "event", "bubbles", "from", "target", "to", "the", "outermost", "container", "during", "the", "bubbling", "phase", ".", "therefore", "the", "btncounthandler", "(", ")", "executes", "first", ",", "expected", "to", "increment", "the", "count", "to", "1", "and", "then", "the", "divcounthandler", "(", ")", "executes", ",", "expected", "to", "increment", "the", "count", "to", "2.", "however", "the", "count", "only", "increments", "to", "1", "as", "you", "can", "inspect", "in", "react", "developer", "tools", ".", "this", "proves", "that", "react", "queues", "all", "the", "setstate", "calls", "comes", "back", "to", "this", "queue", "after", "executing", "the", "last", "method", "in", "the", "context", "(", "the", "divcounthandler", "in", "this", "case", ")", "merges", "all", "the", "object", "mutations", "happening", "within", "multiple", "setstate", "calls", "in", "the", "same", "context", "(", "all", "method", "calls", "within", "a", "single", "event", "phase", "is", "same", "context", "for", "e.g", ".", ")", "into", "one", "single", "object", "mutation", "syntax", "(", "merging", "makes", "sense", "because", "this", "is", "why", "we", "can", "update", "the", "state", "properties", "independently", "in", "setstate", "(", ")", "in", "the", "first", "place", ")", "and", "passes", "it", "into", "one", "single", "setstate", "(", ")", "to", "prevent", "re-rendering", "due", "to", "multiple", "setstate", "(", ")", "calls", "(", "this", "is", "a", "very", "primitive", "description", "of", "batching", ")", ".", "resultant", "code", "run", "by", "react", ":", "this.setstate", "(", "{", "updatedbydiv", ":", "'div", "'", ",", "updatedbybtn", ":", "'button", "'", ",", "counter", ":", "this.state.counter", "+", "1", "}", ")", "to", "stop", "this", "behaviour", ",", "instead", "of", "passing", "objects", "as", "arguments", "to", "the", "setstate", "method", ",", "callbacks", "are", "passed", ".", "divcounthandler", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "(", "prevstate", ",", "props", ")", "=", ">", "{", "return", "{", "updatedbydiv", ":", "'div", "'", ",", "counter", ":", "prevstate.counter", "+", "1", "}", ";", "}", ")", ";", "console.log", "(", "'divcounthandler", "executed", "'", ")", ";", "}", "btncounthandler", "=", "(", ")", "=", ">", "{", "this.setstate", "(", "(", "prevstate", ",", "props", ")", "=", ">", "{", "return", "{", "updatedbybtn", ":", "'button", "'", ",", "counter", ":", "prevstate.counter", "+", "1", "}", ";", "}", ")", ";", "console.log", "(", "'btncounthandler", "executed", "'", ")", ";", "}", "after", "the", "last", "method", "finishes", "execution", "and", "when", "react", "returns", "to", "process", "the", "setstate", "queue", ",", "it", "simply", "calls", "the", "callback", "for", "each", "setstate", "queued", ",", "passing", "in", "the", "previous", "component", "state", ".", "this", "way", "react", "ensures", "that", "the", "last", "callback", "in", "the", "queue", "gets", "to", "update", "the", "state", "that", "all", "of", "its", "previous", "counterparts", "have", "laid", "hands", "on", ".", "yes", ",", "setstate", "(", ")", "is", "asynchronous", ".", "from", "the", "link", ":", "https", ":", "//reactjs.org/docs/react-component.html", "#", "setstate", "react", "does", "not", "guarantee", "that", "the", "state", "changes", "are", "applied", "immediately", ".", "setstate", "(", ")", "does", "not", "always", "immediately", "update", "the", "component", ".", "think", "of", "setstate", "(", ")", "as", "a", "request", "rather", "than", "an", "immediate", "command", "to", "update", "the", "component", ".", "because", "they", "think", "from", "the", "link", ":", "https", ":", "//github.com/facebook/react/issues/11527", "#", "issuecomment-360199710", "...", "we", "agree", "that", "setstate", "(", ")", "re-rendering", "synchronously", "would", "be", "inefficient", "in", "many", "cases", "asynchronous", "setstate", "(", ")", "makes", "life", "very", "difficult", "for", "those", "getting", "started", "and", "even", "experienced", "unfortunately", ":", "-", "unexpected", "rendering", "issues", ":", "delayed", "rendering", "or", "no", "rendering", "(", "based", "on", "program", "logic", ")", "-", "passing", "parameters", "is", "a", "big", "deal", "among", "other", "issues", ".", "below", "example", "helped", ":", "//", "call", "domytask1", "-", "here", "we", "set", "state", "//", "then", "after", "state", "is", "updated", "...", "//", "call", "to", "domytask2", "to", "proceed", "further", "in", "program", "constructor", "(", "props", ")", "{", "//", "..", "//", "this", "binding", "is", "necessary", "to", "make", "`", "this", "`", "work", "in", "the", "callback", "this.domytask1", "=", "this.domytask1.bind", "(", "this", ")", ";", "this.domytask2", "=", "this.domytask2.bind", "(", "this", ")", ";", "}", "function", "domytask1", "(", "myparam1", ")", "{", "//", "..", "this.setstate", "(", "{", "mystate1", ":", "'myvalue1", "'", ",", "mystate2", ":", "'myvalue2", "'", "//", "...", "}", ",", "(", ")", "=", ">", "{", "this.domytask2", "(", "myparam1", ")", ";", "}", ")", ";", "}", "function", "domytask2", "(", "myparam2", ")", "{", "//", "..", "}", "hope", "that", "helps", ".", "i", "'m", "new", "to", "using", "es6", "classes", "with", "react", ",", "previously", "i", "'ve", "been", "binding", "my", "methods", "to", "the", "current", "object", "(", "show", "in", "first", "example", ")", ",", "but", "does", "es6", "allow", "me", "to", "permanently", "bind", "a", "class", "function", "to", "a", "class", "instance", "with", "arrows", "?", "(", "useful", "when", "passing", "as", "a", "callback", "function", ".", ")", "i", "get", "errors", "when", "i", "try", "to", "use", "them", "as", "you", "can", "with", "coffeescript", ":", "class", "someclass", "extends", "react.component", "{", "//", "instead", "of", "this", "constructor", "(", ")", "{", "this.handleinputchange", "=", "this.handleinputchange.bind", "(", "this", ")", "}", "//", "can", "i", "somehow", "do", "this", "?", "am", "i", "just", "getting", "the", "syntax", "wrong", "?", "handleinputchange", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmade", ":", "'", ",", "val", ")", ";", "}", "so", "that", "if", "i", "were", "to", "pass", "someclass.handleinputchange", "to", ",", "for", "instance", "settimeout", ",", "it", "would", "be", "scoped", "to", "the", "class", "instance", ",", "and", "not", "the", "window", "object", ".", "your", "syntax", "is", "slightly", "off", ",", "just", "missing", "an", "equals", "sign", "after", "the", "property", "name", ".", "class", "someclass", "extends", "react.component", "{", "handleinputchange", "=", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmade", ":", "'", ",", "val", ")", ";", "}", "}", "this", "is", "an", "experimental", "feature", ".", "you", "will", "need", "to", "enable", "experimental", "features", "in", "babel", "to", "get", "this", "to", "compile", ".", "here", "is", "a", "demo", "with", "experimental", "enabled", ".", "to", "use", "experimental", "features", "in", "babel", "you", "can", "install", "the", "relevant", "plugin", "from", "here", ".", "for", "this", "specific", "feature", ",", "you", "need", "the", "transform-class-properties", "plugin", ":", "{", "``", "plugins", "''", ":", "[", "``", "transform-class-properties", "''", "]", "}", "you", "can", "read", "more", "about", "the", "proposal", "for", "class", "fields", "and", "static", "properties", "here", "no", ",", "if", "you", "want", "to", "create", "bound", ",", "instance-specific", "methods", "you", "will", "have", "to", "do", "that", "in", "the", "constructor", ".", "however", ",", "you", "can", "use", "arrow", "functions", "for", "that", ",", "instead", "of", "using", ".bind", "on", "a", "prototype", "method", ":", "class", "someclass", "extends", "react.component", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.handleinputchange", "=", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmade", ":", "'", ",", "val", ",", "this", ")", ";", "}", ";", "\u2026", "}", "}", "there", "is", "an", "proposal", "which", "might", "allow", "you", "to", "omit", "the", "constructor", "(", ")", "and", "directly", "put", "the", "assignment", "in", "the", "class", "scope", "with", "the", "same", "functionality", ",", "but", "i", "would", "n't", "recommend", "to", "use", "that", "as", "it", "'s", "highly", "experimental", ".", "alternatively", ",", "you", "can", "always", "use", ".bind", ",", "which", "allows", "you", "to", "declare", "the", "method", "on", "the", "prototype", "and", "then", "bind", "it", "to", "the", "instance", "in", "the", "constructor", ".", "this", "approach", "has", "greater", "flexibility", "as", "it", "allows", "modifying", "the", "method", "from", "the", "outside", "of", "your", "class", ".", "class", "someclass", "extends", "react.component", "{", "constructor", "(", ")", "{", "super", "(", ")", ";", "this.handleinputchange", "=", "this.handleinputchange.bind", "(", "this", ")", ";", "\u2026", "}", "handleinputchange", "(", "val", ")", "{", "console.log", "(", "'selectionmade", ":", "'", ",", "val", ",", "this", ")", ";", "}", "}", "i", "know", "this", "question", "has", "been", "sufficiently", "answered", ",", "but", "i", "just", "have", "a", "small", "contribution", "to", "make", "(", "for", "those", "who", "do", "n't", "want", "to", "use", "the", "experimental", "feature", ")", ".", "because", "of", "the", "problem", "of", "having", "to", "bind", "multiple", "function", "binds", "in", "the", "constructor", "and", "making", "it", "look", "messy", ",", "i", "came", "up", "with", "a", "utility", "method", "that", "once", "bound", "and", "called", "in", "the", "constructor", ",", "does", "all", "the", "necessary", "method", "bindings", "for", "you", "automatically", ".", "assume", "i", "have", "this", "class", "with", "the", "constructor", ":", "//src/components/peteditor.jsx", "import", "react", "from", "'react", "'", ";", "class", "peteditor", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "props.currentpet", "||", "{", "tags", ":", "[", "]", ",", "photourls", ":", "[", "]", "}", ";", "this.taginput", "=", "null", ";", "this.htmlnode", "=", "null", ";", "this.removetag", "=", "this.removetag.bind", "(", "this", ")", ";", "this.handlechange", "=", "this.handlechange.bind", "(", "this", ")", ";", "this.modifystate", "=", "this.modifystate.bind", "(", "this", ")", ";", "this.handlekeyup", "=", "this.handlekeyup.bind", "(", "this", ")", ";", "this.addtag", "=", "this.addtag.bind", "(", "this", ")", ";", "this.removetag", "=", "this.removetag.bind", "(", "this", ")", ";", "this.savepet", "=", "this.savepet.bind", "(", "this", ")", ";", "this.addphotoinput", "=", "this.addphotoinput.bind", "(", "this", ")", ";", "this.handleselect", "=", "this.handleselect.bind", "(", "this", ")", ";", "}", "//", "...", "actual", "method", "declarations", "omitted", "}", "it", "looks", "messy", ",", "does", "n't", "it", "?", "now", "i", "created", "this", "utility", "method", "//src/utils/index.js", "/", "*", "*", "*", "nb", ":", "to", "use", "this", "method", ",", "you", "need", "to", "bind", "it", "to", "the", "object", "instance", "calling", "it", "*", "/", "export", "function", "bindmethodstoself", "(", "objclass", ",", "othermethodstoignore=", "[", "]", ")", "{", "const", "self", "=", "this", ";", "object.getownpropertynames", "(", "objclass.prototype", ")", ".foreach", "(", "method", "=", ">", "{", "//skip", "constructor", ",", "render", "and", "any", "overrides", "of", "lifecycle", "methods", "if", "(", "method.startswith", "(", "'component", "'", ")", "||", "method==='constructor", "'", "||", "method==='render", "'", ")", "return", ";", "//any", "other", "methods", "you", "do", "n't", "want", "bound", "to", "self", "if", "(", "othermethodstoignore.indexof", "(", "method", ")", ">", "-1", ")", "return", ";", "//bind", "all", "other", "methods", "to", "class", "instance", "self", "[", "method", "]", "=", "self", "[", "method", "]", ".bind", "(", "self", ")", ";", "}", ")", ";", "}", "all", "i", "now", "need", "to", "do", "is", "import", "that", "utility", ",", "and", "add", "a", "call", "to", "my", "constructor", ",", "and", "i", "do", "n't", "need", "to", "bind", "each", "new", "method", "in", "the", "constructor", "anymore", ".", "new", "constructor", "now", "looks", "clean", ",", "like", "this", ":", "//src/components/peteditor.jsx", "import", "react", "from", "'react", "'", ";", "import", "{", "bindmethodstoself", "}", "from", "'", "..", "/utils", "'", ";", "class", "peteditor", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "props.currentpet", "||", "{", "tags", ":", "[", "]", ",", "photourls", ":", "[", "]", "}", ";", "this.taginput", "=", "null", ";", "this.htmlnode", "=", "null", ";", "bindmethodstoself.bind", "(", "this", ")", "(", "peteditor", ")", ";", "}", "//", "...", "}", "you", "are", "using", "arrow", "function", "and", "also", "binding", "it", "in", "constructor", ".", "so", "you", "no", "need", "to", "do", "binding", "when", "you", "use", "arrow", "functions", "class", "someclass", "extends", "react.component", "{", "handleinputchange", "=", "(", "val", ")", "=", ">", "{", "console.log", "(", "'selectionmade", ":", "'", ",", "val", ")", ";", "}", "}", "or", "you", "need", "to", "bind", "a", "function", "only", "in", "constructor", "when", "you", "use", "normal", "function", "like", "below", "class", "someclass", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.handleinputchange", "=", "this.handleinputchange.bind", "(", "this", ")", ";", "}", "handleinputchange", "(", "val", ")", "{", "console.log", "(", "'selectionmade", ":", "'", ",", "val", ")", ";", "}", "}", "also", "binding", "a", "function", "directly", "in", "render", "is", "not", "recommended", ".", "it", "should", "always", "be", "in", "constructor", "i", "'m", "trying", "to", "do", "something", "like", "the", "following", "in", "react", "jsx", "(", "where", "objectrow", "is", "a", "separate", "component", ")", ":", "<", "tbody", ">", "for", "(", "var", "i=0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "<", "objectrow/", ">", "}", "<", "/tbody", ">", "i", "realize", "and", "understand", "why", "this", "is", "n't", "valid", "jsx", ",", "since", "jsx", "maps", "to", "function", "calls", ".", "however", ",", "coming", "from", "template", "land", "and", "being", "new", "to", "jsx", ",", "i", "am", "unsure", "how", "i", "would", "achieve", "the", "above", "(", "adding", "a", "component", "multiple", "times", ")", ".", "think", "of", "it", "like", "you", "'re", "just", "calling", "javascript", "functions", ".", "you", "ca", "n't", "use", "a", "for", "loop", "where", "the", "arguments", "to", "a", "function", "call", "would", "go", ":", "return", "tbody", "(", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "objectrow", "(", ")", "}", ")", "see", "how", "the", "function", "tbody", "is", "being", "passed", "a", "for", "loop", "as", "an", "argument", "\u2013", "leading", "to", "a", "syntax", "error", ".", "but", "you", "can", "make", "an", "array", ",", "and", "then", "pass", "that", "in", "as", "an", "argument", ":", "var", "rows", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "rows.push", "(", "objectrow", "(", ")", ")", ";", "}", "return", "tbody", "(", "rows", ")", ";", "you", "can", "basically", "use", "the", "same", "structure", "when", "working", "with", "jsx", ":", "var", "rows", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "//", "note", ":", "we", "are", "adding", "a", "key", "prop", "here", "to", "allow", "react", "to", "uniquely", "identify", "each", "//", "element", "in", "this", "array", ".", "see", ":", "https", ":", "//reactjs.org/docs/lists-and-keys.html", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "<", "tbody", ">", "{", "rows", "}", "<", "/tbody", ">", ";", "incidentally", ",", "my", "javascript", "example", "is", "almost", "exactly", "what", "that", "example", "of", "jsx", "transforms", "into", ".", "play", "around", "with", "babel", "repl", "to", "get", "a", "feel", "for", "how", "jsx", "works", ".", "not", "sure", "if", "this", "will", "work", "for", "your", "situation", ",", "but", "often", "map", "is", "a", "good", "answer", ".", "if", "this", "was", "your", "code", "with", "the", "for", "loop", ":", "<", "tbody", ">", "for", "(", "var", "i=0", ";", "i", "<", "objects.length", ";", "i++", ")", "{", "<", "objectrow", "obj=", "{", "objects", "[", "i", "]", "}", "key=", "{", "i", "}", ">", "}", "<", "/tbody", ">", "you", "could", "write", "it", "like", "this", "with", "map", ":", "<", "tbody", ">", "{", "objects.map", "(", "function", "(", "object", ",", "i", ")", "{", "return", "<", "objectrow", "obj=", "{", "object", "}", "key=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", "es6", "syntax", ":", "<", "tbody", ">", "{", "objects.map", "(", "(", "object", ",", "i", ")", "=", ">", "<", "objectrow", "obj=", "{", "object", "}", "key=", "{", "i", "}", "/", ">", ")", "}", "<", "/tbody", ">", "if", "you", "do", "n't", "already", "have", "an", "array", "to", "map", "(", ")", "like", "@", "fakerainbrigand", "'s", "answer", ",", "and", "want", "to", "inline", "this", "so", "the", "source", "layout", "corresponds", "to", "the", "output", "closer", "than", "@", "sophiealpert", "'s", "answer", ":", "with", "es2015", "(", "es6", ")", "syntax", "(", "spread", "and", "arrow", "functions", ")", "http", ":", "//plnkr.co/edit/mfqfwodvy8dkqqokiegv", "?", "p=preview", "<", "tbody", ">", "{", "[", "...", "array", "(", "10", ")", "]", ".map", "(", "(", "x", ",", "i", ")", "=", ">", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "<", "/tbody", ">", "re", ":", "transpiling", "with", "babel", ",", "its", "caveats", "page", "says", "that", "array.from", "is", "required", "for", "spread", ",", "but", "at", "present", "(", "v5.8.23", ")", "that", "does", "not", "seem", "to", "be", "the", "case", "when", "spreading", "an", "actual", "array", ".", "i", "have", "a", "documentation", "issue", "open", "to", "clarify", "that", ".", "but", "use", "at", "your", "own", "risk", "or", "polyfill", ".", "vanilla", "es5", "array.apply", "<", "tbody", ">", "{", "array.apply", "(", "0", ",", "array", "(", "10", ")", ")", ".map", "(", "function", "(", "x", ",", "i", ")", "{", "return", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", "inline", "iife", "http", ":", "//plnkr.co/edit/4kqjdtzd4w69g8suu2ht", "?", "p=preview", "<", "tbody", ">", "{", "(", "function", "(", "rows", ",", "i", ",", "len", ")", "{", "while", "(", "++i", "<", "=", "len", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "return", "rows", ";", "}", ")", "(", "[", "]", ",", "0", ",", "10", ")", "}", "<", "/tbody", ">", "combination", "of", "techniques", "from", "other", "answers", "keep", "the", "source", "layout", "corresponding", "to", "the", "output", ",", "but", "make", "the", "inlined", "part", "more", "compact", ":", "render", ":", "function", "(", ")", "{", "var", "rows", "=", "[", "]", ",", "i", "=", "0", ",", "len", "=", "10", ";", "while", "(", "++i", "<", "=", "len", ")", "rows.push", "(", "i", ")", ";", "return", "(", "<", "tbody", ">", "{", "rows.map", "(", "function", "(", "i", ")", "{", "return", "<", "objectrow", "key=", "{", "i", "}", "index=", "{", "i", "}", "/", ">", ";", "}", ")", "}", "<", "/tbody", ">", ")", ";", "}", "with", "es2015", "syntax", "&", "array", "methods", "with", "array.prototype.fill", "you", "could", "do", "this", "as", "an", "alternative", "to", "using", "spread", "as", "illustrated", "above", ":", "<", "tbody", ">", "{", "array", "(", "10", ")", ".fill", "(", "1", ")", ".map", "(", "(", "el", ",", "i", ")", "=", ">", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "<", "/tbody", ">", "(", "i", "think", "you", "could", "actually", "omit", "any", "argument", "to", "fill", "(", ")", ",", "but", "i", "'m", "not", "100", "%", "on", "that", ".", ")", "thanks", "to", "@", "fakerainbrigand", "for", "correcting", "my", "mistake", "in", "an", "earlier", "version", "of", "the", "fill", "(", ")", "solution", "(", "see", "revisions", ")", ".", "key", "in", "all", "cases", "the", "key", "attr", "alleviates", "a", "warning", "with", "the", "development", "build", ",", "but", "is", "n't", "accessible", "in", "the", "child", ".", "you", "can", "pass", "an", "extra", "attr", "if", "you", "want", "the", "index", "available", "in", "the", "child", ".", "see", "lists", "and", "keys", "for", "discussion", ".", "simply", "using", "map", "array", "method", "with", "es6", "syntax", ":", "<", "tbody", ">", "{", "items.map", "(", "item", "=", ">", "<", "objectrow", "key=", "{", "item.id", "}", "name=", "{", "item.name", "}", "/", ">", ")", "}", "<", "/tbody", ">", "do", "n't", "forget", "the", "key", "property", ".", "using", "array", "map", "function", "is", "a", "very", "common", "way", "to", "loop", "through", "an", "array", "of", "elements", "and", "create", "components", "according", "to", "them", "in", "react", ",", "this", "is", "a", "great", "way", "to", "do", "a", "loop", "which", "is", "a", "pretty", "efficient", "and", "tidy", "way", "to", "do", "your", "loops", "in", "jsx", ",", "it", "'s", "not", "the", "only", "way", "to", "do", "it", ",", "but", "the", "preferred", "way", ".", "also", ",", "do", "n't", "forget", "having", "a", "unique", "key", "for", "each", "iteration", "as", "required", ".", "map", "function", "creates", "a", "unique", "index", "from", "0", "but", "it", "'s", "not", "recommended", "using", "the", "produced", "index", "but", "if", "your", "value", "is", "unique", "or", "if", "there", "is", "a", "unique", "key", ",", "you", "can", "use", "them", ":", "<", "tbody", ">", "{", "numrows.map", "(", "x=", ">", "<", "objectrow", "key=", "{", "x.id", "}", "/", ">", ")", "}", "<", "/tbody", ">", "also", ",", "few", "lines", "from", "mdn", "if", "you", "not", "familiar", "with", "map", "function", "on", "array", ":", "map", "calls", "a", "provided", "callback", "function", "once", "for", "each", "element", "in", "an", "array", ",", "in", "order", ",", "and", "constructs", "a", "new", "array", "from", "the", "results", ".", "callback", "is", "invoked", "only", "for", "indexes", "of", "the", "array", "which", "have", "assigned", "values", ",", "including", "undefined", ".", "it", "is", "not", "called", "for", "missing", "elements", "of", "the", "array", "(", "that", "is", ",", "indexes", "that", "have", "never", "been", "set", ",", "which", "have", "been", "deleted", "or", "which", "have", "never", "been", "assigned", "a", "value", ")", ".", "callback", "is", "invoked", "with", "three", "arguments", ":", "the", "value", "of", "the", "element", ",", "the", "index", "of", "the", "element", ",", "and", "the", "array", "object", "being", "traversed", ".", "if", "a", "thisarg", "parameter", "is", "provided", "to", "the", "map", ",", "it", "will", "be", "used", "as", "callback", "'s", "this", "value", ".", "otherwise", ",", "the", "value", "undefined", "will", "be", "used", "as", "its", "this", "value", ".", "this", "value", "ultimately", "observable", "by", "the", "callback", "is", "determined", "according", "to", "the", "usual", "rules", "for", "determining", "the", "this", "seen", "by", "a", "function", ".", "map", "does", "not", "mutate", "the", "array", "on", "which", "it", "is", "called", "(", "although", "callback", ",", "if", "invoked", ",", "may", "do", "so", ")", ".", "if", "you", "'re", "already", "using", "lodash", ",", "the", "_.times", "function", "is", "handy", ".", "import", "react", ",", "{", "component", "}", "from", "``", "react", "''", ";", "import", "select", "from", "``", "./select", "''", ";", "import", "_", "from", "``", "lodash", "''", ";", "export", "default", "class", "app", "extends", "component", "{", "render", "(", ")", "{", "return", "(", "<", "div", "classname=", "''", "container", "''", ">", "<", "ol", ">", "{", "_.times", "(", "3", ",", "(", "i", ")", "=", ">", "(", "<", "li", "key=", "{", "i", "}", ">", "<", "select", "onselect=", "{", "this.onselect", "}", ">", "<", "option", "value=", "''", "1", "''", ">", "bacon", "<", "/option", ">", "<", "option", "value=", "''", "2", "''", ">", "cheez", "<", "/option", ">", "<", "/select", ">", "<", "/li", ">", ")", ")", "}", "<", "/ol", ">", "<", "/div", ">", ")", ";", "}", "}", "you", "can", "also", "extract", "outside", "the", "return", "block", ":", "render", ":", "function", "(", ")", "{", "var", "rows", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "(", "<", "tbody", ">", "{", "rows", "}", "<", "/tbody", ">", ")", ";", "}", "i", "know", "this", "is", "an", "old", "thread", ",", "but", "you", "might", "want", "to", "checkout", "react", "templates", ",", "which", "does", "let", "you", "use", "jsx-style", "templates", "in", "react", ",", "with", "a", "few", "directives", "(", "such", "as", "rt-repeat", ")", ".", "your", "example", ",", "if", "you", "used", "react-templates", ",", "would", "be", ":", "<", "tbody", ">", "<", "objectrow", "rt-repeat=", "''", "obj", "in", "objects", "''", "/", ">", "<", "/tbody", ">", "there", "are", "multiple", "ways", "to", "go", "about", "doing", "this", ".", "jsx", "eventually", "gets", "compiled", "to", "javascript", ",", "so", "as", "long", "as", "you", "'re", "writing", "valid", "javascript", ",", "you", "'ll", "be", "good", ".", "my", "answer", "aims", "to", "consolidate", "all", "the", "wonderful", "ways", "already", "presented", "here", ":", "if", "you", "do", "not", "have", "an", "array", "of", "object", ",", "simply", "the", "number", "of", "rows", ":", "within", "the", "return", "block", ",", "creating", "an", "array", "and", "using", "array.prototype.map", ":", "render", "(", ")", "{", "return", "(", "<", "tbody", ">", "{", "array", "(", "numrows", ")", ".fill", "(", "null", ")", ".map", "(", "(", "value", ",", "index", ")", "=", ">", "(", "<", "objectrow", "key=", "{", "index", "}", ">", ")", ")", "}", "<", "/tbody", ">", ")", ";", "}", "outside", "the", "return", "block", ",", "simply", "use", "a", "normal", "javascript", "for-loop", ":", "render", "(", ")", "{", "let", "rows", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "(", "<", "tbody", ">", "{", "rows", "}", "<", "/tbody", ">", ")", ";", "}", "immediately", "invoked", "function", "expression", ":", "render", "(", ")", "{", "return", "(", "<", "tbody", ">", "{", "(", ")", "=", ">", "{", "let", "rows", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", ";", "}", "return", "rows", ";", "}", "}", "<", "/tbody", ">", ")", ";", "}", "if", "you", "have", "an", "array", "of", "objects", "within", "the", "return", "block", ",", ".map", "(", ")", "each", "object", "to", "a", "<", "objectrow", ">", "component", ":", "render", "(", ")", "{", "return", "(", "<", "tbody", ">", "{", "objectrows.map", "(", "(", "row", ",", "index", ")", "=", ">", "(", "<", "objectrow", "key=", "{", "index", "}", "data=", "{", "row", "}", "/", ">", ")", ")", "}", "<", "/tbody", ">", ")", ";", "}", "outside", "the", "return", "block", ",", "simply", "use", "a", "normal", "javascript", "for-loop", ":", "render", "(", ")", "{", "let", "rows", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "objectrows.length", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "data=", "{", "objectrows", "[", "i", "]", "}", "/", ">", ")", ";", "}", "return", "(", "<", "tbody", ">", "{", "rows", "}", "<", "/tbody", ">", ")", ";", "}", "immediately", "invoked", "function", "expression", ":", "render", "(", ")", "{", "return", "(", "<", "tbody", ">", "{", "(", "(", ")", "=", ">", "{", "const", "rows", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "objectrows.length", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow", "key=", "{", "i", "}", "data=", "{", "objectrows", "[", "i", "]", "}", "/", ">", ")", ";", "}", "return", "rows", ";", "}", ")", "(", ")", "}", "<", "/tbody", ">", ")", ";", "}", "if", "numrows", "is", "a", "array", ",", "and", "it", "'s", "very", "simple", ".", "<", "tbody", ">", "{", "numrows.map", "(", "item", "=", ">", "<", "objectrow", "/", ">", ")", "}", "<", "/tbody", ">", "array", "data", "type", "in", "react", "is", "very", "better", ",", "array", "can", "back", "new", "array", ",", "and", "support", "filter", ",", "reduce", "etc", ".", "there", "are", "several", "answers", "pointing", "to", "using", "the", "map", "statement", ".", "here", "is", "a", "complete", "example", "using", "an", "iterator", "within", "the", "featurelist", "component", "to", "list", "feature", "components", "based", "on", "a", "json", "data", "structure", "called", "features", ".", "const", "featurelist", "=", "(", "{", "features", ",", "onclickfeature", ",", "onclicklikes", "}", ")", "=", ">", "(", "<", "div", "classname=", "''", "feature-list", "''", ">", "{", "features.map", "(", "feature", "=", ">", "<", "feature", "key=", "{", "feature.id", "}", "{", "...", "feature", "}", "onclickfeature=", "{", "(", ")", "=", ">", "onclickfeature", "(", "feature.id", ")", "}", "onclicklikes=", "{", "(", ")", "=", ">", "onclicklikes", "(", "feature.id", ")", "}", "/", ">", ")", "}", "<", "/div", ">", ")", ";", "you", "can", "view", "the", "complete", "featurelist", "code", "on", "github", ".", "the", "features", "fixture", "is", "listed", "here", ".", "to", "loop", "for", "a", "number", "of", "times", "and", "return", ",", "you", "can", "achieve", "it", "with", "the", "help", "of", "from", "and", "map", ":", "<", "tbody", ">", "{", "array.from", "(", "array", "(", "i", ")", ")", ".map", "(", "(", ")", "=", ">", "<", "objectrow", "/", ">", ")", "}", "<", "/tbody", ">", "where", "i", "=", "number", "of", "times", "if", "you", "want", "to", "assign", "unique", "key", "ids", "into", "the", "rendered", "components", ",", "you", "can", "use", "react.children.toarray", "as", "proposed", "in", "the", "react", "documentation", "react.children.toarray", "returns", "the", "children", "opaque", "data", "structure", "as", "a", "flat", "array", "with", "keys", "assigned", "to", "each", "child", ".", "useful", "if", "you", "want", "to", "manipulate", "collections", "of", "children", "in", "your", "render", "methods", ",", "especially", "if", "you", "want", "to", "reorder", "or", "slice", "this.props.children", "before", "passing", "it", "down", ".", "note", ":", "react.children.toarray", "(", ")", "changes", "keys", "to", "preserve", "the", "semantics", "of", "nested", "arrays", "when", "flattening", "lists", "of", "children", ".", "that", "is", ",", "toarray", "prefixes", "each", "key", "in", "the", "returned", "array", "so", "that", "each", "element", "\u2019", "s", "key", "is", "scoped", "to", "the", "input", "array", "containing", "it", ".", "<", "tbody", ">", "{", "react.children.toarray", "(", "array.from", "(", "array", "(", "i", ")", ")", ".map", "(", "(", ")", "=", ">", "<", "objectrow", "/", ">", ")", ")", "}", "<", "/tbody", ">", "let", "us", "say", "we", "have", "an", "array", "of", "items", "in", "your", "state", ":", "[", "{", "name", ":", "``", "item1", "''", ",", "id", ":", "1", "}", ",", "{", "name", ":", "``", "item2", "''", ",", "id", ":", "2", "}", ",", "{", "name", ":", "``", "item3", "''", ",", "id", ":", "3", "}", "]", "<", "tbody", ">", "{", "this.state.items.map", "(", "(", "item", ")", "=", ">", "{", "<", "objectrow", "key=", "{", "item.id", "}", "name=", "{", "item.name", "}", "/", ">", "}", ")", "}", "<", "/tbody", ">", "if", "you", "opt", "to", "convert", "this", "inside", "return", "(", ")", "of", "render", "method", ",", "easiest", "option", "would", "be", "using", "map", "(", ")", "method", ".", "map", "your", "array", "into", "jsx", "syntax", "using", "map", "(", ")", "function", ",", "as", "shown", "below", "(", "es6", "syntax", "is", "used", ")", ".", "inside", "parent", "component", ":", "<", "tbody", ">", "{", "objectarray.map", "(", "object", "=", ">", "<", "objectrow", "key=", "{", "object.id", "}", "object=", "{", "object.value", "}", ">", ")", "}", "<", "/tbody", ">", "please", "note", "the", "key", "attribute", "added", "to", "your", "child", "component", ".", "if", "you", "did", "n't", "provide", "a", "key", "attribute", ",", "you", "can", "see", "the", "following", "warning", "on", "your", "console", ".", "warning", ":", "each", "child", "in", "an", "array", "or", "iterator", "should", "have", "a", "unique", "``", "key", "''", "prop", ".", "note", ":", "one", "common", "mistake", "people", "do", "is", "using", "index", "as", "key", "when", "iterating", ",", "using", "index", "of", "the", "element", "as", "a", "key", "is", "an", "anti-pattern", "and", "you", "can", "read", "more", "about", "it", "here", ".", "in", "short", ",", "if", "it", "'s", "not", "a", "static", "list", "never", "use", "index", "as", "key", ".", "now", "at", "the", "objectrow", "component", ",", "you", "can", "access", "the", "object", "from", "its", "properties", ".", "inside", "objectrow", "component", "const", "{", "object", "}", "=", "this.props", "or", "const", "object", "=", "this.props.object", "this", "should", "fetch", "you", "the", "object", "you", "passed", "from", "parent", "component", "to", "the", "variable", "object", "in", "objectrow", "component", ".", "now", "you", "can", "spit", "out", "the", "values", "in", "that", "object", "according", "to", "your", "purpose", ".", "references", ":", "map", "(", ")", "method", "in", "javascript", "ecma", "script", "6", "or", "es6", "an", "es2015", "/", "babel", "possibility", "is", "using", "a", "generator", "function", "to", "create", "an", "array", "of", "jsx", ":", "function", "*", "jsxloop", "(", "times", ",", "callback", ")", "{", "for", "(", "var", "i", "=", "0", ";", "i", "<", "times", ";", "++i", ")", "yield", "callback", "(", "i", ")", ";", "}", "...", "<", "tbody", ">", "{", "[", "...", "jsxloop", "(", "numrows", ",", "i", "=", ">", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "]", "}", "<", "/tbody", ">", "...", "or", "you", "can", "also", "prepare", "an", "array", "of", "objects", "and", "map", "it", "to", "a", "function", "to", "have", "the", "desired", "output", ".", "i", "prefer", "this", ",", "because", "it", "helps", "me", "to", "maintain", "the", "good", "practice", "of", "coding", "with", "no", "logic", "inside", "the", "return", "of", "render", ".", "render", "(", ")", "{", "const", "mapitem", "=", "[", "]", ";", "for", "(", "let", "i", "=0", ";", "i", "<", "item.length", ";", "i++", ")", "mapitem.push", "(", "i", ")", ";", "const", "singleitem", "=", ">", "(", "item", ",", "index", ")", "{", "//", "item", "the", "single", "item", "in", "the", "array", "//", "the", "index", "of", "the", "item", "in", "the", "array", "//", "can", "implement", "any", "logic", "here", "return", "(", "<", "objectrow/", ">", ")", "}", "return", "(", "<", "tbody", ">", "{", "mapitem.map", "(", "singleitem", ")", "}", "<", "/tbody", ">", ")", "}", "simply", "use", ".map", "(", ")", "to", "loop", "through", "your", "collection", "and", "return", "<", "objectrow", ">", "items", "with", "props", "from", "each", "iteration", ".", "assuming", "objects", "is", "an", "array", "somewhere", "...", "<", "tbody", ">", "{", "objects.map", "(", "(", "obj", ",", "index", ")", "=", ">", "<", "objectrow", "obj=", "{", "obj", "}", "key=", "{", "index", "}", "/", ">", ")", "}", "<", "/tbody", ">", "es2015", "array.from", "with", "the", "map", "function", "+", "key", "if", "you", "have", "nothing", "to", ".map", "(", ")", "you", "can", "use", "array.from", "(", ")", "with", "the", "map", "function", "to", "repeat", "elements", ":", "<", "tbody", ">", "{", "array.from", "(", "{", "length", ":", "5", "}", ",", "(", "value", ",", "key", ")", "=", ">", "<", "objectrow", "key=", "{", "key", "}", "/", ">", ")", "}", "<", "/tbody", ">", "i", "use", "this", ":", "griditems", "=", "this.state.applications.map", "(", "app", "=", ">", "<", "applicationitem", "key=", "{", "app.id", "}", "app=", "{", "app", "}", "/", ">", ")", ";", "ps", ":", "never", "forget", "the", "key", "or", "you", "will", "have", "a", "lot", "of", "warnings", "!", "i", "tend", "to", "favor", "an", "approach", "where", "programming", "logic", "happens", "outside", "the", "return", "value", "of", "render", ".", "this", "helps", "keep", "what", "is", "actually", "rendered", "easy", "to", "grok", ".", "so", "i", "'d", "probably", "do", "something", "like", ":", "import", "_", "from", "'lodash", "'", ";", "...", "const", "tablebody", "=", "(", "{", "objects", "}", ")", "=", ">", "{", "const", "objectrows", "=", "objects.map", "(", "obj", "=", ">", "<", "objectrow", "object=", "{", "obj", "}", "/", ">", ")", ";", "return", "<", "tbody", ">", "{", "objectrows", "}", "<", "/tbody", ">", ";", "}", "admittedly", "this", "is", "such", "a", "small", "amount", "of", "code", "that", "inlining", "it", "might", "work", "fine", ".", "you", "can", "of", "course", "solve", "with", "a", ".map", "as", "suggested", "by", "the", "other", "answer", ".", "if", "you", "already", "use", "babel", ",", "you", "could", "think", "about", "using", "jsx-control-statements", "they", "require", "a", "little", "of", "setting", ",", "but", "i", "think", "it", "'s", "worth", "in", "terms", "of", "readability", "(", "especially", "for", "non-react", "developer", ")", ".", "if", "you", "use", "a", "linter", ",", "there", "'s", "also", "eslint-plugin-jsx-control-statements", "your", "jsx", "code", "will", "compile", "into", "pure", "javascript", "code", ",", "any", "tags", "will", "be", "replaced", "by", "reactelement", "objects", ".", "in", "javascript", ",", "you", "can", "not", "call", "a", "function", "multiple", "times", "to", "collect", "their", "returned", "variables", ".", "it", "is", "illegal", ",", "the", "only", "way", "is", "to", "use", "an", "array", "to", "store", "the", "function", "returned", "variables", ".", "or", "you", "can", "use", "array.prototype.map", "which", "is", "available", "since", "javascript", "es5", "to", "handle", "this", "situation", ".", "maybe", "we", "can", "write", "other", "compiler", "to", "recreate", "a", "new", "jsx", "syntax", "to", "implement", "a", "repeat", "function", "just", "like", "angular", "'s", "ng-repeat", ".", "this", "can", "be", "done", "in", "multple", "ways", ".", "as", "suggested", "above", ",", "before", "return", "store", "all", "elements", "in", "the", "array", "loop", "inside", "return", "method", "1", "let", "container", "=", "[", "]", ";", "let", "arr", "=", "[", "1,2,3", "]", "//can", "be", "anything", "array", ",", "object", "arr.foreach", "(", "(", "val", ",", "index", ")", "=", ">", "{", "container.push", "(", "<", "div", "key=", "{", "index", "}", ">", "val", "<", "/div", ">", ")", "/", "*", "*", "*", "1.", "all", "loop", "generated", "elements", "require", "a", "key", "*", "2.", "only", "one", "parent", "element", "can", "be", "placed", "in", "array", "*", "e.g", ".", "container.push", "(", "<", "div", "key=", "{", "index", "}", ">", "val", "<", "/div", ">", "<", "div", ">", "this", "will", "throw", "error", "<", "/div", ">", ")", "*", "*", "/", "}", ")", ";", "return", "(", "<", "div", ">", "<", "div", ">", "any", "things", "goes", "here", "<", "/div", ">", "<", "div", ">", "{", "container", "}", "<", "/div", ">", "<", "/div", ">", ")", "method", "2", "return", "(", "<", "div", ">", "<", "div", ">", "any", "things", "goes", "here", "<", "/div", ">", "<", "div", ">", "{", "(", "(", ")", "=", ">", "{", "let", "container", "=", "[", "]", ";", "let", "arr", "=", "[", "1,2,3", "]", "//can", "be", "anything", "array", ",", "object", "arr.foreach", "(", "(", "val", ",", "index", ")", "=", ">", "{", "container.push", "(", "<", "div", "key=", "{", "index", "}", ">", "val", "<", "/div", ">", ")", "}", ")", ";", "return", "container", ";", "}", ")", "(", ")", "}", "<", "/div", ">", "<", "/div", ">", ")", "here", "'s", "a", "simple", "solution", "to", "it", ".", "var", "object_rows", "=", "[", "]", ";", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "object_rows.push", "(", "<", "objectrow", "/", ">", ")", ";", "}", "<", "tbody", ">", "{", "object_rows", "}", "<", "/tbody", ">", ";", "no", "mapping", "and", "complex", "code", "required", ".", "you", "just", "need", "to", "push", "the", "rows", "to", "the", "array", "and", "return", "the", "values", "to", "render", "it", ".", "since", "you", "are", "writing", "javascript", "syntax", "inside", "jsx", "code", ",", "you", "need", "to", "wrap", "your", "javascript", "in", "curly", "braces", ".", "row", "=", "(", ")", "=", ">", "{", "var", "rows", "=", "[", "]", ";", "for", "(", "let", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "rows.push", "(", "<", "objectrow/", ">", ")", ";", "}", "return", "rows", ";", "}", "<", "tbody", ">", "{", "this.row", "(", ")", "}", "<", "/tbody", ">", "you", "can", "also", "use", "a", "self-invoking", "function", ":", "return", "<", "tbody", ">", "{", "(", "(", ")", "=", ">", "{", "let", "row", "=", "[", "]", "for", "(", "var", "i", "=", "0", ";", "i", "<", "numrows", ";", "i++", ")", "{", "row.push", "(", "<", "objectrow", "key=", "{", "i", "}", "/", ">", ")", "}", "return", "row", "}", ")", "(", ")", "}", "<", "/tbody", ">", "here", "is", "a", "sample", "from", "react", "doc", ":", "javascript", "expressions", "as", "children", "function", "item", "(", "props", ")", "{", "return", "<", "li", ">", "{", "props.message", "}", "<", "/li", ">", ";", "}", "function", "todolist", "(", ")", "{", "const", "todos", "=", "[", "'finish", "doc", "'", ",", "'submit", "pr", "'", ",", "'nag", "dan", "to", "review", "'", "]", ";", "return", "(", "<", "ul", ">", "{", "todos.map", "(", "(", "message", ")", "=", ">", "<", "item", "key=", "{", "message", "}", "message=", "{", "message", "}", "/", ">", ")", "}", "<", "/ul", ">", ")", ";", "}", "as", "your", "case", ",", "i", "suggest", "writing", "like", "this", ":", "function", "render", "(", ")", "{", "return", "(", "<", "tbody", ">", "{", "numrows.map", "(", "(", "roe", ",", "index", ")", "=", ">", "<", "objectrow", "key=", "{", "index", "}", "/", ">", ")", "}", "<", "/tbody", ">", ")", ";", "}", "please", "notice", "the", "key", "is", "very", "important", ",", "because", "react", "use", "key", "to", "differ", "data", "in", "array", ".", "i", "use", "it", "like", "<", "tbody", ">", "{", "numrows", "?", "(", "numrows.map", "(", "obj", "=", ">", "{", "return", "<", "objectrow", "/", ">", "}", ")", ")", ":", "null", "}", "<", "/tbody", ">", "you", "can", "do", "something", "like", ":", "let", "foo", "=", "[", "1", ",", "undefined,3", "]", "{", "foo.map", "(", "e", "=", ">", "!", "!", "e", "?", "<", "object", "/", ">", ":", "null", ")", "}", "great", "question", ".", "what", "i", "do", "when", "i", "want", "to", "add", "a", "certain", "number", "of", "components", "is", "use", "a", "helper", "function", ".", "define", "a", "function", "that", "returns", "jsx", ":", "const", "myexample", "=", "(", ")", "=", ">", "{", "let", "myarray", "=", "[", "]", "for", "(", "let", "i", "=", "0", ";", "i", "<", "5", ";", "i++", ")", "{", "myarray.push", "(", "<", "mycomponent/", ">", ")", "}", "return", "myarray", "}", "//", "...", "in", "jsx", "<", "tbody", ">", "{", "myexample", "(", ")", "}", "<", "/tbody", ">", "when", "a", "react", "component", "state", "changes", ",", "the", "render", "method", "is", "called", ".", "hence", "for", "any", "state", "change", ",", "an", "action", "can", "be", "performed", "in", "the", "render", "methods", "body", ".", "is", "there", "a", "particular", "use", "case", "for", "the", "setstate", "callback", "then", "?", "yes", "there", "is", ",", "since", "setstate", "works", "in", "an", "asynchronous", "way", ".", "that", "means", "after", "calling", "setstate", "the", "this.state", "variable", "is", "not", "immediately", "changed", ".", "so", "if", "you", "want", "to", "perform", "an", "action", "immediately", "after", "setting", "state", "on", "a", "state", "variable", "and", "then", "return", "a", "result", ",", "a", "callback", "will", "be", "useful", "consider", "the", "example", "below", "....", "changetitle", ":", "function", "changetitle", "(", "event", ")", "{", "this.setstate", "(", "{", "title", ":", "event.target.value", "}", ")", ";", "this.validatetitle", "(", ")", ";", "}", ",", "validatetitle", ":", "function", "validatetitle", "(", ")", "{", "if", "(", "this.state.title.length", "===", "0", ")", "{", "this.setstate", "(", "{", "titleerror", ":", "``", "title", "ca", "n't", "be", "blank", "''", "}", ")", ";", "}", "}", ",", "....", "the", "above", "code", "may", "not", "work", "as", "expected", "since", "the", "title", "variable", "may", "not", "have", "mutated", "before", "validation", "is", "performed", "on", "it", ".", "now", "you", "may", "wonder", "that", "we", "can", "perform", "the", "validation", "in", "the", "render", "(", ")", "function", "itself", "but", "it", "would", "be", "better", "and", "a", "cleaner", "way", "if", "we", "can", "handle", "this", "in", "the", "changetitle", "function", "itself", "since", "that", "would", "make", "your", "code", "more", "organised", "and", "understandable", "in", "this", "case", "callback", "is", "useful", "....", "changetitle", ":", "function", "changetitle", "(", "event", ")", "{", "this.setstate", "(", "{", "title", ":", "event.target.value", "}", ",", "function", "(", ")", "{", "this.validatetitle", "(", ")", ";", "}", ")", ";", "}", ",", "validatetitle", ":", "function", "validatetitle", "(", ")", "{", "if", "(", "this.state.title.length", "===", "0", ")", "{", "this.setstate", "(", "{", "titleerror", ":", "``", "title", "ca", "n't", "be", "blank", "''", "}", ")", ";", "}", "}", ",", "....", "another", "example", "will", "be", "when", "you", "want", "to", "dispatch", "and", "action", "when", "the", "state", "changed", ".", "you", "will", "want", "to", "do", "it", "in", "a", "callback", "and", "not", "the", "render", "(", ")", "as", "it", "will", "be", "called", "everytime", "rerendering", "occurs", "and", "hence", "many", "such", "scenarios", "are", "possible", "where", "you", "will", "need", "callback", ".", "another", "case", "is", "a", "api", "call", "a", "case", "may", "arise", "when", "you", "need", "to", "make", "an", "api", "call", "based", "on", "a", "particular", "state", "change", ",", "if", "you", "do", "that", "in", "the", "render", "method", ",", "it", "will", "be", "called", "on", "every", "render", "onstate", "change", "or", "because", "some", "prop", "passed", "down", "to", "the", "child", "component", "changed", ".", "in", "this", "case", "you", "would", "want", "to", "use", "a", "setstate", "callback", "to", "pass", "the", "updated", "state", "value", "to", "the", "api", "call", "....", "changetitle", ":", "function", "(", "event", ")", "{", "this.setstate", "(", "{", "title", ":", "event.target.value", "}", ",", "(", ")", "=", ">", "this.apicallfunction", "(", ")", ")", ";", "}", ",", "apicallfunction", ":", "function", "(", ")", "{", "//", "call", "api", "with", "the", "updated", "value", "}", "....", "this.setstate", "(", "{", "name", ":", "'value", "'", "}", ",", "(", ")", "=", ">", "{", "console.log", "(", "this.state.name", ")", ";", "}", ")", ";", "the", "1.", "usecase", "which", "comes", "into", "my", "mind", ",", "is", "an", "api", "call", ",", "which", "should't", "go", "into", "the", "render", ",", "because", "it", "will", "run", "for", "each", "state", "change", ".", "and", "the", "api", "call", "should", "be", "only", "performed", "on", "special", "state", "change", ",", "and", "not", "on", "every", "render", ".", "changesearchparams", "=", "(", "params", ")", "=", ">", "{", "this.setstate", "(", "{", "params", "}", ",", "this.performsearch", ")", "}", "performsearch", "=", "(", ")", "=", ">", "{", "api.search", "(", "this.state.params", ",", "(", "result", ")", "=", ">", "{", "this.setstate", "(", "{", "result", "}", ")", "}", ")", ";", "}", "hence", "for", "any", "state", "change", ",", "an", "action", "can", "be", "performed", "in", "the", "render", "methods", "body", ".", "very", "bad", "practice", ",", "because", "the", "render-method", "should", "be", "pure", ",", "it", "means", "no", "actions", ",", "state", "changes", ",", "api", "calls", ",", "should", "be", "performed", ",", "just", "composite", "your", "view", "and", "return", "it", ".", "actions", "should", "be", "performed", "on", "some", "events", "only", ".", "render", "is", "not", "an", "event", ",", "but", "componentdidmount", "for", "example", ".", "consider", "setstate", "call", "this.setstate", "(", "{", "counter", ":", "this.state.counter", "+", "1", "}", ")", "idea", "setstate", "may", "be", "called", "in", "async", "function", "so", "you", "can", "not", "rely", "on", "this", ".", "if", "the", "above", "call", "was", "made", "inside", "a", "async", "function", "this", "will", "refer", "to", "state", "of", "component", "at", "that", "point", "of", "time", "but", "we", "expected", "this", "to", "refer", "to", "property", "inside", "state", "at", "time", "setstate", "calling", "or", "beginning", "of", "async", "task", ".", "and", "as", "task", "was", "async", "call", "thus", "that", "property", "may", "have", "changed", "in", "time", "being", ".", "thus", "it", "is", "unreliable", "to", "use", "this", "keyword", "to", "refer", "to", "some", "property", "of", "state", "thus", "we", "use", "callback", "function", "whose", "arguments", "are", "previousstate", "and", "props", "which", "means", "when", "async", "task", "was", "done", "and", "it", "was", "time", "to", "update", "state", "using", "setstate", "call", "prevstate", "will", "refer", "to", "state", "now", "when", "setstate", "has", "not", "started", "yet", ".", "ensuring", "reliability", "that", "nextstate", "would", "not", "be", "corrupted", ".", "wrong", "code", ":", "would", "lead", "to", "corruption", "of", "data", "this.setstate", "(", "{", "counter", ":", "this.state.counter+1", "}", ")", ";", "correct", "code", "with", "setstate", "having", "call", "back", "function", ":", "this.setstate", "(", "(", "prevstate", ",", "props", ")", "=", ">", "{", "return", "{", "counter", ":", "prevstate.counter+1", "}", ";", "}", ")", ";", "thus", "whenever", "we", "need", "to", "update", "our", "current", "state", "to", "next", "state", "based", "on", "value", "possed", "by", "property", "just", "now", "and", "all", "this", "is", "happening", "in", "async", "fashion", "it", "is", "good", "idea", "to", "use", "setstate", "as", "callback", "function", ".", "i", "have", "tried", "to", "explain", "it", "in", "codepen", "here", "code", "pen", "what", "does", "the", "...", "do", "in", "this", "react", "(", "using", "jsx", ")", "code", "and", "what", "is", "it", "called", "?", "<", "modal", "{", "...", "this.props", "}", "title='modal", "heading", "'", "animation=", "{", "false", "}", ">", "that", "'s", "property", "spread", "notation", ".", "it", "was", "added", "in", "es2018", "(", "spread", "for", "arrays/iterables", "was", "earlier", ",", "es2015", ")", ",", "but", "it", "'s", "been", "supported", "in", "react", "projects", "for", "a", "long", "time", "via", "transpilation", "(", "as", "``", "jsx", "spread", "attributes", "''", "even", "though", "you", "could", "do", "it", "elsewhere", ",", "too", ",", "not", "just", "attributes", ")", ".", "{", "...", "this.props", "}", "spreads", "out", "the", "``", "own", "''", "enumerable", "properties", "in", "props", "as", "discrete", "properties", "on", "the", "modal", "element", "you", "'re", "creating", ".", "for", "instance", ",", "if", "this.props", "contained", "a", ":", "1", "and", "b", ":", "2", ",", "then", "<", "modal", "{", "...", "this.props", "}", "title='modal", "heading", "'", "animation=", "{", "false", "}", ">", "would", "be", "the", "same", "as", "<", "modal", "a=", "{", "this.props.a", "}", "b=", "{", "this.props.b", "}", "title='modal", "heading", "'", "animation=", "{", "false", "}", ">", "but", "it", "'s", "dynamic", ",", "so", "whatever", "``", "own", "''", "properties", "are", "in", "props", "are", "included", ".", "since", "children", "is", "an", "``", "own", "''", "property", "in", "props", ",", "spread", "will", "include", "it", ".", "so", "if", "the", "component", "where", "this", "appears", "had", "child", "elements", ",", "they", "'ll", "be", "passed", "on", "to", "modal", ".", "putting", "child", "elements", "between", "the", "opening", "tag", "and", "closing", "tags", "is", "just", "syntactic", "sugar", "\u2014", "the", "good", "kind", "\u2014", "for", "putting", "a", "children", "property", "in", "the", "opening", "tag", ".", "example", ":", "class", "example", "extends", "react.component", "{", "render", "(", ")", "{", "const", "{", "classname", ",", "children", "}", "=", "this.props", ";", "return", "(", "<", "div", "classname=", "{", "classname", "}", ">", "{", "children", "}", "<", "/div", ">", ")", ";", "}", "}", "reactdom.render", "(", "[", "<", "example", "classname=", "''", "first", "''", ">", "<", "span", ">", "child", "in", "first", "<", "/span", ">", "<", "/example", ">", ",", "<", "example", "classname=", "''", "second", "''", "children=", "{", "<", "span", ">", "child", "in", "second", "<", "/span", ">", "}", "/", ">", "]", ",", "document.getelementbyid", "(", "``", "root", "''", ")", ")", ";", ".first", "{", "color", ":", "green", ";", "}", ".second", "{", "color", ":", "blue", ";", "}", "<", "div", "id=", "''", "root", "''", ">", "<", "/div", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js", "''", ">", "<", "/script", ">", "<", "script", "src=", "''", "https", ":", "//cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js", "''", ">", "<", "/script", ">", "spread", "notation", "is", "handy", "not", "only", "for", "that", "use", "case", ",", "but", "for", "creating", "a", "new", "object", "with", "most", "(", "or", "all", ")", "of", "the", "properties", "of", "an", "existing", "object", "\u2014", "which", "comes", "up", "a", "lot", "when", "you", "'re", "updating", "state", ",", "since", "you", "ca", "n't", "modify", "state", "directly", ":", "this.setstate", "(", "prevstate", "=", ">", "{", "return", "{", "foo", ":", "{", "...", "prevstate.foo", ",", "a", ":", "``", "updated", "''", "}", "}", ";", "}", ")", ";", "that", "replaces", "this.state.foo", "with", "a", "new", "object", "with", "all", "the", "same", "properties", "as", "foo", "except", "the", "a", "property", ",", "which", "becomes", "``", "updated", "''", ":", "const", "obj", "=", "{", "foo", ":", "{", "a", ":", "1", ",", "b", ":", "2", ",", "c", ":", "3", "}", "}", ";", "console.log", "(", "``", "original", "''", ",", "obj.foo", ")", ";", "//", "creates", "a", "new", "object", "and", "assigns", "it", "to", "`", "obj.foo", "`", "obj.foo", "=", "{", "...", "obj.foo", ",", "a", ":", "``", "updated", "''", "}", ";", "console.log", "(", "``", "updated", "''", ",", "obj.foo", ")", ";", ".as-console-wrapper", "{", "max-height", ":", "100", "%", "!", "important", ";", "}", "as", "you", "know", "...", "are", "called", "spread", "attributes", "which", "the", "name", "represents", "it", "allows", "an", "expression", "to", "be", "expanded", ".", "var", "parts", "=", "[", "'two", "'", ",", "'three", "'", "]", ";", "var", "numbers", "=", "[", "'one", "'", ",", "...", "parts", ",", "'four", "'", ",", "'five", "'", "]", ";", "//", "[", "``", "one", "''", ",", "``", "two", "''", ",", "``", "three", "''", ",", "``", "four", "''", ",", "``", "five", "''", "]", "and", "in", "this", "case", "(", "i", "'m", "gon", "na", "simplify", "it", ")", ".", "//just", "assume", "we", "have", "an", "object", "like", "this", ":", "var", "person=", "{", "name", ":", "'alex", "'", ",", "age", ":", "35", "}", "this", ":", "<", "modal", "{", "...", "person", "}", "title='modal", "heading", "'", "animation=", "{", "false", "}", "/", ">", "is", "equal", "to", "<", "modal", "name=", "{", "person.name", "}", "age=", "{", "person.age", "}", "title='modal", "heading", "'", "animation=", "{", "false", "}", "/", ">", "so", "in", "short", ",", "it", "'s", "a", "neat", "short-cut", ",", "we", "can", "say", ".", "the", "three", "dots", "represent", "the", "spread", "operator", "in", "es6", ".", "it", "allows", "us", "to", "do", "quite", "a", "few", "things", "in", "javascript", ":", "concatenate", "arrays", "var", "shootergames", "=", "[", "'call", "of", "duty", "'", ",", "'far", "cry", "'", ",", "'resident", "evil", "'", "]", ";", "var", "racinggames", "=", "[", "'need", "for", "speed", "'", ",", "'gran", "turismo", "'", ",", "'burnout", "'", "]", ";", "var", "games", "=", "[", "...", "shootergames", ",", "...", "racinggames", "]", ";", "console.log", "(", "games", ")", "//", "[", "'call", "of", "duty", "'", ",", "'far", "cry", "'", ",", "'resident", "evil", "'", ",", "'need", "for", "speed", "'", ",", "'gran", "turismo", "'", ",", "'burnout", "'", "]", "destructuring", "an", "array", "var", "shootergames", "=", "[", "'call", "of", "duty", "'", ",", "'far", "cry", "'", ",", "'resident", "evil", "'", "]", ";", "var", "[", "first", ",", "...", "remaining", "]", "=", "shootergames", ";", "console.log", "(", "first", ")", ";", "//call", "of", "duty", "console.log", "(", "remaining", ")", ";", "//", "[", "'far", "cry", "'", ",", "'resident", "evil", "'", "]", "combining", "two", "objects", "var", "mycrush", "=", "{", "firstname", ":", "'selena", "'", ",", "middlename", ":", "'marie", "'", "}", ";", "var", "lastname", "=", "'my", "last", "name", "'", ";", "var", "mywife", "=", "{", "...", "mycrush", ",", "lastname", "}", "console.log", "(", "mywife", ")", ";", "//", "{", "firstname", ":", "'selena", "'", ",", "//", "middlename", ":", "'marie", "'", ",", "//", "lastname", ":", "'my", "last", "name", "'", "}", "there", "'s", "another", "use", "for", "the", "three", "dots", "which", "is", "known", "as", "rest", "parameters", "and", "it", "makes", "it", "possible", "to", "take", "all", "of", "the", "arguments", "to", "a", "function", "in", "as", "one", "array", ".", "function", "arguments", "as", "array", "function", "fun1", "(", "...", "params", ")", "{", "}", "the", "three", "dots", "in", "javascript", "are", "spread", "/", "rest", "operator", ".", "spread", "operator", "the", "spread", "syntax", "allows", "an", "expression", "to", "be", "expanded", "in", "places", "where", "multiple", "arguments", "are", "expected", ".", "myfunction", "(", "...", "iterableobj", ")", ";", "[", "...", "iterableobj", ",", "4", ",", "5", ",", "6", "]", "[", "...", "array", "(", "10", ")", "]", "rest", "parameters", "the", "rest", "parameter", "syntax", "is", "used", "for", "functions", "with", "variable", "number", "of", "arguments", ".", "function", "(", "a", ",", "b", ",", "...", "theargs", ")", "{", "//", "...", "}", "the", "spread", "/", "rest", "operator", "for", "arrays", "was", "introduced", "in", "es6", ".", "there", "'s", "a", "state", "2", "proposal", "for", "object", "spread", "/", "rest", "properties", ".", "typescript", "also", "supports", "the", "spread", "syntax", "and", "can", "transpile", "that", "into", "older", "versions", "of", "ecmascript", "with", "minor", "issues", ".", "this", "is", "a", "feature", "of", "es6", ",", "which", "is", "used", "in", "react", "as", "well", ".", "look", "at", "the", "below", "example", ":", "function", "sum", "(", "x", ",", "y", ",", "z", ")", "{", "return", "x", "+", "y", "+", "z", ";", "}", "console.log", "(", "sum", "(", "1,2,3", ")", ")", ";", "//6", "this", "way", "is", "fine", "if", "we", "have", "a", "maximum", "of", "3", "parameters", ".", "but", ",", "what", "if", "we", "need", "to", "add", "for", "example", "110", "parameters", ".", "should", "we", "define", "them", "all", "and", "add", "them", "one", "by", "one", "?", "of", "course", "there", "is", "an", "easier", "way", "to", "do", ",", "which", "is", "called", "spread", ".", "instead", "of", "passing", "all", "those", "parameters", "you", "write", ":", "function", "(", "...", "numbers", ")", "{", "}", "we", "have", "no", "idea", "how", "many", "parameters", "we", "have", ",", "but", "we", "know", "there", "are", "heaps", "of", "those", ".", "based", "on", "es6", ",", "we", "can", "rewrite", "the", "above", "function", "as", "below", "and", "use", "the", "spread", "and", "mapping", "between", "them", "to", "make", "it", "as", "easy", "as", "a", "piece", "of", "cake", ":", "let", "sum", "=", "(", "...", "numbers", ")", "=", ">", "{", "return", "numbers.reduce", "(", "(", "prev", ",", "current", ")", "=", ">", "prev", "+", "current", ")", ";", "}", "console.log", "(", "sum", "(", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", ",", "7", ",", "8", ",", "9", ")", ")", ";", "//45", "it", "'s", "just", "defining", "props", "in", "a", "different", "way", "in", "jsx", "for", "you", "!", "it", "'s", "using", "...", "array", "and", "object", "operator", "in", "es6", "(", "object", "one", "not", "fully", "supported", "yet", ")", ",", "so", "basically", "if", "you", "already", "define", "your", "props", ",", "you", "can", "pass", "it", "to", "your", "element", "this", "way", ".", "so", "in", "your", "case", ",", "the", "code", "should", "be", "something", "like", "this", ":", "function", "youra", "(", ")", "{", "const", "props", "=", "{", "name='alireza", "'", ",", "age='35", "'", "}", ";", "<", "modal", "{", "...", "props", "}", "title='modal", "heading", "'", "animation=", "{", "false", "}", "/", ">", "}", "so", "the", "props", "you", "defined", ",", "now", "separated", "and", "can", "be", "reused", "if", "necessary", ".", "it", "'s", "equal", "to", ":", "function", "youra", "(", ")", "{", "<", "modal", "name='alireza", "'", "age='35", "'", "title='modal", "heading", "'", "animation=", "{", "false", "}", "/", ">", "}", "these", "are", "the", "quotes", "from", "react", "team", "about", "spread", "operator", "in", "jsx", ":", "jsx", "spread", "attributes", "if", "you", "know", "all", "the", "properties", "that", "you", "want", "to", "place", "on", "a", "component", "ahead", "of", "time", ",", "it", "is", "easy", "to", "use", "jsx", ":", "var", "component", "=", "<", "component", "foo=", "{", "x", "}", "bar=", "{", "y", "}", "/", ">", ";", "mutating", "props", "is", "bad", "if", "you", "do", "n't", "know", "which", "properties", "you", "want", "to", "set", ",", "you", "might", "be", "tempted", "to", "add", "them", "onto", "the", "object", "later", ":", "var", "component", "=", "<", "component", "/", ">", ";", "component.props.foo", "=", "x", ";", "//", "bad", "component.props.bar", "=", "y", ";", "//", "also", "bad", "this", "is", "an", "anti-pattern", "because", "it", "means", "that", "we", "ca", "n't", "help", "you", "check", "the", "right", "proptypes", "until", "way", "later", ".", "this", "means", "that", "your", "proptypes", "errors", "end", "up", "with", "a", "cryptic", "stack", "trace", ".", "the", "props", "should", "be", "considered", "immutable", ".", "mutating", "the", "props", "object", "somewhere", "else", "could", "cause", "unexpected", "consequences", "so", "ideally", "it", "would", "be", "a", "frozen", "object", "at", "this", "point", ".", "spread", "attributes", "now", "you", "can", "use", "a", "new", "feature", "of", "jsx", "called", "spread", "attributes", ":", "var", "props", "=", "{", "}", ";", "props.foo", "=", "x", ";", "props.bar", "=", "y", ";", "var", "component", "=", "<", "component", "{", "...", "props", "}", "/", ">", ";", "the", "properties", "of", "the", "object", "that", "you", "pass", "in", "are", "copied", "onto", "the", "component", "'s", "props", ".", "you", "can", "use", "this", "multiple", "times", "or", "combine", "it", "with", "other", "attributes", ".", "the", "specification", "order", "is", "important", ".", "later", "attributes", "override", "previous", "ones", ".", "var", "props", "=", "{", "foo", ":", "'default", "'", "}", ";", "var", "component", "=", "<", "component", "{", "...", "props", "}", "foo=", "{", "'override", "'", "}", "/", ">", ";", "console.log", "(", "component.props.foo", ")", ";", "//", "'override", "'", "what", "'s", "with", "the", "weird", "...", "notation", "?", "the", "...", "operator", "(", "or", "spread", "operator", ")", "is", "already", "supported", "for", "arrays", "in", "es6", ".", "there", "is", "also", "an", "ecmascript", "proposal", "for", "object", "rest", "and", "spread", "properties", ".", "we", "'re", "taking", "advantage", "of", "these", "supported", "and", "developing", "standards", "in", "order", "to", "provide", "a", "cleaner", "syntax", "in", "jsx", ".", "for", "those", "who", "come", "from", "the", "python", "world", ",", "jsx", "spread", "attributes", "are", "equivalent", "to", "unpacking", "argument", "lists", "(", "the", "python", "*", "*", "-operator", ")", ".", "i", "'m", "aware", "this", "is", "a", "jsx", "question", ",", "but", "working", "with", "analogies", "sometimes", "helps", "to", "get", "it", "faster", ".", "three", "dots", "...", "represents", "spread", "operators", "or", "rest", "parameters", ",", "it", "allows", "an", "array", "expression", "or", "string", "or", "anything", "which", "can", "be", "iterating", "to", "be", "expanded", "in", "places", "where", "zero", "or", "more", "arguments", "for", "function", "calls", "or", "elements", "for", "array", "are", "expected", ".", "merge", "two", "arrays", "var", "arr1", "=", "[", "1,2,3", "]", ";", "var", "arr2", "=", "[", "4,5,6", "]", ";", "arr1", "=", "[", "...", "arr1", ",", "...", "arr2", "]", ";", "console.log", "(", "arr1", ")", ";", "//", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "copying", "array", ":", "var", "arr", "=", "[", "1", ",", "2", ",", "3", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "console.log", "(", "arr", ")", ";", "//", "[", "1", ",", "2", ",", "3", "]", "note", ":", "spread", "syntax", "effectively", "goes", "one", "level", "deep", "while", "copying", "an", "array", ".", "therefore", ",", "it", "may", "be", "unsuitable", "for", "copying", "multidimensional", "arrays", "as", "the", "following", "example", "shows", "(", "it", "'s", "the", "same", "with", "object.assign", "(", ")", "and", "spread", "syntax", ")", ".", "add", "values", "of", "one", "array", "to", "other", "at", "specific", "index", "e.g", "3", ":", "var", "arr1", "=", "[", "4,5", "]", "var", "arr2", "=", "[", "1,2,3", ",", "...", "arr1,6", "]", "console.log", "(", "arr2", ")", ";", "//", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "when", "calling", "a", "constructor", "with", "new", ":", "var", "datefields", "=", "[", "1970", ",", "0", ",", "1", "]", ";", "//", "1", "jan", "1970", "var", "d", "=", "new", "date", "(", "...", "datefields", ")", ";", "console.log", "(", "d", ")", ";", "spread", "in", "object", "literals", ":", "var", "obj1", "=", "{", "foo", ":", "'bar", "'", ",", "x", ":", "42", "}", ";", "var", "obj2", "=", "{", "foo", ":", "'baz", "'", ",", "y", ":", "13", "}", ";", "var", "clonedobj", "=", "{", "...", "obj1", "}", ";", "console.log", "(", "clonedobj", ")", ";", "//", "{", "foo", ":", "``", "bar", "''", ",", "x", ":", "42", "}", "var", "mergedobj", "=", "{", "...", "obj1", ",", "...", "obj2", "}", ";", "console.log", "(", "mergedobj", ")", ";", "//", "{", "foo", ":", "``", "baz", "''", ",", "x", ":", "42", ",", "y", ":", "13", "}", "note", "that", "foo", "property", "of", "obj1", "has", "been", "overwritten", "by", "obj2", "foo", "property", "as", "a", "rest", "parameter", "syntax", "which", "allows", "us", "to", "represent", "an", "indefinite", "number", "of", "arguments", "as", "an", "array", ":", "function", "sum", "(", "...", "theargs", ")", "{", "return", "theargs.reduce", "(", "(", "previous", ",", "current", ")", "=", ">", "{", "return", "previous", "+", "current", ";", "}", ")", ";", "}", "console.log", "(", "sum", "(", "1", ",", "2", ",", "3", ")", ")", ";", "//6", "console.log", "(", "sum", "(", "1", ",", "2", ",", "3", ",", "4", ")", ")", ";", "//10", "note", ":", "spread", "syntax", "(", "other", "than", "in", "the", "case", "of", "spread", "properties", ")", "can", "be", "applied", "only", "to", "iterable", "objects", ":", "so", "following", "will", "throw", "error", "var", "obj", "=", "{", "'key1", "'", ":", "'value1", "'", "}", ";", "var", "array", "=", "[", "...", "obj", "]", ";", "//", "typeerror", ":", "obj", "is", "not", "iterable", "reference1", "reference2", "the", "...", "(", "spread", "operator", ")", "is", "used", "in", "react", "to", ":", "provide", "a", "neat", "way", "to", "pass", "props", "from", "parent", "to", "child", "components", ".", "e.g", "given", "these", "props", "in", "a", "parent", "component", ",", "this.props", "=", "{", "username", ":", "``", "danm", "''", ",", "email", ":", "``", "dan", "@", "mail.com", "''", "}", "they", "could", "be", "passed", "in", "the", "following", "manner", "to", "the", "child", ",", "<", "childcomponent", "{", "...", "this.props", "}", "/", ">", "which", "is", "similar", "to", "this", "<", "childcomponent", "username=", "{", "this.props.username", "}", "email=", "{", "this.props.email", "}", "/", ">", "but", "way", "cleaner", ".", "kudos", "to", "brandon", "morelli", ".", "he", "explained", "perfectly", "here", ",", "but", "links", "may", "die", "so", "i", "am", "just", "pasting", "the", "content", "below", ":", "the", "spread", "syntax", "is", "simply", "three", "dots", ":", "...", "it", "allows", "an", "iterable", "to", "expand", "in", "places", "where", "0+", "arguments", "are", "expected", ".", "definitions", "are", "tough", "without", "context", ".", "let", "'s", "explore", "some", "different", "use", "cases", "to", "help", "understand", "what", "this", "means", ".", "example", "#", "1", "\u2014", "inserting", "arrays", "take", "a", "look", "at", "the", "code", "below", ".", "in", "this", "code", ",", "we", "don", "\u2019", "t", "use", "the", "spread", "syntax", ":", "var", "mid", "=", "[", "3", ",", "4", "]", ";", "var", "arr", "=", "[", "1", ",", "2", ",", "mid", ",", "5", ",", "6", "]", ";", "console.log", "(", "arr", ")", ";", "above", ",", "we", "\u2019", "ve", "created", "an", "array", "named", "mid", ".", "we", "then", "create", "a", "second", "array", "which", "contains", "our", "mid", "array", ".", "finally", ",", "we", "log", "out", "the", "result", ".", "what", "do", "you", "expect", "arr", "to", "print", "?", "click", "run", "above", "to", "see", "what", "happens", ".", "here", "is", "the", "output", ":", "[", "1", ",", "2", ",", "[", "3", ",", "4", "]", ",", "5", ",", "6", "]", "is", "that", "the", "result", "you", "expected", "?", "by", "inserting", "the", "mid", "array", "into", "the", "arr", "array", ",", "we", "\u2019", "ve", "ended", "up", "with", "an", "array", "within", "an", "array", ".", "that", "\u2019", "s", "fine", "if", "that", "was", "the", "goal", ".", "but", "what", "if", "you", "want", "only", "a", "single", "array", "with", "the", "values", "of", "1", "through", "6", "?", "to", "accomplish", "this", ",", "we", "can", "use", "the", "spread", "syntax", "!", "remember", ",", "the", "spread", "syntax", "allows", "the", "elements", "of", "our", "array", "to", "expand", ".", "lets", "look", "at", "the", "code", "below", ".", "everything", "is", "the", "same", "\u2014", "except", "we", "\u2019", "re", "now", "using", "the", "spread", "syntax", "to", "insert", "the", "mid", "array", "into", "the", "arr", "array", ":", "var", "mid", "=", "[", "3", ",", "4", "]", ";", "var", "arr", "=", "[", "1", ",", "2", ",", "...", "mid", ",", "5", ",", "6", "]", ";", "console.log", "(", "arr", ")", ";", "and", "when", "you", "hit", "the", "run", "button", ",", "here", "\u2019", "s", "the", "result", ":", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "awesome", "!", "remember", "the", "spread", "syntax", "definition", "you", "just", "read", "above", "?", "here", "\u2019", "s", "where", "it", "comes", "into", "play", ".", "as", "you", "can", "see", ",", "when", "we", "create", "the", "arr", "array", "and", "use", "the", "spread", "operator", "on", "the", "mid", "array", ",", "instead", "of", "just", "being", "inserted", ",", "the", "mid", "array", "expands", ".", "this", "expansion", "means", "that", "each", "and", "every", "element", "in", "the", "mid", "array", "is", "inserted", "into", "the", "arr", "array", ".", "instead", "of", "nested", "arrays", ",", "the", "result", "is", "a", "single", "array", "of", "numbers", "ranging", "from", "1", "to", "6.", "example", "#", "2", "\u2014", "math", "javascript", "has", "a", "built", "in", "math", "object", "that", "allows", "us", "to", "do", "some", "fun", "math", "calculations", ".", "in", "this", "example", "we", "\u2019", "ll", "be", "looking", "at", "math.max", "(", ")", ".", "if", "you", "\u2019", "re", "unfamiliar", ",", "math.max", "(", ")", "returns", "the", "largest", "of", "zero", "or", "more", "numbers", ".", "here", "are", "a", "few", "examples", ":", "math.max", "(", ")", ";", "//", "-infinity", "math.max", "(", "1", ",", "2", ",", "3", ")", ";", "//", "3", "math.max", "(", "100", ",", "3", ",", "4", ")", ";", "//", "100", "as", "you", "can", "see", ",", "if", "you", "want", "to", "find", "the", "maximum", "value", "of", "multiple", "numbers", ",", "math.max", "(", ")", "requires", "multiple", "parameters", ".", "you", "unfortunately", "can", "\u2019", "t", "simply", "use", "a", "single", "array", "as", "input", ".", "before", "the", "spread", "syntax", ",", "the", "easiest", "way", "to", "use", "math.max", "(", ")", "on", "an", "array", "is", "to", "use", ".apply", "(", ")", "var", "arr", "=", "[", "2", ",", "4", ",", "8", ",", "6", ",", "0", "]", ";", "function", "max", "(", "arr", ")", "{", "return", "math.max.apply", "(", "null", ",", "arr", ")", ";", "}", "console.log", "(", "max", "(", "arr", ")", ")", ";", "it", "works", ",", "it", "\u2019", "s", "just", "really", "annoying", ".", "now", "take", "a", "look", "at", "how", "we", "do", "the", "same", "exact", "thing", "with", "the", "spread", "syntax", ":", "var", "arr", "=", "[", "2", ",", "4", ",", "8", ",", "6", ",", "0", "]", ";", "var", "max", "=", "math.max", "(", "...", "arr", ")", ";", "console.log", "(", "max", ")", ";", "instead", "of", "having", "to", "create", "a", "function", "and", "utilize", "the", "apply", "method", "to", "return", "the", "result", "of", "math.max", "(", ")", ",", "we", "only", "need", "two", "lines", "of", "code", "!", "the", "spread", "syntax", "expands", "our", "array", "elements", "and", "inputs", "each", "element", "in", "our", "array", "individually", "into", "the", "math.max", "(", ")", "method", "!", "example", "#", "3", "\u2014", "copy", "an", "array", "in", "javascript", ",", "you", "can", "\u2019", "t", "just", "copy", "an", "array", "by", "setting", "a", "new", "variable", "equal", "to", "already", "existing", "array", ".", "consider", "the", "following", "code", "example", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "arr", ";", "console.log", "(", "arr2", ")", ";", "when", "you", "press", "run", ",", "you", "\u2019", "ll", "get", "the", "following", "output", ":", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", "now", ",", "at", "first", "glance", ",", "it", "looks", "like", "it", "worked", "\u2014", "it", "looks", "like", "we", "\u2019", "ve", "copied", "the", "values", "of", "arr", "into", "arr2", ".", "but", "that", "\u2019", "s", "not", "what", "has", "happened", ".", "you", "see", ",", "when", "working", "with", "objects", "in", "javascript", "(", "arrays", "are", "a", "type", "of", "object", ")", "we", "assign", "by", "reference", ",", "not", "by", "value", ".", "this", "means", "that", "arr2", "has", "been", "assigned", "to", "the", "same", "reference", "as", "arr", ".", "in", "other", "words", ",", "anything", "we", "do", "to", "arr2", "will", "also", "affect", "the", "original", "arr", "array", "(", "and", "vice", "versa", ")", ".", "take", "a", "look", "below", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "arr", ";", "arr2.push", "(", "'d", "'", ")", ";", "console.log", "(", "arr", ")", ";", "above", ",", "we", "\u2019", "ve", "pushed", "a", "new", "element", "d", "into", "arr2", ".", "yet", ",", "when", "we", "log", "out", "the", "value", "of", "arr", ",", "you", "\u2019", "ll", "see", "that", "the", "d", "value", "was", "also", "added", "to", "that", "array", ":", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", ",", "'d", "'", "]", "no", "need", "to", "fear", "though", "!", "we", "can", "use", "the", "spread", "operator", "!", "consider", "the", "code", "below", ".", "it", "\u2019", "s", "almost", "the", "same", "as", "above", ".", "instead", "though", ",", "we", "\u2019", "ve", "used", "the", "spread", "operator", "within", "a", "pair", "of", "square", "brackets", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "console.log", "(", "arr2", ")", ";", "hit", "run", ",", "and", "you", "\u2019", "ll", "see", "the", "expected", "output", ":", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", "above", ",", "the", "array", "values", "in", "arr", "expanded", "to", "become", "individual", "elements", "which", "were", "then", "assigned", "to", "arr2", ".", "we", "can", "now", "change", "the", "arr2", "array", "as", "much", "as", "we", "\u2019", "d", "like", "with", "no", "consequences", "on", "the", "original", "arr", "array", ":", "var", "arr", "=", "[", "'", "a", "'", ",", "'", "b", "'", ",", "'", "c", "'", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "arr2.push", "(", "'d", "'", ")", ";", "console.log", "(", "arr", ")", ";", "again", ",", "the", "reason", "this", "works", "is", "because", "the", "value", "of", "arr", "is", "expanded", "to", "fill", "the", "brackets", "of", "our", "arr2", "array", "definition", ".", "thus", ",", "we", "are", "setting", "arr2", "to", "equal", "the", "individual", "values", "of", "arr", "instead", "of", "the", "reference", "to", "arr", "like", "we", "did", "in", "the", "first", "example", ".", "bonus", "example", "\u2014", "string", "to", "array", "as", "a", "fun", "final", "example", ",", "you", "can", "use", "the", "spread", "syntax", "to", "convert", "a", "string", "into", "an", "array", ".", "simply", "use", "the", "spread", "syntax", "within", "a", "pair", "of", "square", "brackets", ":", "var", "str", "=", "``", "hello", "''", ";", "var", "chars", "=", "[", "...", "str", "]", ";", "console.log", "(", "chars", ")", ";", "the", "three", "dots", "(", "...", ")", "are", "called", "the", "spread", "operator", ",", "and", "this", "is", "conceptually", "similar", "to", "the", "es6", "array", "spread", "operator", ",", "jsx", "taking", "advantage", "of", "these", "supported", "and", "developing", "standards", "in", "order", "to", "provide", "a", "cleaner", "syntax", "in", "jsx", "spread", "properties", "in", "object", "initializers", "copies", "own", "enumerable", "properties", "from", "a", "provided", "object", "onto", "the", "newly", "created", "object", ".", "let", "n", "=", "{", "x", ",", "y", ",", "...", "z", "}", ";", "n", ";", "//", "{", "x", ":", "1", ",", "y", ":", "2", ",", "a", ":", "3", ",", "b", ":", "4", "}", "reference", ":", "1", ")", "https", ":", "//github.com/sebmarkbage/ecmascript-rest-spread", "#", "spread-properties", "2", ")", "https", ":", "//facebook.github.io/react/docs/jsx-spread.html", "...", "(", "three", "dots", "in", "javascript", ")", "is", "called", "the", "spread", "syntax", "or", "spread", "operator", ".", "this", "allows", "an", "iterable", "such", "as", "an", "array", "expression", "or", "string", "to", "be", "expanded", "or", "an", "object", "expression", "to", "be", "expanded", "wherever", "placed", ".", "this", "is", "not", "specific", "to", "react", ".", "it", "is", "a", "javascript", "operator", ".", "all", "these", "answers", "here", "are", "helpful", ",", "but", "i", "want", "to", "list", "down", "the", "mostly", "used", "practical", "use", "cases", "of", "the", "spread", "syntax", "(", "spread", "operator", ")", ".", "1.", "combine", "arrays", "(", "concatenate", "arrays", ")", "there", "are", "a", "variety", "of", "ways", "to", "combine", "arrays", ",", "but", "the", "spread", "operator", "allows", "you", "to", "place", "this", "at", "any", "place", "in", "an", "array", ".", "if", "you", "'d", "like", "to", "combine", "two", "arrays", "and", "place", "elements", "at", "any", "point", "within", "the", "array", ",", "you", "can", "do", "as", "follows", ":", "var", "arr1", "=", "[", "'two", "'", ",", "'three", "'", "]", ";", "var", "arr2", "=", "[", "'one", "'", ",", "...", "arr1", ",", "'four", "'", ",", "'five", "'", "]", ";", "//", "arr2", "=", "[", "``", "one", "''", ",", "``", "two", "''", ",", "``", "three", "''", ",", "``", "four", "''", ",", "``", "five", "''", "]", "2.", "copying", "arrays", "when", "we", "wanted", "a", "copy", "of", "an", "array", ",", "we", "used", "to", "have", "the", "array.prototypr.slice", "(", ")", "method", ".", "but", ",", "you", "can", "do", "the", "same", "with", "the", "spread", "operator", ".", "var", "arr", "=", "[", "1,2,3", "]", ";", "var", "arr2", "=", "[", "...", "arr", "]", ";", "//", "arr2", "=", "[", "1,2,3", "]", "3.", "calling", "functions", "without", "apply", "in", "es5", ",", "to", "pass", "an", "array", "of", "two", "numbers", "to", "the", "dostuff", "(", ")", "function", ",", "you", "often", "use", "the", "function.prototype.apply", "(", ")", "method", "as", "follows", ":", "function", "dostuff", "(", "x", ",", "y", ",", "z", ")", "{", "}", "var", "args", "=", "[", "0", ",", "1", ",", "2", "]", ";", "//", "call", "the", "function", ",", "passing", "args", "dostuff.apply", "(", "null", ",", "args", ")", ";", "however", ",", "by", "using", "the", "spread", "operator", ",", "you", "can", "pass", "an", "array", "into", "the", "function", ".", "dostuff", "(", "...", "args", ")", ";", "4.", "destructuring", "arrays", "you", "can", "use", "destructuring", "and", "the", "rest", "operator", "together", "to", "extract", "the", "information", "into", "variables", "as", "you", "'d", "like", "them", ":", "let", "{", "x", ",", "y", ",", "...", "z", "}", "=", "{", "x", ":", "1", ",", "y", ":", "2", ",", "a", ":", "3", ",", "b", ":", "4", "}", ";", "console.log", "(", "x", ")", ";", "//", "1", "console.log", "(", "y", ")", ";", "//", "2", "console.log", "(", "z", ")", ";", "//", "{", "a", ":", "3", ",", "b", ":", "4", "}", "5.", "function", "arguments", "as", "rest", "parameters", "es6", "also", "has", "the", "three", "dots", "(", "...", ")", "which", "is", "a", "rest", "parameter", "that", "collects", "all", "remaining", "arguments", "of", "a", "function", "into", "an", "array", ".", "function", "f", "(", "a", ",", "b", ",", "...", "args", ")", "{", "console.log", "(", "args", ")", ";", "}", "f", "(", "1,2,3,4,5", ")", ";", "//", "[", "3", ",", "4", ",", "5", "]", "6.", "using", "math", "functions", "any", "function", "where", "spread", "is", "used", "as", "the", "argument", "can", "be", "used", "by", "functions", "that", "can", "accept", "any", "number", "of", "arguments", ".", "let", "numbers", "=", "[", "9", ",", "4", ",", "7", ",", "1", "]", ";", "math.min", "(", "...", "numbers", ")", ";", "//", "1", "7.", "combining", "two", "objects", "you", "can", "use", "the", "spread", "operator", "to", "combine", "two", "objects", ".", "this", "is", "an", "easy", "and", "cleaner", "way", "to", "do", "it", ".", "var", "cartype", "=", "{", "model", ":", "'toyota", "'", ",", "yom", ":", "'1995", "'", "}", ";", "var", "carfuel", "=", "'petrol", "'", ";", "var", "cardata", "=", "{", "...", "cartype", ",", "carfuel", "}", "console.log", "(", "cardata", ")", ";", "//", "{", "//", "model", ":", "'toyota", "'", ",", "//", "yom", ":", "'1995", "'", ",", "//", "carfuel", "=", "'petrol", "'", "//", "}", "8.", "separate", "a", "string", "into", "separate", "characters", "you", "can", "use", "the", "spread", "operator", "to", "spread", "a", "string", "into", "separate", "characters", ".", "let", "chars", "=", "[", "'", "a", "'", ",", "...", "'bc", "'", ",", "'d", "'", "]", ";", "console.log", "(", "chars", ")", ";", "//", "[", "``", "a", "''", ",", "``", "b", "''", ",", "``", "c", "''", ",", "``", "d", "''", "]", "you", "can", "think", "of", "more", "ways", "to", "use", "the", "spread", "operator", ".", "what", "i", "have", "listed", "here", "are", "the", "popular", "use", "cases", "of", "it", ".", "the", "meaning", "of", "...", "depends", "on", "where", "you", "use", "it", "in", "the", "code", ",", "used", "for", "spreading/copying", "the", "array/object", "-", "it", "helps", "to", "copy", "array/object", "and", "also", "add", "new", "array", "values/add", "new", "properties", "to", "object", ",", "which", "is", "optional", ".", "const", "numbers", "=", "[", "1,2,3", "]", ";", "const", "newnumbers", "=", "[", "...", "numbers", ",", "4", "]", ";", "console.log", "(", "newnumbers", ")", "//prints", "[", "1,2,3,4", "]", "const", "person", "=", "{", "name", ":", "'max", "'", "}", ";", "const", "newperson", "=", "{", "...", "person", ",", "age:28", "}", ";", "console.log", "(", "newperson", ")", ";", "//prints", "{", "name", ":", "'max", "'", ",", "age:28", "}", "used", "for", "merging", "the", "function", "arguments", "into", "a", "single", "array", "-", "you", "can", "then", "use", "array", "functions", "on", "it", ".", "const", "filter", "=", "(", "...", "args", ")", "=", ">", "{", "return", "args.filter", "(", "el", "=", ">", "el", "===1", ")", ";", "}", "console.log", "(", "filter", "(", "1,2,3", ")", ")", ";", "//prints", "[", "1", "]", "this", "a", "spread", "operator", "...", "for", "example", "if", "you", "have", "an", "array", "first=", "[", "1,2,3,4,5", "]", "and", "another", "second=", "[", "6,7,8", "]", ".", "[", "...", "first", ",", "...", "second", "]", "//result", "is", "[", "1,2,3,4,5,6,7,8", "]", "the", "same", "can", "also", "be", "done", "with", "json", "objects", ".", "in", "a", "short", ",", "the", "three", "dots", "...", "is", "a", "spread", "operator", "in", "es6", "(", "es2015", ")", ".", "spread", "operator", "will", "fetch", "all", "the", "data", ".", "let", "a", "=", "[", "1", ",", "2", ",", "3", ",", "4", "]", ";", "let", "b", "=", "[", "...", "a", ",", "4", ",", "5", ",", "6", "]", ";", "let", "c", "=", "[", "7,8", ",", "...", "a", "]", ";", "console.log", "(", "b", ")", ";", "will", "give", "the", "result", "[", "1,2,3,4,5,6", "]", "console.log", "(", "c", ")", ";", "will", "give", "the", "result", "[", "7,8,1,2,3,4", "]", "spread", "attributes", "used", "to", "pass", "the", "multiple", "properties", "in", "a", "simple", "way", "{", "...", "this.props", "}", "is", "holding", "the", "property", "of", "this.props", "use", "of", "the", "{", "...", "}", "spread", "operator", "with", "below", "props", "this.props", "=", "{", "firstname", ":", "'dan", "'", ",", "lastname", ":", "'abramov", "'", ",", "city", ":", "'new", "york", "'", ",", "country", ":", "'usa", "'", "}", "without", "{", "...", "}", "spread", "<", "child", "firstname=", "{", "this.props.firstname", "}", "lastname=", "{", "this.props.lastname", "}", "city=", "{", "this.props.city", "}", "country=", "{", "this.props.country", "}", ">", "with", "{", "...", "}", "spread", "<", "child", "{", "...", "this.props", "}", "/", ">", "dan", "abramov", "'s", "tweet", "about", "spread", "operator", "(", "creator", "of", "redux", ")", "is", "usually", "called", "spread", "operator", ",", "it", "is", "use", "to", "expand", "wherever", "is", "required", "example", "const", "somestyle", "=", "{", "margin:10", ",", "background", ":", "#", "somehexa", "}", "you", "can", "use", "this", "where", "ever", "you", "requires", "it", "more", "about", "spread", "operator", "spread", "syntax", ".", "...", "this", "syntax", "is", "part", "of", "es6", "and", "not", "something", "which", "you", "can", "use", "only", "in", "react.it", "can", "be", "used", "in", "two", "different", "ways", ";", "as", "a", "spread", "operator", "or", "as", "a", "rest", "parameter.you", "can", "find", "more", "from", "this", "article", ":", "https", ":", "//www.techiediaries.com/react-spread-operator-props-setstate/", "what", "you", "have", "mentioned", "in", "the", "question", "is", "something", "like", "this", ",", "let", "'s", "assume", "like", "this", ",", "function", "hellouser", "(", ")", "{", "return", "<", "hello", "name=", "''", "abc", "''", "city=", "''", "xyz", "''", "/", ">", ";", "}", "with", "the", "use", "of", "spread", "operator", "you", "can", "pass", "props", "to", "the", "component", "like", "this", ".", "function", "hellouser", "(", ")", "{", "const", "props", "=", "{", "name", ":", "'abc", "'", ",", "city", ":", "'xyz", "'", "}", ";", "return", "<", "hello", "{", "...", "props", "}", "/", ">", ";", "}", "it", "is", "common", "practice", "to", "pass", "props", "around", "in", "a", "react", "application", ".", "in", "doing", "this", "we", "able", "to", "apply", "state", "changes", "to", "the", "child", "component", "regardless", "of", "whether", "it", "is", "pure", "or", "impure", "(", "stateless", "or", "stateful", ")", ".", "there", "are", "times", "when", "the", "best", "approach", ",", "when", "passing", "in", "props", ",", "is", "to", "pass", "in", "singular", "properties", "or", "an", "entire", "object", "of", "properties", ".", "with", "the", "support", "for", "arrays", "in", "es6", "we", "were", "given", "the", "``", "...", "''", "notation", "and", "with", "this", "we", "are", "now", "able", "to", "achieve", "passing", "an", "entire", "object", "to", "a", "child", ".", "the", "typical", "process", "of", "passing", "props", "to", "a", "child", "is", "noted", "with", "this", "syntax", ":", "var", "component", "=", "<", "component", "foo=", "{", "x", "}", "bar=", "{", "y", "}", "/", ">", ";", "this", "is", "fine", "to", "use", "when", "the", "number", "of", "props", "is", "minimal", "but", "becomes", "unmanageable", "when", "the", "prop", "numbers", "get", "too", "much", "higher", ".", "a", "problem", "with", "this", "method", "occurs", "when", "you", "do", "not", "know", "the", "properties", "needed", "within", "a", "child", "component", "and", "the", "typical", "javascript", "method", "is", "to", "simple", "set", "those", "properties", "and", "bind", "to", "the", "object", "later", ".", "this", "causes", "issues", "with", "proptype", "checking", "and", "cryptic", "stack", "trace", "errors", "that", "are", "not", "helpful", "and", "cause", "delays", "in", "debugging", ".", "the", "following", "is", "an", "example", "of", "this", "practice", ",", "and", "what", "not", "to", "do", ":", "var", "component", "=", "<", "component", "/", ">", ";", "component.props.foo", "=", "x", ";", "//", "bad", "component.props.bar", "=", "y", ";", "this", "same", "result", "can", "be", "achieved", "but", "with", "more", "appropriate", "success", "by", "doing", "this", ":", "var", "props", "=", "{", "}", ";", "props.foo", "=", "x", ";", "props.bar", "=", "y", ";", "var", "component", "=", "component", "(", "props", ")", ";", "//", "where", "did", "my", "jsx", "go", "?", "but", "does", "not", "use", "jsx", "spread", "or", "jsx", "so", "to", "loop", "this", "back", "into", "the", "equation", "we", "can", "now", "do", "something", "like", "this", ":", "var", "props", "=", "{", "}", ";", "props.foo", "=", "x", ";", "props.bar", "=", "y", ";", "var", "component", "=", "<", "component", "{", "...", "props", "}", "/", ">", ";", "the", "properties", "included", "in", "``", "...", "props", "''", "are", "foo", ":", "x", ",", "bar", ":", "y.", "this", "can", "be", "combined", "with", "other", "attributes", "to", "override", "the", "properties", "of", "``", "...", "props", "''", "using", "this", "syntax", ":", "var", "props", "=", "{", "foo", ":", "'default", "'", "}", ";", "var", "component", "=", "<", "component", "{", "...", "props", "}", "foo=", "{", "'override", "'", "}", "/", ">", ";", "console.log", "(", "component.props.foo", ")", ";", "//", "'override", "'", "in", "addition", "we", "can", "copy", "other", "property", "objects", "onto", "each", "other", "or", "combine", "them", "in", "this", "manner", ":", "var", "oldobj", "=", "{", "foo", ":", "'hello", "'", ",", "bar", ":", "'world", "'", "}", ";", "var", "newobj", "=", "{", "...", "oldobj", ",", "foo", ":", "'hi", "'", "}", ";", "console.log", "(", "newobj.foo", ")", ";", "//", "'hi", "'", ";", "console.log", "(", "newobj.bar", ")", ";", "//", "'world", "'", ";", "or", "merge", "two", "different", "objects", "like", "this", "(", "this", "is", "not", "yet", "available", "in", "all", "react", "versions", ")", ":", "var", "ab", "=", "{", "...", "a", ",", "...", "b", "}", ";", "//", "merge", "(", "a", ",", "b", ")", "another", "way", "of", "explaining", "this", ",", "according", "to", "facebook", "'s", "react/docs", "site", "is", ":", "if", "you", "already", "have", "``", "props", "''", "as", "an", "object", ",", "and", "you", "want", "to", "pass", "it", "in", "jsx", ",", "you", "can", "use", "``", "...", "''", "as", "a", "spread", "operator", "to", "pass", "the", "whole", "props", "object", ".", "the", "following", "two", "examples", "are", "equivalent", ":", "function", "app1", "(", ")", "{", "return", "<", "greeting", "firstname=", "''", "ben", "''", "lastname=", "''", "hector", "''", "/", ">", ";", "}", "function", "app2", "(", ")", "{", "const", "props", "=", "{", "firstname", ":", "'ben", "'", ",", "lastname", ":", "'hector", "'", "}", ";", "return", "<", "greeting", "{", "...", "props", "}", "/", ">", ";", "}", "spread", "attributes", "can", "be", "useful", "when", "you", "are", "building", "generic", "containers", ".", "however", ",", "they", "can", "also", "make", "your", "code", "messy", "by", "making", "it", "easy", "to", "pass", "a", "lot", "of", "irrelevant", "props", "to", "components", "that", "do", "n't", "care", "about", "them", ".", "this", "syntax", "should", "be", "used", "sparingly", ".", "its", "called", "spread", "operator", ".", "for", "eg", "let", "hello=", "{", "name", ":", "``", ",", "msg", ":", "''", "}", "let", "hello1=", "{", "...", "hello", "}", "now", "hello", "object", "properties", "is", "copied", "to", "hello1", ".", "it", "is", "called", "spreads", "syntax", "in", "javascript", ".", "it", "use", "for", "destructuring", "an", "array", "or", "object", "in", "javascript", ".", "example", ":", "const", "obja", "=", "{", "a", ":", "1", ",", "b", ":", "2", ",", "c", ":", "3", "}", "const", "objb", "=", "{", "...", "obja", ",", "d", ":", "1", "}", "/", "*", "result", "of", "objb", "will", "be", "{", "a", ":", "1", ",", "b", ":", "2", ",", "c", ":", "3", ",", "d", ":", "1", "}", "*", "/", "console.log", "(", "objb", ")", "const", "objc", "=", "{", "....", "obja", ",", "a", ":", "3", "}", "/", "*", "result", "of", "objc", "will", "be", "{", "a", ":", "3", ",", "b", ":", "2", ",", "c", ":", "3", ",", "d", ":", "1", "}", "*", "/", "console.log", "(", "objc", ")", "you", "can", "do", "it", "same", "result", "with", "object.assign", "(", ")", "function", "in", "javascript", ".", "reference", ":", "spread", "syntax", "this", "will", "be", "compiled", "into", ":", "react.createelement", "(", "modal", ",", "{", "...", "this.props", ",", "title", ":", "``", "modal", "heading", "''", ",", "animation", ":", "false", "}", ",", "child0", ",", "child1", ",", "child2", ",", "...", ")", "where", "it", "gives", "more", "two", "properties", "title", "&", "animation", "beyond", "the", "props", "the", "host", "element", "has", ".", "...", "is", "the", "es6", "operator", "called", "spread", ".", "see", "https", ":", "//developer.mozilla.org/en-us/docs/web/javascript/reference/operators/spread_syntax", "spread", "operator", "(", "triple", "operator", ")", "introduce", "in", "ecama", "script", "6", "(", "es6", ")", ".ecama", "script", "(", "es6", ")", "is", "a", "wrapper", "of", "javascript", ".", "spread", "operator", "enumerable", "properties", "in", "props", ".", "this.props", "=", "{", "firstname", ":", "'dan", "'", ",", "lastname", ":", "'abramov", "'", ",", "city", ":", "'new", "york", "'", ",", "country", ":", "'usa", "'", "}", "{", "...", "this.props", "}", "=", "{", "firstname", ":", "'dan", "'", ",", "lastname", ":", "'abramov", "'", ",", "city", ":", "'new", "york", "'", ",", "country", ":", "'usa", "'", "}", "but", "the", "main", "feature", "spread", "operator", "is", "used", "for", "a", "reference", "type", ".", "for", "example", "let", "person=", "{", "name", ":", "'alex", "'", ",", "age", ":", "35", "}", "person1=", "person", ";", "person1.name", "=", "``", "raheel", "''", ";", "console.log", "(", "person.name", ")", ";", "//", "output", ":", "raheel", "this", "is", "called", "reference", "type", ",", "one", "object", "affects", "other", "objects", "because", "they", "are", "shareable", "in", "memory", ".", "if", "you", "getting", "value", "independently", "mean", "spread", "memory", "both", "use", "spread", "operator", ".", "let", "person=", "{", "name", ":", "'alex", "'", ",", "age", ":", "35", "}", "person2", "=", "{", "...", "person", "}", ";", "person2.name", "=", "``", "shahzad", "''", ";", "console.log", "(", "person.name", ")", ";", "//", "output", ":", "alex", "if", "you", "have", "an", "array", "of", "elements", "and", "you", "want", "to", "display", "the", "elements", "you", "just", "use", "...", "arrayemaments", "and", "it", "will", "iterate", "over", "all", "the", "elements", "const", "profile", "=", "{", "firstname", ":", "``", "kazi", "''", ",", "lastname", ":", "``", "ahsan", "''", "}", "const", "profileupdate", "=", "{", "firstname", ":", "``", "kazi", "''", ",", "lastname", ":", "``", "ahsan", "''", "}", "const", "newprofile", "=", "{", "...", "profile", ",", "...", "profileupdate", "}", "hope", "this", "helps", "someone", ".", "these", "three", "dots", "are", "called", "spread", "operator", ".", "spread", "operator", "helps", "us", "to", "create", "a", "copy", "state", "or", "props", "in", "react", ".", "using", "spread", "operator", "in", "react", "state", "const", "[", "mystate", ",", "setmystate", "]", "=", "usestate", "(", "{", "variable1", ":", "'test", "'", ",", "variable2", ":", "``", ",", "variable3", ":", "``", "}", ")", ";", "setmystate", "(", "{", "...", "mystate", ",", "variable2", ":", "'new", "value", "here", "'", "}", ")", ";", "in", "the", "above", "code", "spread", "operator", "will", "maintain", "a", "copy", "of", "current", "state", "and", "we", "will", "also", "add", "new", "value", "at", "same", "time", ",", "if", "we", "do", "n't", "do", "this", "then", "state", "will", "have", "only", "value", "of", "variable2", "spread", "operator", "helps", "us", "to", "write", "optimize", "code", "this", "is", "a", "new", "feature", "in", "es6/harmony", ".", "it", "is", "called", "the", "spread", "operator", ".", "it", "lets", "you", "either", "separate", "the", "constituent", "parts", "of", "an", "array/object", ",", "or", "take", "multiple", "items/parameters", "and", "glue", "them", "together", ".", "here", "is", "an", "example", ":", "let", "array", "=", "[", "1,2,3", "]", "let", "array2", "=", "[", "...", "array", "]", "//", "array2", "is", "now", "filled", "with", "the", "items", "from", "array", "and", "with", "an", "object/keys", ":", "//", "lets", "pass", "an", "object", "as", "props", "to", "a", "react", "component", "let", "myparameters", "=", "{", "mykey", ":", "5", ",", "myotherkey", ":", "7", "}", "let", "component", "=", "<", "mycomponent", "{", "...", "myparameters", "}", "/", ">", "//", "this", "is", "equal", "to", "<", "mycomponent", "mykey=5", "myotherkey=7", "/", ">", "what", "'s", "really", "cool", "is", "you", "can", "use", "it", "to", "mean", "``", "the", "rest", "of", "the", "values", "''", ".", "const", "myfunc", "=", "(", "value1", ",", "value2", ",", "...", "values", ")", "{", "//", "some", "code", "}", "myfunc", "(", "1", ",", "2", ",", "3", ",", "4", ",", "5", ")", "//", "when", "myfunc", "is", "called", ",", "the", "rest", "of", "the", "variables", "are", "placed", "into", "the", "``", "values", "''", "array", "for", "someone", "who", "wants", "to", "understand", "this", "simple", "and", "fast", ":", "first", "of", "all", ",", "this", "is", "not", "a", "syntax", "only", "to", "react", ".", "this", "is", "a", "syntax", "from", "es6", "called", "spread", "syntax", "which", "iterate", "(", "merge", ",", "add", "..", "etc", ")", "array", "and", "object", ".", "read", "more", "about", "here", "so", "answer", "to", "the", "question", ":", "let", "'s", "imagine", "you", "have", "this", "tag", ":", "<", "usertag", "name=", "''", "supun", "''", "age=", "''", "66", "''", "gender=", "''", "male", "''", "/", ">", "and", "you", "do", "this", ":", "const", "user", "=", "{", "``", "name", "''", "=", ">", "''", "joe", "''", ",", "``", "age", "''", "=", ">", "''", "50", "''", "``", "test", "''", "=", ">", "''", "test-val", "''", "}", ";", "<", "usertag", "name=", "''", "supun", "''", "gender=", "''", "male", "''", "{", "...", "user", "}", "age=", "''", "66", "''", "/", ">", "then", "the", "tag", "will", "equal", "this", ":", "<", "usertag", "name=", "''", "joe", "''", "gender=", "''", "male", "''", "test=", "''", "test-val", "''", "age=", "''", "66", "''", "/", ">", "so", "what", "happened", "was", "when", "you", "use", "spread", "syntax", "in", "a", "react", "tag", "it", "takes", "tag", "'s", "attribute", "as", "object", "attributes", "which", "merge", "(", "replace", "if", "it", "exists", ")", "with", "the", "given", "object", "user", ".", "also", ",", "you", "might", "have", "noticed", "one", "thing", "that", "it", "only", "replaces", "before", "attribute", ",", "not", "after", "attributes", ".", "so", "in", "this", "example", "age", "remains", "as", "it", "is", ".", "hopes", "this", "helps", ":", ")", "those", "are", "called", "spreads", ".", "just", "as", "the", "name", "implies", ".", "it", "means", "it", "'s", "putting", "whatever", "the", "value", "of", "it", "in", "those", "array", "or", "objects", ".", "such", "as", ":", "let", "a", "=", "[", "1", ",", "2", ",", "3", "]", ";", "let", "b", "=", "[", "...", "a", ",", "4", ",", "5", ",", "6", "]", ";", "console.log", "(", "b", ")", ";", ">", "[", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", "]", "i", "'m", "trying", "to", "find", "the", "proper", "way", "to", "define", "some", "components", "which", "could", "be", "used", "in", "a", "generic", "way", ":", "<", "parent", ">", "<", "child", "value=", "''", "1", "''", ">", "<", "child", "value=", "''", "2", "''", ">", "<", "/parent", ">", "there", "is", "a", "logic", "going", "on", "for", "rendering", "between", "parent", "and", "children", "components", "of", "course", ",", "you", "can", "imagine", "<", "select", ">", "and", "<", "option", ">", "as", "an", "example", "of", "this", "logic", ".", "this", "is", "a", "dummy", "implementation", "for", "the", "purpose", "of", "the", "question", ":", "var", "parent", "=", "react.createclass", "(", "{", "dosomething", ":", "function", "(", "value", ")", "{", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "div", ">", "{", "this.props.children", "}", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "var", "child", "=", "react.createclass", "(", "{", "onclick", ":", "function", "(", ")", "{", "this.props.dosomething", "(", "this.props.value", ")", ";", "//", "dosomething", "is", "undefined", "}", ",", "render", ":", "function", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "<", "/div", ">", ")", ";", "}", "}", ")", ";", "the", "question", "is", "whenever", "you", "use", "{", "this.props.children", "}", "to", "define", "a", "wrapper", "component", ",", "how", "do", "you", "pass", "down", "some", "property", "to", "all", "its", "children", "?", "cloning", "children", "with", "new", "props", "you", "can", "use", "react.children", "to", "iterate", "over", "the", "children", ",", "and", "then", "clone", "each", "element", "with", "new", "props", "(", "shallow", "merged", ")", "using", "react.cloneelement", ".", "for", "example", ":", "const", "child", "=", "(", "{", "dosomething", ",", "value", "}", ")", "=", ">", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "dosomething", "(", "value", ")", "}", ">", "click", "me", "<", "/button", ">", ")", ";", "class", "parent", "extends", "react.component", "{", "dosomething", "=", "value", "=", ">", "{", "console.log", "(", "``", "dosomething", "called", "by", "child", "with", "value", ":", "''", ",", "value", ")", ";", "}", "render", "(", ")", "{", "const", "childrenwithprops", "=", "react.children.map", "(", "this.props.children", ",", "child", "=", ">", "{", "//", "checking", "isvalidelement", "is", "the", "safe", "way", "and", "avoids", "a", "typescript", "error", "too", "const", "props", "=", "{", "dosomething", "}", ";", "if", "(", "react.isvalidelement", "(", "child", ")", ")", "{", "return", "react.cloneelement", "(", "child", ",", "props", ")", ";", "}", "return", "child", ";", "}", ")", ";", "return", "<", "div", ">", "{", "childrenwithprops", "}", "<", "/div", ">", ";", "}", "}", "function", "app", "(", ")", "{", "return", "(", "<", "parent", ">", "<", "child", "value=", "{", "1", "}", "/", ">", "<", "child", "value=", "{", "2", "}", "/", ">", "<", "/parent", ">", ")", ";", "}", "reactdom.render", "(", "<", "app", "/", ">", ",", "document.getelementbyid", "(", "``", "container", "''", ")", ")", ";", "fiddle", ":", "https", ":", "//jsfiddle.net/2q294y43/2/", "calling", "children", "as", "a", "function", "alternatively", ",", "you", "can", "pass", "props", "to", "children", "with", "render", "props", ".", "in", "this", "approach", ",", "the", "children", "(", "which", "can", "be", "children", "or", "any", "other", "prop", "name", ")", "is", "a", "function", "which", "can", "accept", "any", "arguments", "you", "want", "to", "pass", "and", "returns", "the", "children", ":", "const", "child", "=", "(", "{", "dosomething", ",", "value", "}", ")", "=", ">", "(", "<", "button", "onclick=", "{", "(", ")", "=", ">", "dosomething", "(", "value", ")", "}", ">", "click", "me", "<", "/button", ">", ")", ";", "class", "parent", "extends", "react.component", "{", "dosomething", "=", "value", "=", ">", "{", "console.log", "(", "``", "dosomething", "called", "by", "child", "with", "value", ":", "''", ",", "value", ")", ";", "}", "render", "(", ")", "{", "//", "note", "that", "children", "is", "called", "as", "a", "function", "and", "we", "can", "pass", "args", "to", "it", "return", "<", "div", ">", "{", "this.props.children", "(", "dosomething", ")", "}", "<", "/div", ">", "}", "}", ";", "function", "app", "(", ")", "{", "return", "(", "<", "parent", ">", "{", "dosomething", "=", ">", "(", "<", "react.fragment", ">", "<", "child", "dosomething=", "{", "dosomething", "}", "value=", "{", "1", "}", "/", ">", "<", "child", "dosomething=", "{", "dosomething", "}", "value=", "{", "2", "}", "/", ">", "<", "/react.fragment", ">", ")", "}", "<", "/parent", ">", ")", ";", "}", "reactdom.render", "(", "<", "app", "/", ">", ",", "document.getelementbyid", "(", "``", "container", "''", ")", ")", ";", "instead", "of", "<", "react.fragment", ">", "or", "simply", "<", ">", "you", "can", "also", "return", "an", "array", "if", "you", "prefer", ".", "fiddle", ":", "https", ":", "//jsfiddle.net/ferahl/y5pcua68/7/", "for", "a", "slightly", "cleaner", "way", "to", "do", "it", ",", "try", ":", "<", "div", ">", "{", "react.cloneelement", "(", "this.props.children", ",", "{", "loggedin", ":", "this.state.loggedin", "}", ")", "}", "<", "/div", ">", "edit", ":", "to", "use", "with", "multiple", "individual", "children", "(", "the", "child", "must", "itself", "be", "a", "component", ")", "you", "can", "do", ".", "tested", "in", "16.8.6", "<", "div", ">", "{", "react.cloneelement", "(", "props.children", "[", "0", "]", ",", "{", "loggedin", ":", "true", ",", "testingtwo", ":", "true", "}", ")", "}", "{", "react.cloneelement", "(", "props.children", "[", "1", "]", ",", "{", "loggedin", ":", "true", ",", "testprop", ":", "false", "}", ")", "}", "<", "/div", ">", "try", "this", "<", "div", ">", "{", "react.cloneelement", "(", "this.props.children", ",", "{", "...", "this.props", "}", ")", "}", "<", "/div", ">", "it", "worked", "for", "me", "using", "react-15.1", ".", "pass", "props", "to", "direct", "children", ".", "see", "all", "other", "answers", "pass", "shared", ",", "global", "data", "through", "the", "component", "tree", "via", "context", "context", "is", "designed", "to", "share", "data", "that", "can", "be", "considered", "\u201c", "global", "\u201d", "for", "a", "tree", "of", "react", "components", ",", "such", "as", "the", "current", "authenticated", "user", ",", "theme", ",", "or", "preferred", "language", ".", "1", "disclaimer", ":", "this", "is", "an", "updated", "answer", ",", "the", "previous", "one", "used", "the", "old", "context", "api", "it", "is", "based", "on", "consumer", "/", "provide", "principle", ".", "first", ",", "create", "your", "context", "const", "{", "provider", ",", "consumer", "}", "=", "react.createcontext", "(", "defaultvalue", ")", ";", "then", "use", "via", "<", "provider", "value=", "{", "/", "*", "some", "value", "*", "/", "}", ">", "{", "children", "}", "/", "*", "potential", "consumers", "*", "/", "<", "provider", "/", ">", "and", "<", "consumer", ">", "{", "value", "=", ">", "/", "*", "render", "something", "based", "on", "the", "context", "value", "*", "/", "}", "<", "/consumer", ">", "all", "consumers", "that", "are", "descendants", "of", "a", "provider", "will", "re-render", "whenever", "the", "provider", "\u2019", "s", "value", "prop", "changes", ".", "the", "propagation", "from", "provider", "to", "its", "descendant", "consumers", "is", "not", "subject", "to", "the", "shouldcomponentupdate", "method", ",", "so", "the", "consumer", "is", "updated", "even", "when", "an", "ancestor", "component", "bails", "out", "of", "the", "update", ".", "1", "full", "example", ",", "semi-pseudo", "code", ".", "import", "react", "from", "'react", "'", ";", "const", "{", "provider", ",", "consumer", "}", "=", "react.createcontext", "(", "{", "color", ":", "'white", "'", "}", ")", ";", "class", "app", "extends", "react.component", "{", "constructor", "(", "props", ")", "{", "super", "(", "props", ")", ";", "this.state", "=", "{", "value", ":", "{", "color", ":", "'black", "'", "}", ",", "}", ";", "}", "render", "(", ")", "{", "return", "(", "<", "provider", "value=", "{", "this.state.value", "}", ">", "<", "toolbar", "/", ">", "<", "/provider", ">", ")", ";", "}", "}", "class", "toolbar", "extends", "react.component", "{", "render", "(", ")", "{", "return", "(", "<", "div", ">", "<", "p", ">", "consumer", "can", "be", "arbitrary", "levels", "deep", "<", "/p", ">", "<", "consumer", ">", "{", "value", "=", ">", "<", "p", ">", "the", "toolbar", "will", "be", "in", "color", "{", "value.color", "}", "<", "/p", ">", "}", "<", "/consumer", ">", "<", "/div", ">", ")", ";", "}", "}", "1", "https", ":", "//facebook.github.io/react/docs/context.html", "passing", "props", "to", "nested", "children", "with", "the", "update", "to", "react", "16.6", "you", "can", "now", "use", "react.createcontext", "and", "contexttype", ".", "import", "*", "as", "react", "from", "'react", "'", ";", "//", "react.createcontext", "accepts", "a", "defaultvalue", "as", "the", "first", "param", "const", "mycontext", "=", "react.createcontext", "(", ")", ";", "class", "parent", "extends", "react.component", "{", "dosomething", "=", "(", "value", ")", "=", ">", "{", "//", "do", "something", "here", "with", "value", "}", ";", "render", "(", ")", "{", "return", "(", "<", "mycontext.provider", "value=", "{", "{", "dosomething", ":", "this.dosomething", "}", "}", ">", "{", "this.props.children", "}", "<", "/mycontext.provider", ">", ")", ";", "}", "}", "class", "child", "extends", "react.component", "{", "static", "contexttype", "=", "mycontext", ";", "onclick", "=", "(", ")", "=", ">", "{", "this.context.dosomething", "(", "this.props.value", ")", ";", "}", ";", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "{", "this.props.value", "}", "<", "/div", ">", ")", ";", "}", "}", "//", "example", "of", "using", "parent", "and", "child", "import", "*", "as", "react", "from", "'react", "'", ";", "class", "somecomponent", "extends", "react.component", "{", "render", "(", ")", "{", "return", "(", "<", "parent", ">", "<", "child", "value=", "{", "1", "}", "/", ">", "<", "child", "value=", "{", "2", "}", "/", ">", "<", "/parent", ">", ")", ";", "}", "}", "react.createcontext", "shines", "where", "react.cloneelement", "case", "could", "n't", "handle", "nested", "components", "class", "somecomponent", "extends", "react.component", "{", "render", "(", ")", "{", "return", "(", "<", "parent", ">", "<", "child", "value=", "{", "1", "}", "/", ">", "<", "someothercomp", ">", "<", "child", "value=", "{", "2", "}", "/", ">", "<", "/someothercomp", ">", "<", "/parent", ">", ")", ";", "}", "}", "you", "can", "use", "react.cloneelement", ",", "it", "'s", "better", "to", "know", "how", "it", "works", "before", "you", "start", "using", "it", "in", "your", "application", ".", "it", "'s", "introduced", "in", "react", "v0.13", ",", "read", "on", "for", "more", "information", ",", "so", "something", "along", "with", "this", "work", "for", "you", ":", "<", "div", ">", "{", "react.cloneelement", "(", "this.props.children", ",", "{", "...", "this.props", "}", ")", "}", "<", "/div", ">", "so", "bring", "the", "lines", "from", "react", "documentation", "for", "you", "to", "understand", "how", "it", "'s", "all", "working", "and", "how", "you", "can", "make", "use", "of", "them", ":", "in", "react", "v0.13", "rc2", "we", "will", "introduce", "a", "new", "api", ",", "similar", "to", "react.addons.clonewithprops", ",", "with", "this", "signature", ":", "react.cloneelement", "(", "element", ",", "props", ",", "...", "children", ")", ";", "unlike", "clonewithprops", ",", "this", "new", "function", "does", "not", "have", "any", "magic", "built-in", "behavior", "for", "merging", "style", "and", "classname", "for", "the", "same", "reason", "we", "do", "n't", "have", "that", "feature", "from", "transferpropsto", ".", "nobody", "is", "sure", "what", "exactly", "the", "complete", "list", "of", "magic", "things", "are", ",", "which", "makes", "it", "difficult", "to", "reason", "about", "the", "code", "and", "difficult", "to", "reuse", "when", "style", "has", "a", "different", "signature", "(", "e.g", ".", "in", "the", "upcoming", "react", "native", ")", ".", "react.cloneelement", "is", "almost", "equivalent", "to", ":", "<", "element.type", "{", "...", "element.props", "}", "{", "...", "props", "}", ">", "{", "children", "}", "<", "/element.type", ">", "however", ",", "unlike", "jsx", "and", "clonewithprops", ",", "it", "also", "preserves", "refs", ".", "this", "means", "that", "if", "you", "get", "a", "child", "with", "a", "ref", "on", "it", ",", "you", "wo", "n't", "accidentally", "steal", "it", "from", "your", "ancestor", ".", "you", "will", "get", "the", "same", "ref", "attached", "to", "your", "new", "element", ".", "one", "common", "pattern", "is", "to", "map", "over", "your", "children", "and", "add", "a", "new", "prop", ".", "there", "were", "many", "issues", "reported", "about", "clonewithprops", "losing", "the", "ref", ",", "making", "it", "harder", "to", "reason", "about", "your", "code", ".", "now", "following", "the", "same", "pattern", "with", "cloneelement", "will", "work", "as", "expected", ".", "for", "example", ":", "var", "newchildren", "=", "react.children.map", "(", "this.props.children", ",", "function", "(", "child", ")", "{", "return", "react.cloneelement", "(", "child", ",", "{", "foo", ":", "true", "}", ")", "}", ")", ";", "note", ":", "react.cloneelement", "(", "child", ",", "{", "ref", ":", "'newref", "'", "}", ")", "does", "override", "the", "ref", "so", "it", "is", "still", "not", "possible", "for", "two", "parents", "to", "have", "a", "ref", "to", "the", "same", "child", ",", "unless", "you", "use", "callback-refs", ".", "this", "was", "a", "critical", "feature", "to", "get", "into", "react", "0.13", "since", "props", "are", "now", "immutable", ".", "the", "upgrade", "path", "is", "often", "to", "clone", "the", "element", ",", "but", "by", "doing", "so", "you", "might", "lose", "the", "ref", ".", "therefore", ",", "we", "needed", "a", "nicer", "upgrade", "path", "here", ".", "as", "we", "were", "upgrading", "callsites", "at", "facebook", "we", "realized", "that", "we", "needed", "this", "method", ".", "we", "got", "the", "same", "feedback", "from", "the", "community", ".", "therefore", "we", "decided", "to", "make", "another", "rc", "before", "the", "final", "release", "to", "make", "sure", "we", "get", "this", "in", ".", "we", "plan", "to", "eventually", "deprecate", "react.addons.clonewithprops", ".", "we", "'re", "not", "doing", "it", "yet", ",", "but", "this", "is", "a", "good", "opportunity", "to", "start", "thinking", "about", "your", "own", "uses", "and", "consider", "using", "react.cloneelement", "instead", ".", "we", "'ll", "be", "sure", "to", "ship", "a", "release", "with", "deprecation", "notices", "before", "we", "actually", "remove", "it", "so", "no", "immediate", "action", "is", "necessary", ".", "more", "here", "...", "the", "best", "way", ",", "which", "allows", "you", "to", "make", "property", "transfer", "is", "children", "like", "a", "function", "pattern", "https", ":", "//medium.com/merrickchristensen/function-as-child-components-5f3920a9ace9", "code", "snippet", ":", "https", ":", "//stackblitz.com/edit/react-fcmubc", "example", ":", "const", "parent", "=", "(", "{", "children", "}", ")", "=", ">", "{", "const", "somepropshere", "=", "{", "style", ":", "{", "color", ":", "``", "red", "''", "}", "//", "any", "other", "props", "here", "...", "}", "return", "children", "(", "somepropshere", ")", "}", "const", "childcomponent", "=", "props", "=", ">", "<", "h1", "{", "...", "props", "}", ">", "hello", "world", "!", "<", "/h1", ">", "const", "app", "=", "(", ")", "=", ">", "{", "return", "(", "<", "parent", ">", "{", "props", "=", ">", "(", "<", "childcomponent", "{", "...", "props", "}", ">", "bla-bla-bla", "<", "/childcomponent", ">", ")", "}", "<", "/parent", ">", ")", "}", "none", "of", "the", "answers", "address", "the", "issue", "of", "having", "children", "that", "are", "not", "react", "components", ",", "such", "as", "text", "strings", ".", "a", "workaround", "could", "be", "something", "like", "this", ":", "//", "render", "method", "of", "parent", "component", "render", "(", ")", "{", "let", "props", "=", "{", "setalert", ":", "(", ")", "=", ">", "{", "alert", "(", "``", "it", "works", "''", ")", "}", "}", ";", "let", "childrenwithprops", "=", "react.children.map", "(", "this.props.children", ",", "function", "(", "child", ")", "{", "if", "(", "react.isvalidelement", "(", "child", ")", ")", "{", "return", "react.cloneelement", "(", "child", ",", "props", ")", ";", "}", "return", "child", ";", "}", ")", ";", "return", "<", "div", ">", "{", "childrenwithprops", "}", "<", "/div", ">", "}", "i", "needed", "to", "fix", "accepted", "answer", "above", "to", "make", "it", "work", "using", "that", "instead", "of", "this", "pointer", ".", "this", "within", "the", "scope", "of", "map", "function", "did", "n't", "have", "dosomething", "function", "defined", ".", "var", "parent", "=", "react.createclass", "(", "{", "dosomething", ":", "function", "(", ")", "{", "console.log", "(", "'dosomething", "!", "'", ")", ";", "}", ",", "render", ":", "function", "(", ")", "{", "var", "that", "=", "this", ";", "var", "childrenwithprops", "=", "react.children.map", "(", "this.props.children", ",", "function", "(", "child", ")", "{", "return", "react.cloneelement", "(", "child", ",", "{", "dosomething", ":", "that.dosomething", "}", ")", ";", "}", ")", ";", "return", "<", "div", ">", "{", "childrenwithprops", "}", "<", "/div", ">", "}", "}", ")", "update", ":", "this", "fix", "is", "for", "ecmascript", "5", ",", "in", "es6", "there", "is", "no", "need", "in", "var", "that=this", "cleaner", "way", "considering", "one", "or", "more", "children", "<", "div", ">", "{", "react.children.map", "(", "this.props.children", ",", "child", "=", ">", "react.cloneelement", "(", "child", ",", "{", "...", "this.props", "}", ")", ")", "}", "<", "/div", ">", "you", "no", "longer", "need", "{", "this.props.children", "}", ".", "now", "you", "can", "wrap", "your", "child", "component", "using", "render", "in", "route", "and", "pass", "your", "props", "as", "usual", ":", "<", "browserrouter", ">", "<", "div", ">", "<", "ul", ">", "<", "li", ">", "<", "link", "to=", "''", "/", "''", ">", "home", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/posts", "''", ">", "posts", "<", "/link", ">", "<", "/li", ">", "<", "li", ">", "<", "link", "to=", "''", "/about", "''", ">", "about", "<", "/link", ">", "<", "/li", ">", "<", "/ul", ">", "<", "hr/", ">", "<", "route", "path=", "''", "/", "''", "exact", "component=", "{", "home", "}", "/", ">", "<", "route", "path=", "''", "/posts", "''", "render=", "{", "(", ")", "=", ">", "(", "<", "posts", "value1=", "{", "1", "}", "value2=", "{", "2", "}", "data=", "{", "this.state.data", "}", "/", ">", ")", "}", "/", ">", "<", "route", "path=", "''", "/about", "''", "component=", "{", "about", "}", "/", ">", "<", "/div", ">", "<", "/browserrouter", ">", "if", "you", "have", "multiple", "children", "you", "want", "to", "pass", "props", "to", ",", "you", "can", "do", "it", "this", "way", ",", "using", "the", "react.children.map", ":", "render", "(", ")", "{", "let", "updatedchildren", "=", "react.children.map", "(", "this.props.children", ",", "(", "child", ")", "=", ">", "{", "return", "react.cloneelement", "(", "child", ",", "{", "newprop", ":", "newprop", "}", ")", ";", "}", ")", ";", "return", "(", "<", "div", ">", "{", "updatedchildren", "}", "<", "/div", ">", ")", ";", "}", "if", "your", "component", "is", "having", "just", "one", "child", ",", "there", "'s", "no", "need", "for", "mapping", ",", "you", "can", "just", "cloneelement", "straight", "away", ":", "render", "(", ")", "{", "return", "(", "<", "div", ">", "{", "react.cloneelement", "(", "this.props.children", ",", "{", "newprop", ":", "newprop", "}", ")", "}", "<", "/div", ">", ")", ";", "}", "parent.jsx", ":", "import", "react", "from", "'react", "'", ";", "const", "dosomething", "=", "value", "=", ">", "{", "}", ";", "const", "parent", "=", "props", "=", ">", "(", "<", "div", ">", "{", "!", "props", "||", "!", "props.children", "?", "<", "div", ">", "loading", "...", "(", "required", "at", "least", "one", "child", ")", "<", "/div", ">", ":", "!", "props.children.length", "?", "<", "props.children.type", "{", "...", "props.children.props", "}", "dosomething=", "{", "dosomething", "}", "{", "...", "props", "}", ">", "{", "props.children", "}", "<", "/props.children.type", ">", ":", "props.children.map", "(", "(", "child", ",", "key", ")", "=", ">", "react.cloneelement", "(", "child", ",", "{", "...", "props", ",", "key", ",", "dosomething", "}", ")", ")", "}", "<", "/div", ">", ")", ";", "child.jsx", ":", "import", "react", "from", "'react", "'", ";", "/", "*", "but", "better", "import", "dosomething", "right", "here", ",", "or", "use", "some", "flux", "store", "(", "for", "example", "redux", "library", ")", "*", "/", "export", "default", "(", "{", "dosomething", ",", "value", "}", ")", "=", ">", "(", "<", "div", "onclick=", "{", "(", ")", "=", ">", "dosomething", "(", "value", ")", "}", "/", ">", ")", ";", "and", "main.jsx", ":", "import", "react", "from", "'react", "'", ";", "import", "{", "render", "}", "from", "'react-dom", "'", ";", "import", "parent", "from", "'./parent", "'", ";", "import", "child", "from", "'./child", "'", ";", "render", "(", "<", "parent", ">", "<", "child/", ">", "<", "child", "value=", "'", "1'/", ">", "<", "child", "value=", "'", "2'/", ">", "<", "/parent", ">", ",", "document.getelementbyid", "(", "'", "...", "'", ")", ")", ";", "see", "example", "here", ":", "https", ":", "//plnkr.co/edit/jjhqecrkrrtklkyrpiwl", "?", "p=preview", "maybe", "you", "can", "also", "find", "useful", "this", "feature", ",", "though", "many", "people", "have", "considered", "this", "as", "an", "anti-pattern", "it", "still", "can", "be", "used", "if", "you", "'re", "know", "what", "you", "'re", "doing", "and", "design", "your", "solution", "well", ".", "function", "as", "child", "components", "according", "to", "the", "documentation", "of", "cloneelement", "(", ")", "react.cloneelement", "(", "element", ",", "[", "props", "]", ",", "[", "...", "children", "]", ")", "clone", "and", "return", "a", "new", "react", "element", "using", "element", "as", "the", "starting", "point", ".", "the", "resulting", "element", "will", "have", "the", "original", "element", "\u2019", "s", "props", "with", "the", "new", "props", "merged", "in", "shallowly", ".", "new", "children", "will", "replace", "existing", "children", ".", "key", "and", "ref", "from", "the", "original", "element", "will", "be", "preserved", ".", "react.cloneelement", "(", ")", "is", "almost", "equivalent", "to", ":", "<", "element.type", "{", "...", "element.props", "}", "{", "...", "props", "}", ">", "{", "children", "}", "<", "/element.type", ">", "however", ",", "it", "also", "preserves", "refs", ".", "this", "means", "that", "if", "you", "get", "a", "child", "with", "a", "ref", "on", "it", ",", "you", "won", "\u2019", "t", "accidentally", "steal", "it", "from", "your", "ancestor", ".", "you", "will", "get", "the", "same", "ref", "attached", "to", "your", "new", "element", ".", "so", "cloneelement", "is", "what", "you", "would", "use", "to", "provide", "custom", "props", "to", "the", "children", ".", "however", "there", "can", "be", "multiple", "children", "in", "the", "component", "and", "you", "would", "need", "to", "loop", "over", "it", ".", "what", "other", "answers", "suggest", "is", "for", "you", "to", "map", "over", "them", "using", "react.children.map", ".", "however", "react.children.map", "unlike", "react.cloneelement", "changes", "the", "keys", "of", "the", "element", "appending", "and", "extra", ".", "$", "as", "the", "prefix", ".", "check", "this", "question", "for", "more", "details", ":", "react.cloneelement", "inside", "react.children.map", "is", "causing", "element", "keys", "to", "change", "if", "you", "wish", "to", "avoid", "it", ",", "you", "should", "instead", "go", "for", "the", "foreach", "function", "like", "render", "(", ")", "{", "const", "newelements", "=", "[", "]", ";", "react.children.foreach", "(", "this.props.children", ",", "child", "=", ">", "newelements.push", "(", "react.cloneelement", "(", "child", ",", "{", "...", "this.props", ",", "...", "customprops", "}", ")", ")", ")", "return", "(", "<", "div", ">", "{", "newelements", "}", "<", "/div", ">", ")", "}", "method", "1", "-", "clone", "children", "const", "parent", "=", "(", "props", ")", "=", ">", "{", "const", "attributetoaddorreplace=", "``", "some", "value", "''", "const", "childrenwithadjustedprops", "=", "react.children.map", "(", "props.children", ",", "child", "=", ">", "react.cloneelement", "(", "child", ",", "{", "attributetoaddorreplace", "}", ")", ")", ";", "return", "<", "div", ">", "{", "childrenwithadjustedprops", "}", "<", "/div", ">", "}", "method", "2", "-", "use", "composable", "context", "context", "allows", "you", "to", "pass", "a", "prop", "to", "a", "deep", "child", "component", "without", "explicitly", "passing", "it", "as", "a", "prop", "through", "the", "components", "in", "between", ".", "context", "comes", "with", "drawbacks", ":", "data", "does", "n't", "flow", "in", "the", "regular", "way", "-", "via", "props", ".", "using", "context", "creates", "a", "contract", "between", "the", "consumer", "and", "the", "provider", ".", "it", "might", "be", "more", "difficult", "to", "understand", "and", "replicate", "the", "requirements", "needed", "to", "reuse", "a", "component", ".", "using", "a", "composable", "context", "export", "const", "context", "=", "createcontext", "<", "any", ">", "(", "null", ")", ";", "export", "const", "composablecontext", "=", "(", "{", "children", ",", "...", "otherprops", "}", ":", "{", "children", ":", "reactnode", ",", "[", "x", ":", "string", "]", ":", "any", "}", ")", "=", ">", "{", "const", "context", "=", "usecontext", "(", "context", ")", "return", "(", "<", "context.provider", "{", "...", "context", "}", "value=", "{", "{", "...", "context", ",", "...", "otherprops", "}", "}", ">", "{", "children", "}", "<", "/context.provider", ">", ")", ";", "}", "function", "app", "(", ")", "{", "return", "(", "<", "provider1", ">", "<", "provider2", ">", "<", "displayer", "/", ">", "<", "/provider2", ">", "<", "/provider1", ">", ")", ";", "}", "const", "provider1", "=", "(", "{", "children", "}", ":", "{", "children", ":", "reactnode", "}", ")", "=", ">", "(", "<", "composablecontext", "greeting=", "''", "hello", "''", ">", "{", "children", "}", "<", "/composablecontext", ">", ")", "const", "provider2", "=", "(", "{", "children", "}", ":", "{", "children", ":", "reactnode", "}", ")", "=", ">", "(", "<", "composablecontext", "name=", "''", "world", "''", ">", "{", "children", "}", "<", "/composablecontext", ">", ")", "const", "displayer", "=", "(", ")", "=", ">", "{", "const", "context", "=", "usecontext", "(", "context", ")", ";", "return", "<", "div", ">", "{", "context.greeting", "}", ",", "{", "context.name", "}", "<", "/div", ">", ";", "}", ";", "further", "to", "@", "and_rest", "answer", ",", "this", "is", "how", "i", "clone", "the", "children", "and", "add", "a", "class", ".", "<", "div", "classname=", "''", "parent", "''", ">", "{", "react.children.map", "(", "this.props.children", ",", "child", "=", ">", "react.cloneelement", "(", "child", ",", "{", "classname", ":", "'child", "'", "}", ")", ")", "}", "<", "/div", ">", "i", "think", "a", "render", "prop", "is", "the", "appropriate", "way", "to", "handle", "this", "scenario", "you", "let", "the", "parent", "provide", "the", "necessary", "props", "used", "in", "child", "component", ",", "by", "refactoring", "the", "parent", "code", "to", "look", "to", "something", "like", "this", ":", "const", "parent", "=", "(", "{", "children", "}", ")", "=", ">", "{", "const", "dosomething", "(", "value", ")", "=", ">", "{", "}", "return", "children", "(", "{", "dosomething", "}", ")", "}", "then", "in", "the", "child", "component", "you", "can", "access", "the", "function", "provided", "by", "the", "parent", "this", "way", ":", "class", "child", "extends", "react", "{", "onclick", "(", ")", "=", ">", "{", "this.props.dosomething", "}", "render", "(", ")", "{", "return", "(", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "<", "/div", ">", ")", ";", "}", "}", "now", "the", "fianl", "stucture", "will", "look", "like", "this", ":", "<", "parent", ">", "{", "(", "dosomething", ")", "=", ">", "(", "<", "fragment", ">", "<", "child", "value=", "''", "1", "''", "dosomething=", "{", "dosomething", "}", ">", "<", "child", "value=", "''", "2", "''", "dosomething=", "{", "dosomething", "}", ">", "<", "fragment", "/", ">", ")", "}", "<", "/parent", ">", "when", "using", "functional", "components", ",", "you", "will", "often", "get", "the", "typeerror", ":", "can", "not", "add", "property", "mynewprop", ",", "object", "is", "not", "extensible", "error", "when", "trying", "to", "set", "new", "properties", "on", "props.children", ".", "there", "is", "a", "work", "around", "to", "this", "by", "cloning", "the", "props", "and", "then", "cloning", "the", "child", "itself", "with", "the", "new", "props", ".", "const", "myparentcomponent", "=", "(", "props", ")", "=", ">", "{", "return", "(", "<", "div", "classname='whatever", "'", ">", "{", "props.children.map", "(", "(", "child", ")", "=", ">", "{", "const", "newprops", "=", "{", "...", "child.props", "}", "//", "set", "new", "props", "here", "on", "newprops", "newprops.mynewprop", "=", "'something", "'", "const", "preparedchild", "=", "{", "...", "child", ",", "props", ":", "newprops", "}", "return", "preparedchild", "}", ")", "}", "<", "/div", ">", ")", "}", "the", "slickest", "way", "to", "do", "this", ":", "{", "react.cloneelement", "(", "this.props.children", ",", "this.props", ")", "}", "for", "any", "one", "who", "has", "a", "single", "child", "element", "this", "should", "do", "it", ".", "{", "react.isvalidelement", "(", "this.props.children", ")", "?", "react.cloneelement", "(", "this.props.children", ",", "{", "...", "prop_you_want_to_pass", "}", ")", ":", "null", "}", "got", "inspired", "by", "all", "the", "answers", "above", "and", "this", "is", "what", "i", "have", "done", ".", "i", "am", "passing", "some", "props", "like", "some", "data", ",", "and", "some", "components", ".", "import", "react", "from", "``", "react", "''", ";", "const", "parent", "=", "(", "{", "children", "}", ")", "=", ">", "{", "const", "{", "setcheckoutdata", "}", "=", "actions.shop", ";", "const", "{", "input", ",", "fielderror", "}", "=", "libraries.theme.components.forms", ";", "const", "onsubmit", "=", "(", "data", ")", "=", ">", "{", "setcheckoutdata", "(", "data", ")", ";", "}", ";", "const", "childrenwithprops", "=", "react.children.map", "(", "children", ",", "(", "child", ")", "=", ">", "react.cloneelement", "(", "child", ",", "{", "input", ":", "input", ",", "fielderror", ":", "fielderror", ",", "onsubmit", ":", "onsubmit", ",", "}", ")", ")", ";", "return", "<", ">", "{", "childrenwithprops", "}", "<", "/", ">", ";", "}", ";", "is", "this", "what", "you", "required", "?", "var", "parent", "=", "react.createclass", "(", "{", "dosomething", ":", "function", "(", "value", ")", "{", "}", "render", ":", "function", "(", ")", "{", "return", "<", "div", ">", "<", "child", "dosome=", "{", "this.dosomething", "}", "/", ">", "<", "/div", ">", "}", "}", ")", "var", "child", "=", "react.createclass", "(", "{", "onclick", ":", "function", "(", ")", "{", "this.props.dosome", "(", "value", ")", ";", "//", "dosomething", "is", "undefined", "}", ",", "render", ":", "function", "(", ")", "{", "return", "<", "div", "onclick=", "{", "this.onclick", "}", ">", "<", "/div", ">", "}", "}", ")", "some", "reason", "react.children", "was", "not", "working", "for", "me", ".", "this", "is", "what", "worked", "for", "me", ".", "i", "wanted", "to", "just", "add", "a", "class", "to", "the", "child", ".", "similar", "to", "changing", "a", "prop", "var", "newchildren", "=", "this.props.children.map", "(", "(", "child", ")", "=", ">", "{", "const", "classname", "=", "``", "menutooltip-item", "``", "+", "child.props.classname", ";", "return", "react.cloneelement", "(", "child", ",", "{", "classname", "}", ")", ";", "}", ")", ";", "return", "<", "div", ">", "{", "newchildren", "}", "<", "/div", ">", ";", "the", "trick", "here", "is", "the", "react.cloneelement", ".", "you", "can", "pass", "any", "prop", "in", "a", "similar", "manner", "render", "props", "is", "most", "accurate", "approach", "to", "this", "problem", ".", "instead", "of", "passing", "the", "child", "component", "to", "parent", "component", "as", "children", "props", ",", "let", "parent", "render", "child", "component", "manually", ".", "render", "is", "built-in", "props", "in", "react", ",", "which", "takes", "function", "parameter", ".", "in", "this", "function", "you", "can", "let", "parent", "component", "render", "whatever", "you", "want", "with", "custom", "parameters", ".", "basically", "it", "does", "the", "same", "thing", "as", "child", "props", "but", "it", "is", "more", "customizable", ".", "class", "child", "extends", "react.component", "{", "render", "(", ")", "{", "return", "<", "div", "classname=", "''", "child", "''", ">", "child", "<", "p", "onclick=", "{", "this.props.dosomething", "}", ">", "click", "me", "<", "/p", ">", "{", "this.props.a", "}", "<", "/div", ">", ";", "}", "}", "class", "parent", "extends", "react.component", "{", "dosomething", "(", ")", "{", "alert", "(", "``", "parent", "talks", "''", ")", ";", "}", "render", "(", ")", "{", "return", "<", "div", "classname=", "''", "parent", "''", ">", "parent", "{", "this.props.render", "(", "{", "anythingtopasschildren:1", ",", "dosomething", ":", "this.dosomething", "}", ")", "}", "<", "/div", ">", ";", "}", "}", "class", "application", "extends", "react.component", "{", "render", "(", ")", "{", "return", "<", "div", ">", "<", "parent", "render=", "{", "props", "=", ">", "<", "child", "{", "...", "props", "}", "/", ">", "}", "/", ">", "<", "/div", ">", ";", "}", "}", "example", "at", "codepen", "i", "came", "to", "this", "post", "while", "researching", "for", "a", "similar", "need", ",", "but", "i", "felt", "cloning", "solution", "that", "is", "so", "popular", ",", "to", "be", "too", "raw", "and", "takes", "my", "focus", "away", "from", "the", "functionality", ".", "i", "found", "an", "article", "in", "react", "documents", "higher", "order", "components", "here", "is", "my", "sample", ":", "import", "react", "from", "'react", "'", ";", "const", "withform", "=", "(", "viewcomponent", ")", "=", ">", "{", "return", "(", "props", ")", "=", ">", "{", "const", "myparam", "=", "``", "custom", "param", "''", ";", "return", "(", "<", ">", "<", "div", "style=", "{", "{", "border", ":", "''", "2px", "solid", "black", "''", ",", "margin", ":", "''", "10px", "''", "}", "}", ">", "<", "div", ">", "this", "is", "poc", "form", "<", "/div", ">", "<", "div", ">", "<", "viewcomponent", "myparam=", "{", "myparam", "}", "{", "...", "props", "}", ">", "<", "/viewcomponent", ">", "<", "/div", ">", "<", "/div", ">", "<", "/", ">", ")", "}", "}", "export", "default", "withform", ";", "const", "pocquickview", "=", "(", "props", ")", "=", ">", "{", "return", "(", "<", "div", "style=", "{", "{", "border", ":", "''", "1px", "solid", "grey", "''", "}", "}", ">", "<", "div", ">", "this", "is", "poc", "quick", "view", "and", "it", "is", "meant", "to", "show", "when", "mouse", "hovers", "over", "a", "link", "<", "/div", ">", "<", "/div", ">", ")", "}", "export", "default", "withform", "(", "pocquickview", ")", ";", "for", "me", "i", "found", "a", "flexible", "solution", "in", "implementing", "the", "pattern", "of", "higher", "order", "components", ".", "of", "course", "it", "depends", "on", "the", "functionality", ",", "but", "it", "is", "good", "if", "someone", "else", "is", "looking", "for", "a", "similar", "requirement", ",", "it", "is", "much", "better", "than", "being", "dependent", "on", "raw", "level", "react", "code", "like", "cloning", ".", "other", "pattern", "that", "i", "actively", "use", "is", "the", "container", "pattern", ".", "do", "read", "about", "it", ",", "there", "are", "many", "articles", "out", "there", "."]